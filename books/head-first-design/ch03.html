<!--[if IE]><![endif]--><!DOCTYPE html><!--[if IE 8]><html class="no-js ie8 oldie" lang="en" prefix="og: http://ogp.me/ns/# og:book: http://ogp.me/ns/book# og:video: http://ogp.me/ns/video#"

    
        itemscope itemtype="http://schema.org/Book http://schema.org/ItemPage" data-login-url="/accounts/login/"
data-offline-url="/"
data-url="/library/view/head-first-design/0596007124/ch03.html"
data-csrf-cookie="csrfsafari"
data-highlight-privacy="public"


  data-user-id="2198516"
  data-user-uuid="48b847cc-4100-401a-9732-d0a93f06ed1e"
  data-username="Evan_l00"
  data-account-type="B2B"
  
  data-activated-trial-date=""


  data-archive="0596007124"
  data-publishers="O&#39;Reilly Media, Inc."



  data-htmlfile-name="ch03.html"
  data-epub-title="Head First Design Patterns" data-debug=0 data-testing=0><![endif]--><!--[if gt IE 8]><!--><html class="no-js" lang="en" prefix="og: http://ogp.me/ns/# og:book: http://ogp.me/ns/book# og:video: http://ogp.me/ns/video#"

    
        itemscope itemtype="http://schema.org/Book http://schema.org/ItemPage" data-login-url="/accounts/login/"
data-offline-url="/"
data-url="/library/view/head-first-design/0596007124/ch03.html"
data-csrf-cookie="csrfsafari"
data-highlight-privacy="public"


  data-user-id="2198516"
  data-user-uuid="48b847cc-4100-401a-9732-d0a93f06ed1e"
  data-username="Evan_l00"
  data-account-type="B2B"
  
  data-activated-trial-date=""


  data-archive="0596007124"
  data-publishers="O&#39;Reilly Media, Inc."



  data-htmlfile-name="ch03.html"
  data-epub-title="Head First Design Patterns" data-debug=0 data-testing=0><!--<![endif]--><head><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="author" content="Safari Books Online" /><meta name="format-detection" content="telephone=no"><meta http-equiv="cleartype" content="on"/><meta name="HandheldFriendly" content="True"/><meta name="MobileOptimized" content="320"/><meta name="apple-itunes-app" content="app-id=881697395, app-argument=safaridetail://0596007124"/><meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, maximum-scale=1.0"/><meta property="twitter:account_id" content="4503599627559754" /><script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(e,n,t){function r(t){if(!n[t]){var o=n[t]={exports:{}};e[t][0].call(o.exports,function(n){var o=e[t][1][n];return r(o||n)},o,o.exports)}return n[t].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<t.length;o++)r(t[o]);return r}({1:[function(e,n,t){function r(){}function o(e,n,t){return function(){return i(e,[c.now()].concat(u(arguments)),n?null:this,t),n?void 0:this}}var i=e("handle"),a=e(3),u=e(4),f=e("ee").get("tracer"),c=e("loader"),s=NREUM;"undefined"==typeof window.newrelic&&(newrelic=s);var p=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],d="api-",l=d+"ixn-";a(p,function(e,n){s[n]=o(d+n,!0,"api")}),s.addPageAction=o(d+"addPageAction",!0),s.setCurrentRouteName=o(d+"routeName",!0),n.exports=newrelic,s.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(e,n){var t={},r=this,o="function"==typeof n;return i(l+"tracer",[c.now(),e,t],r),function(){if(f.emit((o?"":"no-")+"fn-start",[c.now(),r,o],t),o)try{return n.apply(this,arguments)}catch(e){throw f.emit("fn-err",[arguments,this,e],t),e}finally{f.emit("fn-end",[c.now()],t)}}}};a("actionText,setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(e,n){m[n]=o(l+n)}),newrelic.noticeError=function(e,n){"string"==typeof e&&(e=new Error(e)),i("err",[e,c.now(),!1,n])}},{}],2:[function(e,n,t){function r(e,n){if(!o)return!1;if(e!==o)return!1;if(!n)return!0;if(!i)return!1;for(var t=i.split("."),r=n.split("."),a=0;a<r.length;a++)if(r[a]!==t[a])return!1;return!0}var o=null,i=null,a=/Version\/(\S+)\s+Safari/;if(navigator.userAgent){var u=navigator.userAgent,f=u.match(a);f&&u.indexOf("Chrome")===-1&&u.indexOf("Chromium")===-1&&(o="Safari",i=f[1])}n.exports={agent:o,version:i,match:r}},{}],3:[function(e,n,t){function r(e,n){var t=[],r="",i=0;for(r in e)o.call(e,r)&&(t[i]=n(r,e[r]),i+=1);return t}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],4:[function(e,n,t){function r(e,n,t){n||(n=0),"undefined"==typeof t&&(t=e?e.length:0);for(var r=-1,o=t-n||0,i=Array(o<0?0:o);++r<o;)i[r]=e[n+r];return i}n.exports=r},{}],5:[function(e,n,t){n.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(e,n,t){function r(){}function o(e){function n(e){return e&&e instanceof r?e:e?f(e,u,i):i()}function t(t,r,o,i){if(!d.aborted||i){e&&e(t,r,o);for(var a=n(o),u=v(t),f=u.length,c=0;c<f;c++)u[c].apply(a,r);var p=s[y[t]];return p&&p.push([b,t,r,a]),a}}function l(e,n){h[e]=v(e).concat(n)}function m(e,n){var t=h[e];if(t)for(var r=0;r<t.length;r++)t[r]===n&&t.splice(r,1)}function v(e){return h[e]||[]}function g(e){return p[e]=p[e]||o(t)}function w(e,n){c(e,function(e,t){n=n||"feature",y[t]=n,n in s||(s[n]=[])})}var h={},y={},b={on:l,addEventListener:l,removeEventListener:m,emit:t,get:g,listeners:v,context:n,buffer:w,abort:a,aborted:!1};return b}function i(){return new r}function a(){(s.api||s.feature)&&(d.aborted=!0,s=d.backlog={})}var u="nr@context",f=e("gos"),c=e(3),s={},p={},d=n.exports=o();d.backlog=s},{}],gos:[function(e,n,t){function r(e,n,t){if(o.call(e,n))return e[n];var r=t();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return e[n]=r,r}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],handle:[function(e,n,t){function r(e,n,t,r){o.buffer([e],r),o.emit(e,n,t)}var o=e("ee").get("handle");n.exports=r,r.ee=o},{}],id:[function(e,n,t){function r(e){var n=typeof e;return!e||"object"!==n&&"function"!==n?-1:e===window?0:a(e,i,function(){return o++})}var o=1,i="nr@id",a=e("gos");n.exports=r},{}],loader:[function(e,n,t){function r(){if(!E++){var e=x.info=NREUM.info,n=l.getElementsByTagName("script")[0];if(setTimeout(s.abort,3e4),!(e&&e.licenseKey&&e.applicationID&&n))return s.abort();c(y,function(n,t){e[n]||(e[n]=t)}),f("mark",["onload",a()+x.offset],null,"api");var t=l.createElement("script");t.src="https://"+e.agent,n.parentNode.insertBefore(t,n)}}function o(){"complete"===l.readyState&&i()}function i(){f("mark",["domContent",a()+x.offset],null,"api")}function a(){return O.exists&&performance.now?Math.round(performance.now()):(u=Math.max((new Date).getTime(),u))-x.offset}var u=(new Date).getTime(),f=e("handle"),c=e(3),s=e("ee"),p=e(2),d=window,l=d.document,m="addEventListener",v="attachEvent",g=d.XMLHttpRequest,w=g&&g.prototype;NREUM.o={ST:setTimeout,SI:d.setImmediate,CT:clearTimeout,XHR:g,REQ:d.Request,EV:d.Event,PR:d.Promise,MO:d.MutationObserver};var h=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1130.min.js"},b=g&&w&&w[m]&&!/CriOS/.test(navigator.userAgent),x=n.exports={offset:u,now:a,origin:h,features:{},xhrWrappable:b,userAgent:p};e(1),l[m]?(l[m]("DOMContentLoaded",i,!1),d[m]("load",r,!1)):(l[v]("onreadystatechange",o),d[v]("onload",r)),f("mark",["firstbyte",u],null,"api");var E=0,O=e(5)},{}]},{},["loader"]);</script><link rel="apple-touch-icon" href="/static/images/apple-touch-icon.0c29511d2d72.png"/><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,900,200italic,300italic,400italic,600italic,700italic,900italic' rel='stylesheet' type='text/css'><title>3. The Decorator Pattern: Decorating Objects - Head First Design Patterns</title><link rel="stylesheet" href="/static/CACHE/css/output.68851547a55f.css" type="text/css" /><link rel="stylesheet" type="text/css" href="/static/css/annotator.e3b0c44298fc.css"/><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css"><style type="text/css" title="ibis-book">
    @charset "utf-8";#sbo-rt-content html,#sbo-rt-content div,#sbo-rt-content div,#sbo-rt-content span,#sbo-rt-content applet,#sbo-rt-content object,#sbo-rt-content iframe,#sbo-rt-content h1,#sbo-rt-content h2,#sbo-rt-content h3,#sbo-rt-content h4,#sbo-rt-content h5,#sbo-rt-content h6,#sbo-rt-content p,#sbo-rt-content blockquote,#sbo-rt-content pre,#sbo-rt-content a,#sbo-rt-content abbr,#sbo-rt-content acronym,#sbo-rt-content address,#sbo-rt-content big,#sbo-rt-content cite,#sbo-rt-content code,#sbo-rt-content del,#sbo-rt-content dfn,#sbo-rt-content em,#sbo-rt-content font,#sbo-rt-content img,#sbo-rt-content ins,#sbo-rt-content kbd,#sbo-rt-content q,#sbo-rt-content s,#sbo-rt-content samp,#sbo-rt-content small,#sbo-rt-content strike,#sbo-rt-content strong,#sbo-rt-content sub,#sbo-rt-content sup,#sbo-rt-content tt,#sbo-rt-content var,#sbo-rt-content b,#sbo-rt-content u,#sbo-rt-content i,#sbo-rt-content center,#sbo-rt-content dl,#sbo-rt-content dt,#sbo-rt-content dd,#sbo-rt-content ol,#sbo-rt-content ul,#sbo-rt-content li,#sbo-rt-content fieldset,#sbo-rt-content form,#sbo-rt-content label,#sbo-rt-content legend,#sbo-rt-content table,#sbo-rt-content caption,#sbo-rt-content tdiv,#sbo-rt-content tfoot,#sbo-rt-content thead,#sbo-rt-content tr,#sbo-rt-content th,#sbo-rt-content td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}@page{margin:5px !important}#sbo-rt-content p{margin:8px 0 0;line-height:125%;text-align:left}#sbo-rt-content em{font-style:italic;font-family:inherit}#sbo-rt-content em.replaceable{font-style:italic}#sbo-rt-content em strong,#sbo-rt-content strong em{font-weight:bold;font-style:italic;font-family:inherit}#sbo-rt-content strong.userinput{font-weight:bold;font-style:normal}#sbo-rt-content span.bolditalic{font-weight:bold;font-style:italic}#sbo-rt-content strong,#sbo-rt-content span.bold{font-weight:bold}#sbo-rt-content a.ulink,#sbo-rt-content a.xref,#sbo-rt-content a.email,#sbo-rt-content a.link{text-decoration:none;color:#8e0012}#sbo-rt-content sup{font-size:x-small;vertical-align:super}#sbo-rt-content sub{font-size:smaller;vertical-align:sub}#sbo-rt-content span.lineannotation{font-style:italic;color:#A62A2A;font-family:serif,"DejaVuSerif"}#sbo-rt-content span.underline{text-decoration:underline}#sbo-rt-content span.strikethrough{text-decoration:line-through}#sbo-rt-content span.smallcaps{font-variant:small-caps}#sbo-rt-content span.cursor{background:#000;color:#FFF}#sbo-rt-content span.smaller{font-size:75%}#sbo-rt-content .boxedtext,#sbo-rt-content .keycap{border-style:solid;border-width:1px;border-color:#000;padding:1px}#sbo-rt-content span.gray50{color:#7F7F7F;}#sbo-rt-content .gray-background,#sbo-rt-content .reverse-video{background:#2E2E2E;color:#FFF}#sbo-rt-content .light-gray-background{background:#A0A0A0}#sbo-rt-content .preserve-whitespace{white-space:pre-wrap}#sbo-rt-content h1,#sbo-rt-content div.toc-title,#sbo-rt-content h2,#sbo-rt-content h3,#sbo-rt-content h4,#sbo-rt-content h5{-webkit-hyphens:none;hyphens:none;adobe-hyphenate:none;font-weight:bold;text-align:left;page-break-after:avoid !important;font-family:sans-serif,"DejaVuSans"}#sbo-rt-content h1,#sbo-rt-content div.toc-title{font-size:1.5em;margin-top:20px !important}#sbo-rt-content h2{font-size:1.3em;color:#8e0012;margin:40px 0 8px 0}#sbo-rt-content h3{font-size:1.1em;margin:30px 0 8px 0 !important}#sbo-rt-content h4{font-size:1em;color:#555;margin:20px 0 8px 0 !important}#sbo-rt-content h5{font-size:1em;font-weight:normal;font-style:italic;margin:15px 0 6px 0 !important}#sbo-rt-content section.chapter div.titlepage,#sbo-rt-content section.appendix div.titlepage,#sbo-rt-content section.preface div.titlepage{page-break-inside:avoid;page-break-after:avoid}#sbo-rt-content section.chapter>div.titlepage,#sbo-rt-content section.preface>div.titlepage,#sbo-rt-content section.appendix>div.titlepage{margin-bottom:50px}#sbo-rt-content section.chapter>div.titlepage h2.title,#sbo-rt-content section.preface>div.titlepage h2.title,#sbo-rt-content section.appendix>div.titlepage h2.title{font-size:2em;line-height:1;margin-bottom:15px;color:#000;padding-bottom:10px;border-bottom:1px solid #000}#sbo-rt-content div.toc-title{margin-bottom:30px !important}#sbo-rt-content div.part h1{font-size:2em;text-align:center;margin-top:0 !important;padding:50px 0 20px 0;border-bottom:1px solid #000}#sbo-rt-content img{max-width:95%;margin:0 auto;padding:0}#sbo-rt-content div.figure{background-color:transparent;text-align:center;-webkit-border-radius:5px;border-radius:5px;border:1px solid #DCDCDC;padding:15px 5px 15px 5px !important;margin:30px 0 30px 0 !important;max-height:100%;page-break-inside:avoid}#sbo-rt-content div.figure-title,#sbo-rt-content div.informalfigure div.caption{font-size:90%;text-align:center;font-weight:normal;font-style:italic;font-family:serif,"DejaVuSerif";color:#000;padding:5px !important;page-break-before:avoid;page-break-after:avoid}#sbo-rt-content div.informalfigure{text-align:center;padding:5px 0 !important}#sbo-rt-content div.sidebar{margin:30px 0 20px 0 !important;-webkit-border-radius:5px;border-radius:5px;border:1px solid #DCDCDC;background-color:#F7F7F7;font-size:90%;padding:15px !important;page-break-inside:avoid}#sbo-rt-content div.sidebar-title{font-weight:bold;font-size:1em;font-family:sans-serif,"DejaVuSans";text-transform:uppercase;letter-spacing:1px;text-align:center;margin:4px 0 6px 0 !important;page-break-inside:avoid}#sbo-rt-content div.sidebar div.figure p.title,#sbo-rt-content div.sidebar div.informalfigure div.caption{font-size:90%;text-align:center;font-weight:normal;font-style:italic;font-family:serif,"DejaVuSerif";color:#000;padding:5px !important;page-break-before:avoid;page-break-after:avoid}#sbo-rt-content div.sidebar ol{margin-left:15px}#sbo-rt-content div.sidebar div.tip,#sbo-rt-content div.sidebar div.note,#sbo-rt-content div.sidebar div.warning,#sbo-rt-content div.sidebar div.caution,#sbo-rt-content div.sidebar div.important{margin:20px auto 20px auto !important;font-size:90%;width:85%}#sbo-rt-content div.sidebar div.figure{border:none}#sbo-rt-content pre{white-space:pre-wrap;font-family:"Ubuntu Mono",monospace;margin:25px 0 25px 20px;font-size:85%;display:block;-webkit-hyphens:none;hyphens:none;adobe-hyphenate:none}#sbo-rt-content div.note pre.programlisting,#sbo-rt-content div.tip pre.programlisting,#sbo-rt-content div.warning pre.programlisting,#sbo-rt-content div.caution pre.programlisting,#sbo-rt-content div.important pre.programlisting{margin-bottom:0}#sbo-rt-content code{font-family:"Ubuntu Mono",monospace}#sbo-rt-content code strong em,#sbo-rt-content code em strong,#sbo-rt-content pre em strong,#sbo-rt-content pre strong em,#sbo-rt-content strong code em code,#sbo-rt-content em code strong code,#sbo-rt-content span.bolditalic code{font-weight:bold;font-style:italic;font-family:"Ubuntu Mono BoldItal",monospace}#sbo-rt-content code em,#sbo-rt-content em code,#sbo-rt-content pre em,#sbo-rt-content em.replaceable{font-family:"Ubuntu Mono Ital",monospace;font-style:italic}#sbo-rt-content code strong,#sbo-rt-content strong code,#sbo-rt-content pre strong,#sbo-rt-content strong.userinput{font-family:"Ubuntu Mono Bold",monospace;font-weight:bold}#sbo-rt-content div.example{margin:10px 0 15px 0 !important}#sbo-rt-content div.example-title{font-style:italic;font-weight:normal;font-family:serif,"DejaVuSerif";margin:10px 0 5px 0 !important;border-bottom:1px solid #000}#sbo-rt-content li pre.example{padding:10px 0 !important}#sbo-rt-content div.example-contents pre.programlisting,#sbo-rt-content div.example-contents pre.screen{margin:0}#sbo-rt-content span.gray{color:#4C4C4C}#sbo-rt-content div.book div.titlepage h1.title{font-size:3em;font-family:sans-serif,"DejaVuSans";font-weight:bold;margin:50px 0 10px 0 !important;line-height:1;text-align:center}#sbo-rt-content div.book div.titlepage h2.subtitle{text-align:center;color:#000;margin:0 !important;font-style:italic;font-family:serif;font-size:1.5em}#sbo-rt-content div.book div.titlepage div.author h3{font-size:2em;font-family:sans-serif,"DejaVuSans";font-weight:bold;color:#8e0012;margin:50px 0 !important;text-align:center}#sbo-rt-content div.book div.titlepage div.publishername{margin-top:60%;margin-bottom:20px;text-align:center;font-size:1.25em}#sbo-rt-content div.book div.titlepage div.locations p{margin:0;text-align:center}#sbo-rt-content div.book div.titlepage div.locations p.cities{font-size:80%;text-align:center;margin-top:5px}#sbo-rt-content section.preface[title="Dedication"]>div.titlepage h2.title{text-align:center;text-transform:uppercase;font-size:1.5em;margin-top:50px;margin-bottom:50px}#sbo-rt-content section.preface[title="Dedication"] p{font-style:italic;text-align:center}#sbo-rt-content div.colophon h1.title{font-size:1.3em;margin:0 !important;font-family:serif,"DejaVuSerif";font-weight:normal}#sbo-rt-content div.colophon h2.subtitle{margin:0 !important;color:#000;font-family:serif,"DejaVuSerif";font-size:1em;font-weight:normal}#sbo-rt-content div.colophon div.author h3.author{font-size:1.1em;font-family:serif,"DejaVuSerif";margin:10px 0 0 !important;font-weight:normal}#sbo-rt-content div.colophon div.editor h4,#sbo-rt-content div.colophon div.editor h3.editor{color:#000;font-size:.8em;margin:15px 0 0 !important;font-family:serif,"DejaVuSerif";font-weight:normal}#sbo-rt-content div.colophon div.editor h3.editor{font-size:.8em;margin:0 !important;font-family:serif,"DejaVuSerif";font-weight:normal}#sbo-rt-content div.colophon div.publisher{margin-top:10px}#sbo-rt-content div.colophon div.publisher p,#sbo-rt-content div.colophon div.publisher span.publishername{margin:0;font-size:.8em}#sbo-rt-content div.legalnotice p,#sbo-rt-content div.timestamp p{font-size:.8em}#sbo-rt-content div.timestamp p{margin-top:10pt}#sbo-rt-content div.colophon[title="About the Author"] h1.title,#sbo-rt-content div.colophon[title="Colophon"] h1.title{font-size:1.5em;margin:0 !important;font-family:sans-serif,"DejaVuSans";font-weight:bold}#sbo-rt-content section.chapter div.titlepage div.author{margin:10px 0 10px 0}#sbo-rt-content section.chapter div.titlepage div.author div.affiliation{font-style:italic}#sbo-rt-content div.attribution{margin:5px 0 0 50px !important}#sbo-rt-content h3.author span.orgname{display:none}#sbo-rt-content div.epigraph{margin:10px 0 10px 20px !important;page-break-inside:avoid;font-size:90%}#sbo-rt-content div.epigraph p{font-style:italic}#sbo-rt-content blockquote,#sbo-rt-content div.blockquote{margin:10px !important;page-break-inside:avoid;font-size:95%}#sbo-rt-content blockquote p,#sbo-rt-content div.blockquote p{font-family:serif,"DejaVuSerif";font-style:italic}#sbo-rt-content blockquote div.attribution{margin:5px 0 0 30px !important;text-align:right;width:80%}#sbo-rt-content blockquote div.attribution p{font-style:normal}#sbo-rt-content p.right{text-align:right;margin:0}#sbo-rt-content div.footnote{font-size:90%}#sbo-rt-content div.refnamediv h2,#sbo-rt-content div.refnamediv h3,#sbo-rt-content div.refsynopsisdiv h2{font-size:1.1em;color:#000;margin-top:15px !important;margin-bottom:0 !important}#sbo-rt-content div.refentry div.refsect1 h2{font-size:1.1em;color:#000;margin-top:15px !important;margin-bottom:0 !important}#sbo-rt-content div.refsect2 h3{font-size:1em;color:#000;margin-top:10px !important;margin-bottom:0 !important}#sbo-rt-content div.refnamediv p{margin-left:15px !important}#sbo-rt-content dt{padding-top:10px !important;padding-bottom:0 !important}#sbo-rt-content dt span.term{font-weight:bold;font-style:italic}#sbo-rt-content dt span.term code.literal{font-style:normal;font-weight:normal}#sbo-rt-content dt span.term em code.literal{font-style:italic}#sbo-rt-content dd{margin-left:1.5em !important}#sbo-rt-content dd,#sbo-rt-content li{text-align:left}#sbo-rt-content ol{list-style-type:decimal;margin-top:8px !important;margin-bottom:8px !important;margin-left:20px !important;padding-left:25px !important}#sbo-rt-content ol[type="A"]{list-style-type:upper-alpha}#sbo-rt-content ol[type="I"]{list-style-type:upper-roman}#sbo-rt-content ol[type="a"]{list-style-type:lower-alpha}#sbo-rt-content ol[type="i"]{list-style-type:lower-roman}#sbo-rt-content ol ol{list-style-type:lower-alpha}#sbo-rt-content ol ol ol{list-style-type:lower-roman}#sbo-rt-content ul{list-style-type:square;margin-top:8px !important;margin-bottom:8px !important;margin-left:5px !important;padding-left:20px !important}#sbo-rt-content ul ul{list-style-type:none;padding-left:0 !important;margin-left:0 !important}#sbo-rt-content ol li,#sbo-rt-content ul li,#sbo-rt-content dd{margin-bottom:1em}#sbo-rt-content ul ul li p:before{content:"— "}#sbo-rt-content ul ul ul li p:before{content:""}#sbo-rt-content ul ul ul{list-style-type:square;margin-left:20px !important;padding-left:30px !important}#sbo-rt-content div.orderedlistalpha{list-style-type:upper-alpha}#sbo-rt-content table.simplelist{margin-left:20px !important;margin-bottom:10px}#sbo-rt-content table.simplelist td{border:none;font-size:90%}#sbo-rt-content table.simplelist tr{border-bottom:none}#sbo-rt-content table.simplelist tr:nth-of-type(even){background-color:transparent}#sbo-rt-content div.calloutlist p:first-child{margin-top:-25px !important}#sbo-rt-content div.calloutlist dd{padding-left:0;margin-top:-25px}#sbo-rt-content div.calloutlist img{padding:0}#sbo-rt-content a.co img{padding:0}#sbo-rt-content div.calloutlist>dl>dd>div.orderedlist{margin-top:25pt}#sbo-rt-content div.calloutlist>dl>dd>div.orderedlist>ol.orderedlist>li{margin-bottom:25pt}#sbo-rt-content div.toc ol{margin-top:8px !important;margin-bottom:8px !important;margin-left:0 !important;padding-left:0 !important}#sbo-rt-content div.toc ol ol{margin-left:30px !important;padding-left:0 !important}#sbo-rt-content div.toc ol li{list-style-type:none}#sbo-rt-content div.toc a{color:#8e0012}#sbo-rt-content div.toc ol a{font-size:1em;font-weight:bold}#sbo-rt-content div.toc ol>li>ol a{font-weight:bold;font-size:1em}#sbo-rt-content div.toc ol>li>ol>li>ol a{text-decoration:none;font-weight:normal;font-size:1em}#sbo-rt-content div.tip,#sbo-rt-content div.note,#sbo-rt-content div.warning,#sbo-rt-content div.caution,#sbo-rt-content div.important{margin:30px !important;-webkit-border-radius:5px;border-radius:5px;font-size:90%;padding:10px 8px 20px 8px !important;page-break-inside:avoid}#sbo-rt-content div.tip,#sbo-rt-content div.note,#sbo-rt-content div.important{border:1px solid #BEBEBE;background-color:transparent}#sbo-rt-content div.warning,#sbo-rt-content div.caution{border:1px solid #BC8F8F}#sbo-rt-content div.tip h3,#sbo-rt-content div.note h3,#sbo-rt-content div.warning h3,#sbo-rt-content div.caution h3,#sbo-rt-content div.important h3{font:bold 90%;font-family:sans-serif,"DejaVuSans";text-transform:uppercase;letter-spacing:1px;text-align:center;margin:4px 0 6px !important}#sbo-rt-content div.tip h3,#sbo-rt-content div.note h3,#sbo-rt-content div.important h3{color:#737373}#sbo-rt-content div.warning h3,#sbo-rt-content div.caution h3{color:#C67171}#sbo-rt-content div.sect1[title="Safari® Books Online"] div.note{background-color:transparent;margin:8px 0 0 !important;border:0 solid #BEBEBE;-webkit-border-radius:0;border-radius:0;font-size:100%;padding:0 !important;page-break-inside:avoid}#sbo-rt-content div.sect1[title="Safari® Books Online"] div.note h3{display:none}#sbo-rt-content div.table,#sbo-rt-content table{margin:15px auto 30px auto !important;max-width:95%;border-collapse:collapse;border-spacing:0}#sbo-rt-content div.table,#sbo-rt-content div.informaltable{page-break-inside:avoid}#sbo-rt-content tr{border-bottom:1px solid #c3c3c3}#sbo-rt-content thead td{border-bottom:#9d9d9d 1px solid !important;border-top:#9d9d9d 1px solid !important}#sbo-rt-content tr:nth-of-type(even){background-color:#f1f6fc}#sbo-rt-content thead{font-family:sans-serif,"DejaVuSans";color:#000;font-weight:bold}#sbo-rt-content td{padding:.3em;text-align:left;vertical-align:baseline;font-size:80%}#sbo-rt-content div.informaltable table{margin:10px auto !important}#sbo-rt-content div.informaltable table tr{border-bottom:none}#sbo-rt-content div.informaltable table tr:nth-of-type(even){background-color:transparent}#sbo-rt-content div.informaltable td,#sbo-rt-content div.informaltable th{border:#9d9d9d 1px solid}#sbo-rt-content div.table-title{font-weight:normal;font-style:italic;font-family:serif,"DejaVuSerif";margin:20px 0 0 0 !important;text-align:center;padding:0}#sbo-rt-content table code{font-size:smaller}#sbo-rt-content div.equation{margin:10px 0 15px 0 !important}#sbo-rt-content div.equation-title{font-style:italic;font-weight:normal;font-family:serif,"DejaVuSerif";margin:20px 0 10px 0 !important;page-break-after:avoid}#sbo-rt-content div.equation-contents{margin-left:20px}#sbo-rt-content span.inlinemediaobject{height:.85em;display:inline-block;margin-bottom:.2em}#sbo-rt-content span.inlinemediaobject img{margin:0;height:.85em}#sbo-rt-content div.informalequation{margin:20px 0 20px 20px;width:75%}#sbo-rt-content div.informalequation img{width:75%}#sbo-rt-content div.index{font-weight:bold}#sbo-rt-content div.index dt{line-height:140%}#sbo-rt-content div.index a.indexterm{color:#8e0012}#sbo-rt-content code.boolean,#sbo-rt-content .navy{color:rgb(0,0,128);}#sbo-rt-content code.character,#sbo-rt-content .olive{color:rgb(128,128,0);}#sbo-rt-content code.comment,#sbo-rt-content .blue{color:rgb(0,0,255);}#sbo-rt-content code.conditional,#sbo-rt-content .limegreen{color:rgb(50,205,50);}#sbo-rt-content code.constant,#sbo-rt-content .darkorange{color:rgb(255,140,0);}#sbo-rt-content code.debug,#sbo-rt-content .darkred{color:rgb(139,0,0);}#sbo-rt-content code.define,#sbo-rt-content .darkgoldenrod,#sbo-rt-content .gold{color:rgb(184,134,11);}#sbo-rt-content code.delimiter,#sbo-rt-content .dimgray{color:rgb(105,105,105);}#sbo-rt-content code.error,#sbo-rt-content .red{color:rgb(255,0,0);}#sbo-rt-content code.exception,#sbo-rt-content .salmon{color:rgb(250,128,11);}#sbo-rt-content code.float,#sbo-rt-content .steelblue{color:rgb(70,130,180);}#sbo-rt-content pre code.function,#sbo-rt-content .green{color:rgb(0,128,0);}#sbo-rt-content code.identifier,#sbo-rt-content .royalblue{color:rgb(65,105,225);}#sbo-rt-content code.ignore,#sbo-rt-content .gray{color:rgb(128,128,128);}#sbo-rt-content code.include,#sbo-rt-content .purple{color:rgb(128,0,128);}#sbo-rt-content code.keyword,#sbo-rt-content .sienna{color:rgb(160,82,45);}#sbo-rt-content code.label,#sbo-rt-content .deeppink{color:rgb(255,20,147);}#sbo-rt-content code.macro,#sbo-rt-content .orangered{color:rgb(255,69,0);}#sbo-rt-content code.number,#sbo-rt-content .brown{color:rgb(165,42,42);}#sbo-rt-content code.operator,#sbo-rt-content .black{color:#000;}#sbo-rt-content code.preCondit,#sbo-rt-content .teal{color:rgb(0,128,128);}#sbo-rt-content code.preProc,#sbo-rt-content .fuschia{color:rgb(255,0,255);}#sbo-rt-content code.repeat,#sbo-rt-content .indigo{color:rgb(75,0,130);}#sbo-rt-content code.special,#sbo-rt-content .saddlebrown{color:rgb(139,69,19);}#sbo-rt-content code.specialchar,#sbo-rt-content .magenta{color:rgb(255,0,255);}#sbo-rt-content code.specialcomment,#sbo-rt-content .seagreen{color:rgb(46,139,87);}#sbo-rt-content code.statement,#sbo-rt-content .forestgreen{color:rgb(34,139,34);}#sbo-rt-content code.storageclass,#sbo-rt-content .plum{color:rgb(221,160,221);}#sbo-rt-content code.string,#sbo-rt-content .darkred{color:rgb(139,0,0);}#sbo-rt-content code.structure,#sbo-rt-content .chocolate{color:rgb(210,106,30);}#sbo-rt-content code.tag,#sbo-rt-content .darkcyan{color:rgb(0,139,139);}#sbo-rt-content code.todo,#sbo-rt-content .black{color:#000;}#sbo-rt-content code.type,#sbo-rt-content .mediumslateblue{color:rgb(123,104,238);}#sbo-rt-content code.typedef,#sbo-rt-content .darkgreen{color:rgb(0,100,0);}#sbo-rt-content code.underlined{text-decoration:underline;}#sbo-rt-content pre code.hll{background-color:#ffc}#sbo-rt-content pre code.c{color:#09F;font-style:italic}#sbo-rt-content pre code.err{color:#A00}#sbo-rt-content pre code.k{color:#069;font-weight:bold}#sbo-rt-content pre code.o{color:#555}#sbo-rt-content pre code.cm{color:#35586C;font-style:italic}#sbo-rt-content pre code.cp{color:#099}#sbo-rt-content pre code.c1{color:#35586C;font-style:italic}#sbo-rt-content pre code.cs{color:#35586C;font-weight:bold;font-style:italic}#sbo-rt-content pre code.gd{background-color:#FCC}#sbo-rt-content pre code.ge{font-style:italic}#sbo-rt-content pre code.gr{color:#F00}#sbo-rt-content pre code.gh{color:#030;font-weight:bold}#sbo-rt-content pre code.gi{background-color:#CFC}#sbo-rt-content pre code.go{color:#000}#sbo-rt-content pre code.gp{color:#009;font-weight:bold}#sbo-rt-content pre code.gs{font-weight:bold}#sbo-rt-content pre code.gu{color:#030;font-weight:bold}#sbo-rt-content pre code.gt{color:#9C6}#sbo-rt-content pre code.kc{color:#069;font-weight:bold}#sbo-rt-content pre code.kd{color:#069;font-weight:bold}#sbo-rt-content pre code.kn{color:#069;font-weight:bold}#sbo-rt-content pre code.kp{color:#069}#sbo-rt-content pre code.kr{color:#069;font-weight:bold}#sbo-rt-content pre code.kt{color:#078;font-weight:bold}#sbo-rt-content pre code.m{color:#F60}#sbo-rt-content pre code.s{color:#C30}#sbo-rt-content pre code.na{color:#309}#sbo-rt-content pre code.nb{color:#366}#sbo-rt-content pre code.nc{color:#0A8;font-weight:bold}#sbo-rt-content pre code.no{color:#360}#sbo-rt-content pre code.nd{color:#99F}#sbo-rt-content pre code.ni{color:#999;font-weight:bold}#sbo-rt-content pre code.ne{color:#C00;font-weight:bold}#sbo-rt-content pre code.nf{color:#C0F}#sbo-rt-content pre code.nl{color:#99F}#sbo-rt-content pre code.nn{color:#0CF;font-weight:bold}#sbo-rt-content pre code.nt{color:#309;font-weight:bold}#sbo-rt-content pre code.nv{color:#033}#sbo-rt-content pre code.ow{color:#000;font-weight:bold}#sbo-rt-content pre code.w{color:#bbb}#sbo-rt-content pre code.mf{color:#F60}#sbo-rt-content pre code.mh{color:#F60}#sbo-rt-content pre code.mi{color:#F60}#sbo-rt-content pre code.mo{color:#F60}#sbo-rt-content pre code.sb{color:#C30}#sbo-rt-content pre code.sc{color:#C30}#sbo-rt-content pre code.sd{color:#C30;font-style:italic}#sbo-rt-content pre code.s2{color:#C30}#sbo-rt-content pre code.se{color:#C30;font-weight:bold}#sbo-rt-content pre code.sh{color:#C30}#sbo-rt-content pre code.si{color:#A00}#sbo-rt-content pre code.sx{color:#C30}#sbo-rt-content pre code.sr{color:#3AA}#sbo-rt-content pre code.s1{color:#C30}#sbo-rt-content pre code.ss{color:#A60}#sbo-rt-content pre code.bp{color:#366}#sbo-rt-content pre code.vc{color:#033}#sbo-rt-content pre code.vg{color:#033}#sbo-rt-content pre code.vi{color:#033}#sbo-rt-content pre code.il{color:#F60}#sbo-rt-content pre code.g{color:#050}#sbo-rt-content pre code.l{color:#C60}#sbo-rt-content pre code.l{color:#F90}#sbo-rt-content pre code.n{color:#008}#sbo-rt-content pre code.nx{color:#008}#sbo-rt-content pre code.py{color:#96F}#sbo-rt-content pre code.p{color:#000}#sbo-rt-content pre code.x{color:#F06}#sbo-rt-content div.blockquote_sampler_toc{width:95%;margin:5px 5px 5px 10px !important}#sbo-rt-content div{font-family:serif,"DejaVuSerif";text-align:left}
    </style><script> // <![CDATA[
    var g = {
      position_cache: {
        
          "chapter": "/api/v1/book/0596007124/chapter/ch03.html",
          "book_id": "0596007124",
          "chapter_uri": "ch03.html",
          "position": 0,
          "user_uuid": "48b847cc-4100-401a-9732-d0a93f06ed1e",
          "next_chapter_uri": "/library/view/head-first-design/0596007124/ch04.html"
        
      },
      title: "Head First Design Patterns",
      author_list: "Kathy Sierra, Bert Bates, Elisabeth Robson, Eric Freeman",
      format: "book",
      source: "application/epub+zip",
      is_system_book: true,
      is_public: false,
      loaded_from_server: true,
      allow_scripts: false,
      has_mathml: false
    };
    // ]]></script><script src="/static/js/src/modernizr.8e35451ddb64.js"></script><script>
    
      

      
        
          window.PUBLIC_ANNOTATIONS = true;
        
      

      window.MOBILE_PUBLIC_ANNOTATIONS = false;

    

    
      window.PRIVACY_CONTROL_OVERRIDE = false;
    

      window.PRIVACY_CONTROL_SWITCH = true;

      window.PUBLISHER_PAGES = true;

      window.SBO = {
        "constants": {
          "SITB_ENDPOINT": "/api/v2/sitb/",
          "SEARCH_SELECT_ENDPOINT": "https://learning.oreilly.com/api/v2/search/select/",
          "ENABLE_ONLINE_TRAINING": true
        }
      };
  </script><link rel="canonical" href="https://learning.oreilly.com/library/view/head-first-design/0596007124/ch03.html"/><meta name="description" content="Chapter 3. The Decorator Pattern: Decorating Objects Just call this chapter “Design Eye for the Inheritance Guy.” We’ll re-examine the typical overuse of inheritance and you’ll learn how to decorate your classes ... "><meta property="og:title" content="3. The Decorator Pattern: Decorating Objects" /><meta itemprop="isPartOf" content="/library/view/head-first-design/0596007124/" /><meta itemprop="name" content="3. The Decorator Pattern: Decorating Objects" /><meta property="og:url" itemprop="url" content="https://learning.oreilly.com/library/view/head-first-design/0596007124/ch03.html" /><meta property="og:site_name" content="Safari" /><meta property="og:image" itemprop="thumbnailUrl" content="https://learning.oreilly.com/library/cover/0596007124/" /><meta property="og:description" itemprop="description" content="Chapter 3. The Decorator Pattern: Decorating Objects Just call this chapter “Design Eye for the Inheritance Guy.” We’ll re-examine the typical overuse of inheritance and you’ll learn how to decorate your classes ... "><meta itemprop="inLanguage" content="en" /><meta itemprop="publisher" content="O&#39;Reilly Media, Inc." /><meta property="og:type" content="book" /><meta property="og:book:isbn" itemprop="isbn" content="9780596007126" /><meta property="og:book:author" itemprop="author" content="Kathy Sierra" /><meta property="og:book:author" itemprop="author" content="Bert Bates" /><meta property="og:book:author" itemprop="author" content="Elisabeth Robson" /><meta property="og:book:author" itemprop="author" content="Eric Freeman" /><meta property="og:book:tag" itemprop="about" content="Core Programming" /><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@safari"><style type="text/css" id="font-styles" data-template="#sbo-rt-content, #sbo-rt-content p, #sbo-rt-content div { font-size: <%= font_size %> !important; }"></style><style type="text/css" id="font-family" data-template="#sbo-rt-content, #sbo-rt-content p, #sbo-rt-content div { font-family: <%= font_family %> !important; }"></style><style type="text/css" id="column-width" data-template="#sbo-rt-content { max-width: <%= column_width %>% !important; margin: 0 auto !important; }"></style><noscript><meta http-equiv="refresh" content="0; url=/library/no-js/" /></noscript><script type="text/javascript">
    (function(i,s,o,g,r,a,m) {
      i['GoogleAnalyticsObject']=r;
      i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();
      a=s.createElement(o),m=s.getElementsByTagName(o)[0];
      a.async=1;
      a.src=g;
      m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    var matches = document.cookie.match(/BrowserCookie\s*=\s*([a-f0-9\-]{36})/),
      user_uuid = null;

    if (matches && matches.length === 2) {
      user_uuid = matches[1];
    }

  
    ga('create', 'UA-39299553-7', {'userId': '48b847cc-4100-401a-9732-d0a93f06ed1e' });
  

  
    
      ga('set', 'dimension1', 'B2B');
    
  

  ga('set', 'dimension6', user_uuid);

  
    ga('set', 'dimension2', '48b847cc-4100-401a-9732-d0a93f06ed1e');
    
      ga('set', 'dimension7', '0014100001N37poAAB');
    
  

  

  

  //enable enhanced link tracking
  ga('require', 'linkid', 'linkid.js');

  // reading interface will track pageviews itself
  if (document.location.pathname.indexOf("/library/view") !== 0) {
    ga('send', 'pageview');
  }
  </script><script>
    var dataLayer = window.dataLayer || [];

    
      window.medalliaVsgUserIdentifier = '48b847cc-4100-401a-9732-d0a93f06ed1e';
      dataLayer.push({userIdentifier: '48b847cc-4100-401a-9732-d0a93f06ed1e'});
      dataLayer.push({loggedIn: 'yes'});

      
        window.medalliaVsgAccountIdentifier = '555c1d98-46da-46de-8ca0-0032dbcc46d2';
        
        dataLayer.push({orgID: '555c1d98-46da-46de-8ca0-0032dbcc46d2'});
        

        window.medalliaVsgIsIndividual = false;
        
          
          dataLayer.push({learningAccountType: 'enterprise'});
          
        

        
          dataLayer.push({learningPaidAccount: 'yes'});
        
      
    

    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-5P4V6Z');
    (function () {
      var VERSION = 'V1.1';
      var AUTHOR = 'Awwad';
      if (!window.GtmHelper)
        window.GtmHelper = function () {
          var instance = this;
          var loc = document.location;
          this.version = VERSION;
          this.author = AUTHOR;
          this.readCookie = function (name) {
            var nameEQ = name + "=";
            var ca = document.cookie.split(';');
            for (var i = 0; i < ca.length; i++) {
              var c = ca[i];
              while (c.charAt(0) == ' ') c = c.substring(1, c.length);
              if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
            }
            return null;
          };
          this.createCookie = function (name, value, days, cookieDomain) {
            var domain = "";
            var expires = "";

            if (days) {
              var date = new Date();
              date.setTime(date.getTime() + Math.ceil(days * 24 * 60 * 60 * 1000));
              var expires = " expires=" + date.toGMTString() + ";";
            }

            if (typeof (cookieDomain) != 'undefined')
              domain = " domain=" + cookieDomain + "; ";

            document.cookie = name + "=" + value + ";" + expires + domain + "path=/";
          };

          this.isDuplicated = function (currentTransactionId) {
            // the previous transaction id:
            var previousTransIdValue = this.readCookie("previousTransId");

            if (currentTransactionId === previousTransIdValue) {
              return true; // Duplication
            } else {
              return false;
            }
          };
        }
    })()
  </script><script defer src="/static/js/build/vendor.75d9ef59282e.js"></script><script defer src="/static/js/build/reader.a89acaddae62.js"></script></head>


<body class="reading sidenav nav-collapsed  scalefonts">

    
  <noscript> 
    <iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P4V6Z"
            height="0" width="0"
            style="display:none;visibility:hidden">
    </iframe>
  </noscript>



    
      <div class="hide working" role="status">
        <div class="working-image"></div>
      </div>
      <div class="sbo-site-nav">
        

  




<a href="#container" class="skip">Skip to content</a><header class="topbar t-topbar"><nav role="navigation" class="js-site-nav"><ul class="topnav"><li class="t-logo"><a href="/home/" class="l0 None safari-home nav-icn js-keyboard-nav-home"><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M11.738 14H9.254v-3.676a.617.617 0 0 0-.621-.613H7.39a.617.617 0 0 0-.62.613V14H4.284a.617.617 0 0 1-.622-.613V10.22c0-.327.132-.64.367-.87l3.547-3.493a.627.627 0 0 1 .875 0l3.54 3.499c.234.229.366.54.367.864v3.167a.617.617 0 0 1-.62.613zM7.57 2.181a.625.625 0 0 1 .882 0l5.77 5.692-.93.92-5.28-5.209-5.28 5.208-.932-.919 5.77-5.692z" /></svg><span>Safari Home</span></a></li><li><a href="/resource-centers/" class="t-resource-centers-nav l0 nav-icn"><?xml version="1.0" encoding="UTF-8"?><svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Topic-Page-Design" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Heron-Button" transform="translate(-20.000000, -78.000000)" fill="#4A3A30"><g id="Group-9" transform="translate(20.000000, 78.000000)"><rect id="Rectangle" x="9.6" y="0" width="6.4" height="6.4" rx="0.503118"></rect><rect id="Rectangle" x="9.6" y="9.6" width="6.4" height="6.4" rx="0.503118"></rect><rect id="Rectangle" x="0" y="9.6" width="6.4" height="6.4" rx="0.503118"></rect></g></g></g></svg><span>Resource Centers</span></a></li><li><a href="/playlists/" class="t-queue-nav l0 nav-icn None"><?xml version="1.0" encoding="UTF-8"?><svg width="21px" height="17px" viewBox="0 0 21 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch --><title>icon_Playlist_sml</title><desc>Created with Sketch.</desc><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="icon_Playlist_sml" fill-rule="nonzero" fill="#000000"><g id="playlist-icon"><g id="Group-6"><rect id="Rectangle-path" x="5" y="0" width="16" height="3" rx="0.5"></rect><circle id="Oval" cx="1.5" cy="1.5" r="1.5"></circle></g><g id="Group-5" transform="translate(0.000000, 7.000000)"><circle id="Oval" cx="1.5" cy="1.5" r="1.5"></circle><rect id="Rectangle-path" x="5" y="0" width="16" height="3" rx="0.5"></rect></g><g id="Group-5-Copy" transform="translate(0.000000, 14.000000)"><circle id="Oval" cx="1.5" cy="1.5" r="1.5"></circle><rect id="Rectangle-path" x="5" y="0" width="16" height="3" rx="0.5"></rect></g></g></g></g></svg><span>
               Playlists
            </span></a></li><li class="search"><a href="#" class="t-search-nav trigger nav-icn l0" data-dropdown-selector=".searchbox"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20" height="20" version="1.1" fill="#4A3C31"><desc>search icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M31.3 0C20.9 0 12.5 8.4 12.5 18.8 12.5 22.5 13.6 25.9 15.4 28.8L1.2 42.9C-0.4 44.5-0.4 47.2 1.2 48.8 2 49.6 3.1 50 4.2 50 5.2 50 6.3 49.6 7.1 48.8L21.2 34.6C24.1 36.5 27.5 37.5 31.3 37.5 41.6 37.5 50 29.1 50 18.8 50 8.4 41.6 0 31.3 0ZM31.3 31.3C24.4 31.3 18.8 25.6 18.8 18.8 18.8 11.9 24.4 6.3 31.3 6.3 38.1 6.3 43.8 11.9 43.8 18.8 43.8 25.6 38.1 31.3 31.3 31.3Z"/></g></svg><span>Search</span></a></li><li class="usermenu dropdown"><a href="#" class="trigger l0 nav-icn nav-dropdown"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" version="1.1" fill="#4A3C31"><desc>navigation arrow</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M0.1 12.5L9.7 3.1C9.8 3 9.9 3 10 3 10.1 3 10.2 3 10.3 3.1L19.9 12.5C20 12.5 20 12.6 20 12.8 20 12.9 20 13 19.9 13L17 15.9C16.9 16 16.8 16 16.7 16 16.5 16 16.4 16 16.4 15.9L10 9.7 3.6 15.9C3.6 16 3.5 16 3.3 16 3.2 16 3.1 16 3 15.9L0.1 13C0 12.9 0 12.8 0 12.7 0 12.7 0 12.6 0.1 12.5Z"/></g></svg><span>Expand Nav</span></a><div class="drop-content"><ul><li><a href="/history/" class="t-recent-nav l1 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20" height="20" version="1.1" fill="#4A3C31"><desc>recent items icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M25 0C11.2 0 0 11.2 0 25 0 38.8 11.2 50 25 50 38.8 50 50 38.8 50 25 50 11.2 38.8 0 25 0ZM6.3 25C6.3 14.6 14.6 6.3 25 6.3 35.4 6.3 43.8 14.6 43.8 25 43.8 35.4 35.4 43.8 25 43.8 14.6 43.8 6.3 35.4 6.3 25ZM31.8 31.5C32.5 30.5 32.4 29.2 31.6 28.3L27.1 23.8 27.1 12.8C27.1 11.5 26.2 10.4 25 10.4 23.9 10.4 22.9 11.5 22.9 12.8L22.9 25.7 28.8 31.7C29.2 32.1 29.7 32.3 30.2 32.3 30.8 32.3 31.3 32 31.8 31.5Z"/></g></svg><span>History</span></a></li><li><a href="/topics" class="t-topics-link l1 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 55" width="20" height="20" version="1.1" fill="#4A3C31"><desc>topics icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M25 55L50 41.262 50 13.762 25 0 0 13.762 0 41.262 25 55ZM8.333 37.032L8.333 17.968 25 8.462 41.667 17.968 41.667 37.032 25 46.538 8.333 37.032Z"/></g></svg><span>Topics</span></a></li><li><a href="/learning-paths/" class="l1 nav-icn t-learningpaths-nav js-toggle-menu-item"><?xml version="1.0" encoding="UTF-8"?><svg width="32px" height="32px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><!-- Generator: Sketch 52.5 (67469) - http://www.bohemiancoding.com/sketch --><title>Mask</title><desc>Created with Sketch.</desc><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><path d="M0,16.0214227 C0,15.0387209 0.796453294,14.2411658 1.77779753,14.2411658 C2.75914177,14.2411658 3.55559506,15.0387209 3.55559506,16.0214227 C3.55559506,17.0041246 2.75914177,17.8016797 1.77779753,17.8016797 C0.796453294,17.8016797 0,17.0041246 0,16.0214227 Z M9.77788642,5.22914885 C8.9280992,5.72049977 7.84008711,5.42853763 7.34941499,4.57757479 C6.85874287,3.72661195 7.15030167,2.63709467 8.00008889,2.14574375 C8.84987611,1.65439282 9.9378882,1.94635496 10.4285603,2.7973178 C10.9192324,3.64828064 10.6276736,4.73779792 9.77788642,5.22914885 Z M4.57213969,7.35869225 C5.42192691,7.85004318 5.71348571,8.93956046 5.22281359,9.79052329 C4.73214147,10.6414861 3.64412938,10.9334483 2.79434216,10.4420974 C1.94455494,9.95074642 1.65299614,8.86122915 2.14366826,8.01026631 C2.63434038,7.15930347 3.72235247,6.86734132 4.57213969,7.35869225 Z M2.79434216,21.6007481 C3.64412938,21.1093972 4.73214147,21.4013594 5.22281359,22.2523222 C5.71348571,23.103285 5.42192691,24.1928023 4.57213969,24.6841532 C3.72235247,25.1755042 2.63434038,24.883542 2.14366826,24.0325792 C1.65299614,23.1816163 1.94455494,22.0920991 2.79434216,21.6007481 Z M7.34941499,27.4652707 C7.84008711,26.6143079 8.9280992,26.3223457 9.77788642,26.8136966 C10.6276736,27.3050476 10.9192324,28.3945649 10.4285603,29.2455277 C9.9378882,30.0964905 8.84987611,30.3884527 8.00008889,29.8971017 C7.15030167,29.4057508 6.85874287,28.3162335 7.34941499,27.4652707 Z M18.7118524,11.3165596 C21.3074367,12.8173162 22.1963355,16.1392758 20.6976522,18.738451 C19.1989689,21.3358459 15.8815987,22.2259744 13.2860143,20.726998 C10.6922077,19.2262414 9.80330893,15.9042818 11.3002144,13.3051066 C12.7988978,10.7059314 16.116268,9.81580294 18.7118524,11.3165596 Z M26.7821642,27.8093944 L30.1315348,31.1633985 C30.3982044,31.4304371 30.2097579,31.8844026 29.8346426,31.8844026 L21.5945511,31.8844026 C21.1287681,31.8844026 20.751875,31.5069881 20.751875,31.0405608 L20.751875,22.7890697 C20.751875,22.4134355 21.2052134,22.2247282 21.4701052,22.4899865 L24.2843587,25.3081333 C26.8337204,23.0240636 28.4444049,19.7092251 28.4444049,16.0223129 C28.4444049,9.15052091 22.8621207,3.56051397 15.9998222,3.56051397 L15.9998222,0 C24.8230314,0 32,7.18689745 32,16.0223129 C32,20.6919269 29.9750886,24.8790914 26.7821642,27.8093944 Z" id="Mask" fill="#8B889A"></path></g></svg><span>Learning Paths</span></a></li><li class="nav-offers flyout-parent"><a href="#" class="l1 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20" height="20" version="1.1" fill="#4A3C31"><desc>offers icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M35.9 20.6L27 15.5C26.1 15 24.7 15 23.7 15.5L14.9 20.6C13.9 21.1 13.2 22.4 13.2 23.4L13.2 41.4C13.2 42.4 13.9 43.7 14.9 44.2L23.3 49C24.2 49.5 25.6 49.5 26.6 49L35.9 43.6C36.8 43.1 37.6 41.8 37.6 40.8L37.6 23.4C37.6 22.4 36.8 21.1 35.9 20.6L35.9 20.6ZM40 8.2C39.1 7.6 37.6 7.6 36.7 8.2L30.2 11.9C29.3 12.4 29.3 13.2 30.2 13.8L39.1 18.8C40 19.4 40.7 20.6 40.7 21.7L40.7 39C40.7 40.1 41.4 40.5 42.4 40L48.2 36.6C49.1 36.1 49.8 34.9 49.8 33.8L49.8 15.6C49.8 14.6 49.1 13.3 48.2 12.8L40 8.2 40 8.2ZM27 10.1L33.6 6.4C34.5 5.9 34.5 5 33.6 4.5L26.6 0.5C25.6 0 24.2 0 23.3 0.5L16.7 4.2C15.8 4.7 15.8 5.6 16.7 6.1L23.7 10.1C24.7 10.6 26.1 10.6 27 10.1ZM10.1 21.7C10.1 20.6 10.8 19.4 11.7 18.8L20.6 13.8C21.5 13.2 21.5 12.4 20.6 11.9L13.6 7.9C12.7 7.4 11.2 7.4 10.3 7.9L1.6 12.8C0.7 13.3 0 14.6 0 15.6L0 33.8C0 34.9 0.7 36.1 1.6 36.6L8.4 40.5C9.3 41 10.1 40.6 10.1 39.6L10.1 21.7 10.1 21.7Z"/></g></svg><span>Offers & Deals</span></a><ul class="flyout"><li><a href="/oreilly-conferences/" class="l2 nav-icn"><span>Conferences</span></a></li><li><a href="https://get.oreilly.com/email-signup.html" target="_blank" class="l2 nav-icn"><span>Newsletters</span></a></li></ul></li><li class="nav-highlights"><a href="/u/48b847cc-4100-401a-9732-d0a93f06ed1e/" class="t-highlights-nav l1 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 35" width="20" height="20" fill="#4A3C31"><path d="M13.325 18.071H8.036c0-6.736 4.324-10.925 14.464-12.477V0C6.37 1.113 0 10.632 0 22.113 0 29.406 3.477 35 10.403 35c5.142 0 9.175-3.515 9.175-8.816 0-4.628-2.367-7.293-6.253-8.113zm27.5 0h-5.26c0-6.736 4.295-10.925 14.435-12.477V0C33.899 1.113 27.5 10.632 27.5 22.113 27.5 29.406 30.977 35 37.932 35c5.113 0 9.146-3.515 9.146-8.816 0-4.628-2.338-7.293-6.253-8.113z" fill-rule="evenodd"/></svg><span>Highlights</span></a></li><li><a href="/u/preferences/" class="t-settings-nav l1 js-settings nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 53" width="20" height="20" version="1.1" fill="#4A3C31"><desc>settings icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M44.6 29.6C44.7 28.6 44.8 27.5 44.8 26.5 44.8 25.5 44.7 24.4 44.6 23.4L49.6 19C50 18.8 50.1 18.3 49.9 17.9 48.9 14.7 47.1 11.7 44.9 9.1 44.6 8.8 44.2 8.7 43.8 8.8L37.4 11.1C35.8 9.8 34 8.7 32.1 8L30.9 1.4C30.8 0.9 30.4 0.6 30 0.5 26.7-0.2 23.3-0.2 20 0.5 19.6 0.6 19.2 0.9 19.1 1.4L17.9 8C16 8.7 14.1 9.8 12.6 11.1L6.2 8.8C5.8 8.7 5.4 8.8 5.1 9.1 2.9 11.7 1.1 14.7 0.1 17.9 -0.1 18.3 0 18.8 0.4 19L5.4 23.4C5.3 24.4 5.2 25.5 5.2 26.5 5.2 27.5 5.3 28.6 5.4 29.6L0.4 34C0 34.2-0.1 34.7 0.1 35.1 1.1 38.3 2.9 41.4 5.1 43.9 5.4 44.2 5.8 44.4 6.2 44.2L12.6 42C14.1 43.2 16 44.3 17.9 45L19.1 51.7C19.2 52.1 19.6 52.5 20 52.5 21.6 52.8 23.3 53 25 53 26.7 53 28.4 52.8 30 52.5 30.4 52.5 30.8 52.1 30.9 51.7L32.1 45C34 44.3 35.8 43.2 37.4 42L43.8 44.2C44.2 44.4 44.6 44.2 44.9 43.9 47.1 41.4 48.9 38.3 49.9 35.1 50.1 34.7 50 34.2 49.6 34L44.6 29.6ZM25 36.4C19.6 36.4 15.2 32 15.2 26.5 15.2 21 19.6 16.6 25 16.6 30.4 16.6 34.8 21 34.8 26.5 34.8 32 30.4 36.4 25 36.4Z"/></g></svg><span>Settings</span></a></li><li><a href="https://www.oreilly.com/online-learning/support/" class="l1 no-icon">Support</a></li><li><a href="/accounts/logout/" class="l1 no-icon">Sign Out</a></li></ul><ul class="profile"><li><a href="/u/preferences/" class="l2 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 53" width="20" height="20" version="1.1" fill="#4A3C31"><desc>settings icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M44.6 29.6C44.7 28.6 44.8 27.5 44.8 26.5 44.8 25.5 44.7 24.4 44.6 23.4L49.6 19C50 18.8 50.1 18.3 49.9 17.9 48.9 14.7 47.1 11.7 44.9 9.1 44.6 8.8 44.2 8.7 43.8 8.8L37.4 11.1C35.8 9.8 34 8.7 32.1 8L30.9 1.4C30.8 0.9 30.4 0.6 30 0.5 26.7-0.2 23.3-0.2 20 0.5 19.6 0.6 19.2 0.9 19.1 1.4L17.9 8C16 8.7 14.1 9.8 12.6 11.1L6.2 8.8C5.8 8.7 5.4 8.8 5.1 9.1 2.9 11.7 1.1 14.7 0.1 17.9 -0.1 18.3 0 18.8 0.4 19L5.4 23.4C5.3 24.4 5.2 25.5 5.2 26.5 5.2 27.5 5.3 28.6 5.4 29.6L0.4 34C0 34.2-0.1 34.7 0.1 35.1 1.1 38.3 2.9 41.4 5.1 43.9 5.4 44.2 5.8 44.4 6.2 44.2L12.6 42C14.1 43.2 16 44.3 17.9 45L19.1 51.7C19.2 52.1 19.6 52.5 20 52.5 21.6 52.8 23.3 53 25 53 26.7 53 28.4 52.8 30 52.5 30.4 52.5 30.8 52.1 30.9 51.7L32.1 45C34 44.3 35.8 43.2 37.4 42L43.8 44.2C44.2 44.4 44.6 44.2 44.9 43.9 47.1 41.4 48.9 38.3 49.9 35.1 50.1 34.7 50 34.2 49.6 34L44.6 29.6ZM25 36.4C19.6 36.4 15.2 32 15.2 26.5 15.2 21 19.6 16.6 25 16.6 30.4 16.6 34.8 21 34.8 26.5 34.8 32 30.4 36.4 25 36.4Z"/></g></svg><span>Settings</span></a></li><li><a href="https://www.oreilly.com/online-learning/support/" class="l2">Support</a></li><li><a href="/accounts/logout/" class="l2">Sign Out</a></li></ul></div></li></ul></nav></header>



      </div>
      <div id="container" class="application">
        
          <div class="nav-container clearfix">
            


            
            
          </div>

          

  <div class="js-toc">
    
      <div class="sbo-reading-menu sbo-menu-top"><section class="sbo-toc-container toc-menu"><a href="#" class="sbo-toc-thumb"><span class="sbo-title ss-list"><h1><div class="visuallyhidden">Table of Contents for </div>
      
      Head First Design Patterns
      
    </h1></span></a><div class="toc-contents"></div></section></div>

    

    <div class="interface-controls interface-controls-top">
      <ul class="interface-control-btns js-bitlist js-reader">
        <li class="js-search-in-archive search-in-archive t-search-in-archive"><a href="#" title="Search in archive" class="js-search-controls search-controls"><span class="icon">Search in book...</span></a><form class="search-archive-bar js-search-form"><input type="search" name="query" placeholder="Search inside this book..." autocomplete="off"></form><div class="search-archive-results"><div class="js-sitb-results-region"></div></div></li><li class="queue-control"><div class="js-content-uri" data-content-uri="/api/v1/book/0596007124/chapter/ch03.html"><div class="js-collections-dropdown collections-dropdown menu-bit-cards"></div></div></li><li class="js-font-control-panel font-control-activator"><a href="#" data-push-state="false" id="font-controls" title="Change font size" aria-label="Change font size"><span class="icon">Toggle Font Controls</span></a></li><li class="dropdown sharing-controls"><a href="#" class="trigger" data-push-state="false" title="Share" aria-label="Share"><i class="fa fa-share"></i></a><ul class="social-sharing dropdown-menu"><li><a
        class="twitter share-button t-twitter"
        target="_blank"
        aria-label="Share this section on Twitter"
        title="Share this section on Twitter"
      
        href="https://twitter.com/share?url=https://learning.oreilly.com/library/view/head-first-design/0596007124/ch03.html&text=Head%20First%20Design%20Patterns&via=safari"
      ><span>Twitter</span></a></li><li><a
        class="facebook share-button t-facebook"
        target="_blank"
        aria-label="Share this section on Facebook"
        title="Share this section on Facebook"
        href="https://www.facebook.com/sharer/sharer.php?u=https://learning.oreilly.com/library/view/head-first-design/0596007124/ch03.html"
      ><span>Facebook</span></a></li><li><a
        class="googleplus share-button t-googleplus"
        target="_blank"
        aria-label="Share this secton on Google Plus"
        title="Share this secton on Google Plus"
        href="https://plus.google.com/share?url=https://learning.oreilly.com/library/view/head-first-design/0596007124/ch03.html"
      ><span>Google Plus</span></a></li><li><a
        class="email share-button t-email"
        aria-label="Share this section via email"
        title="Share this section via email"
      
        href="mailto:?subject=Safari: 3.%20The%20Decorator%20Pattern%3A%20Decorating%20Objects&body=https://learning.oreilly.com/library/view/head-first-design/0596007124/ch03.html%0D%0Afrom Head%20First%20Design%20Patterns%0D%0A"
      ><span>Email</span></a></li></ul></li>
      </ul>
    </div>

    
    <section role="document">
        
        




  <script defer src="/static/js/build/djangoMessagesPage.9240133f6829.js"></script>


        
	  <div class="t-sbo-prev sbo-prev sbo-nav-top">
  
    
      
        <a href="/library/view/head-first-design/0596007124/ch02.html" class="prev nav-link">
      
          <span aria-hidden="true" class="pagination-label t-prev-label">Prev</span>
          <span class="visuallyhidden">Previous Chapter</span>
          <div class="pagination-title t-prev-title">2. The Observer Pattern: Keeping your Objects in the know</div>
        </a>
    
  
  </div>

  <div class="t-sbo-next sbo-next sbo-nav-top">
  
    
      
        <a href="/library/view/head-first-design/0596007124/ch04.html" class="next nav-link">
      
          <span aria-hidden="true" class="pagination-label t-next-label">Next</span>
          <span class="visuallyhidden">Next Chapter</span>
          <div class="pagination-title t-next-title">4. The Factory Pattern: Baking with OO Goodness</div>
        </a>
    
  
  </div>



<div id="sbo-rt-content"><section class="chapter" title="Chapter 3. The Decorator Pattern: Decorating Objects" epub:type="chapter" id="decorator_pattern_decorating_objects"><div class="titlepage"><div><div><h2 class="title">Chapter 3. The Decorator Pattern: Decorating Objects</h2></div></div></div><div class="informalfigure"><a id="med_id00122a"></a><div class="mediaobject"><a id="med_id00122"></a><img src="/library/view/head-first-design/0596007124/figs/web/081fig01.png.jpg" alt="image with no caption" width="559" height="425"></div></div><p><span class="strong"><strong>Just call this chapter “Design Eye for the Inheritance Guy.”</strong></span> We’ll re-examine the typical overuse of inheritance and you’ll learn how to decorate your classes at runtime using a form of object composition. Why? Once you know the techniques of decorating, you’ll be able to give your (or someone else’s) objects new responsibilities <span class="emphasis"><em>without making any code changes to the underlying classes.</em></span></p><div class="sect1" title="Welcome to Starbuzz Coffee"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="welcome_to_starbuzz_coffee">Welcome to Starbuzz Coffee</h2></div></div></div><div class="informalfigure"><a id="med_id00123a"></a><div class="mediaobject"><a id="med_id00123"></a><img src="/library/view/head-first-design/0596007124/figs/web/082fig01.png.jpg" alt="image with no caption" width="152" height="112"></div></div><p><a id="iddle1355" class="indexterm"></a><a id="iddle2362" class="indexterm"></a><span class="strong"><strong>Starbuzz Coffee has made a name for itself as the fastest growing coffee shop around. If you’ve seen one on your local corner, look across the street; you’ll see another one.</strong></span></p><p><span class="strong"><strong>Because they’ve grown so quickly, they’re scrambling to update their ordering systems to match their beverage offerings.</strong></span></p><p><span class="strong"><strong>When they first went into business they designed their classes like this...</strong></span></p><div class="informalfigure"><a id="med_id00124a"></a><div class="mediaobject"><a id="med_id00124"></a><img src="/library/view/head-first-design/0596007124/figs/web/082fig02.png.jpg" alt="image with no caption" width="735" height="494"></div></div><p><a id="iddle1106" class="indexterm"></a><a id="iddle2431" class="indexterm"></a><span class="strong"><strong>In addition to your coffee, you can also ask for several condiments like steamed milk, soy, and mocha (otherwise known as chocolate), and have it all topped off with whipped milk. Starbuzz charges a bit for each of these, so they really need to get them built into their order system.</strong></span></p><p><span class="strong"><strong>Here’s their first attempt...</strong></span></p><div class="informalfigure"><a id="med_id00125a"></a><div class="mediaobject"><a id="med_id00125"></a><img src="/library/view/head-first-design/0596007124/figs/web/083fig01.png.jpg" alt="image with no caption" width="1000" height="932"></div></div><div class="informalfigure"><a id="med_id00126a"></a><div class="mediaobject"><a id="med_id00126"></a><img src="/library/view/head-first-design/0596007124/figs/web/083fig02.png.jpg" alt="image with no caption" width="320" height="218"></div></div><div class="note" title="Brain Power"><h3 class="title"><a id="ch03note01"></a>Brain Power</h3><p><a id="iddle1130" class="indexterm"></a><a id="iddle1788" class="indexterm"></a>It’s pretty obvious that Starbuzz has created a maintenance nightmare for themselves. What happens when the price of milk goes up? What do they do when they add a new caramel topping?</p><p>Thinking beyond the maintenance problem, which of the design principles that we’ve covered so far are they violating?</p><p><span class="emphasis"><em>Hint: they’re violating two of them in a big way!</em></span></p></div><div class="informalfigure"><a id="med_id00127a"></a><div class="mediaobject"><a id="med_id00127"></a><img src="/library/view/head-first-design/0596007124/figs/web/084fig01.png.jpg" alt="image with no caption" width="421" height="453"></div></div><p>Well, let’s give it a try. Let’s start with the Beverage base class and add instance variables to represent whether or not each beverage has milk, soy, mocha, and whip...</p><div class="informalfigure"><a id="med_id00128a"></a><div class="mediaobject"><a id="med_id00128"></a><img src="/library/view/head-first-design/0596007124/figs/web/084fig02.png.jpg" alt="image with no caption" width="736" height="445"></div></div><p><a id="iddle1574" class="indexterm"></a><a id="iddle2319" class="indexterm"></a>Now let’s add in the subclasses, one for each beverage on the menu:</p><div class="informalfigure"><a id="med_id00129a"></a><div class="mediaobject"><a id="med_id00129"></a><img src="/library/view/head-first-design/0596007124/figs/web/085fig01.png.jpg" alt="image with no caption" width="869" height="569"></div></div><div class="sidebar"><a id="sharpen_your_pencil-id00015"></a><div class="sidebar-title">Sharpen your pencil</div><p>Write the cost() methods for the following classes (pseudo-Java is okay):</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col class="c1"><col class="c2"></colgroup><tbody><tr><td style="vertical-align: top; border-right: 0.5pt solid ; "><a id="pro_id00008"></a><pre class="programlisting"><span class="strong"><strong>public class Beverage {</strong></span>
  <span class="strong"><strong>public double cost() {</strong></span>










  <span class="strong"><strong>}</strong></span>
<span class="strong"><strong>}</strong></span></pre></td><td style="vertical-align: top; "><a id="pro_id00009"></a><pre class="programlisting"><span class="strong"><strong>public class DarkRoast extends Beverage {</strong></span>

  <span class="strong"><strong>public DarkRoast() {</strong></span>
    <span class="strong"><strong>description = "Most Excellent Dark Roast";</strong></span>
  <span class="strong"><strong>}</strong></span>

  <span class="strong"><strong>public double cost() {</strong></span>




  }
}</pre></td></tr></tbody></table></div></div><div class="informalfigure"><a id="med_id00130a"></a><div class="mediaobject"><a id="med_id00130"></a><img src="/library/view/head-first-design/0596007124/figs/web/086fig01.png.jpg" alt="image with no caption" width="724" height="412"></div></div><div class="sidebar"><a id="sharpen_your_pencil-id00016"></a><div class="sidebar-title">Sharpen your pencil</div><p><a id="iddle1546" class="indexterm"></a><a id="iddle2288" class="indexterm"></a>What requirements or other factors might change that will impact this design?</p><div class="informalfigure"><a id="med_id00131a"></a><div class="mediaobject"><a id="med_id00131"></a><img src="/library/view/head-first-design/0596007124/figs/web/086fig02.png.jpg" alt="image with no caption" width="996" height="387"></div></div></div><div class="sidebar"><a id="master_and_studenthellip-id00017"></a><div class="sidebar-title">Master and Student...</div><p><a id="iddle1250" class="indexterm"></a><a id="iddle1252" class="indexterm"></a><a id="iddle1368" class="indexterm"></a><a id="iddle1782" class="indexterm"></a><a id="iddle2238" class="indexterm"></a><span class="bolditalic">Master:</span> <span class="emphasis"><em>Grasshopper, it has been some time since our last meeting. Have you been deep in meditation on inheritance?</em></span></p><p><span class="bolditalic">Student:</span> <span class="emphasis"><em>Yes, Master. While inheritance is powerful, I have learned that it doesn’t always lead to the most flexible or maintainable designs.</em></span></p><p><span class="bolditalic">Master:</span> <span class="emphasis"><em>Ah yes, you have made some progress. So, tell me, my student, how then will you achieve reuse if not through inheritance?</em></span></p><p><span class="bolditalic">Student:</span> <span class="emphasis"><em>Master, I have learned there are ways of “inheriting” behavior at runtime through composition and delegation.</em></span></p><p><span class="bolditalic">Master:</span> <span class="emphasis"><em>Please, go on...</em></span></p><p><span class="bolditalic">Student:</span> <span class="emphasis"><em>When I inherit behavior by subclassing, that behavior is set statically at compile time. In addition, all subclasses must inherit the same behavior. If however, I can extend an object’s behavior through composition, then I can do this dynamically at runtime.</em></span></p><p><span class="bolditalic">Master:</span> <span class="emphasis"><em>Very good, Grasshopper, you are beginning to see the power of composition.</em></span></p><p><span class="bolditalic">Student:</span> <span class="emphasis"><em>Yes, it is possible for me to add multiple new responsibilities to objects through this technique, including responsibilities that were not even thought of by the designer of the superclass. And, I don’t have to touch their code!</em></span></p><p><span class="bolditalic">Master:</span> <span class="emphasis"><em>What have you learned about the effect of composition on maintaining your code?</em></span></p><p><span class="bolditalic">Student:</span> <span class="emphasis"><em>Well, that is what I was getting at. By dynamically composing objects, I can add new functionality by writing new code rather than altering existing code. Because I’m not changing existing code, the chances of introducing bugs or causing unintended side effects in pre-existing code are much reduced.</em></span></p><p><span class="bolditalic">Master:</span> <span class="emphasis"><em>Very good. Enough for today, Grasshopper. I would like for you to go and meditate further on this topic... Remember, code should be closed (to change) like the lotus flower in the evening, yet open (to extension) like the lotus flower in the morning.</em></span></p></div></div><div class="sect1" title="The Open-Closed Principle"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="open-closed_principle">The Open-Closed Principle</h2></div></div></div><p><a id="iddle1074" class="indexterm"></a><a id="iddle1121" class="indexterm"></a><a id="iddle1415" class="indexterm"></a><a id="iddle2090" class="indexterm"></a><span class="strong"><strong>Grasshopper is on to one of the most important design principles:</strong></span></p><div class="note" title="Design Principle"><h3 class="title"><a id="ch03note02"></a>Design Principle</h3><p><span class="emphasis"><em>Classes should be open for extension, but closed for modification.</em></span></p></div><div class="informalfigure"><a id="med_id00132a"></a><div class="mediaobject"><a id="med_id00132"></a><img src="/library/view/head-first-design/0596007124/figs/web/088fig01.png.jpg" alt="image with no caption" width="246" height="202"></div></div><p>Come on in; we’re <span class="emphasis"><em>open</em></span>. Feel free to extend our classes with any new behavior you like. If your needs or requirements change (and we know they will), just go ahead and make your own extensions.</p><div class="informalfigure"><a id="med_id00133a"></a><div class="mediaobject"><a id="med_id00133"></a><img src="/library/view/head-first-design/0596007124/figs/web/088fig02.png.jpg" alt="image with no caption" width="246" height="264"></div></div><p>Sorry, we’re <span class="emphasis"><em>closed</em></span>. That’s right, we spent a lot of time getting this code correct and bug free, so we can’t let you alter the existing code. It must remain closed to modification. If you don’t like it, you can speak to the manager.</p><p><span class="strong"><strong>Our goal is to allow classes to be easily extended to incorporate new behavior without modifying existing code. What do we get if we accomplish this? Designs that are resilient to change and flexible enough to take on new functionality to meet changing requirements.</strong></span></p><div class="sidebar"><a id="there_are_no_dumb_questions-id00018"></a><div class="sidebar-title">There Are No Dumb Questions</div><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table style="border: 0; width: 100%; "><colgroup><col style="text-align: left; width: 1%; "><col></colgroup><tbody><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch03qa1qe1"></a><a id="ch03qa1q1"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><a id="iddle2013" class="indexterm"></a><a id="iddle2084" class="indexterm"></a><span class="strong"><strong>Q: Open for extension and closed for modification? That sounds very contradictory. How can a design be both?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch03qa1q1a1"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> That’s a very good question. It certainly sounds contradictory at first. After all, the less modifiable something is, the harder it is to extend, right?</p><p>As it turns out, though, there are some clever OO techniques for allowing systems to be extended, even if we can’t change the underlying code. Think about the Observer Pattern (in <a class="xref" href="ch02.html" title="Chapter 2. The Observer Pattern: Keeping your Objects in the know">Chapter 2</a>)... by adding new Observers, we can extend the Subject at any time, without adding code to the Subject. You’ll see quite a few more ways of extending behavior with other OO design techniques.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch03qa1qe2"></a><a id="ch03qa1q2"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: Okay, I understand Observable, but how do I generally design something to be extensible, yet closed for modification?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch03qa1q2a2"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> Many of the patterns give us time-tested designs that protect your code from being modified by supplying a means of extension. In this chapter you’ll see a good example of using the Decorator Pattern to follow the Open-Closed principle.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch03qa1qe3"></a><a id="ch03qa1q3"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: How can I make every part of my design follow the Open-Closed Principle?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch03qa1q3a3"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> Usually, you can’t. Making OO design flexible and open to extension without the modification of existing code takes time and effort. In general, we don’t have the luxury of tying down every part of our designs (and it would probably be wasteful). Following the Open-Closed Principle usually introduces new levels of abstraction, which adds complexity to our code. You want to concentrate on those areas that are most likely to change in your designs and apply the principles there.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch03qa1qe4"></a><a id="ch03qa1q4"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: How do I know which areas of change are more important?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch03qa1q4a4"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> That is partly a matter of experience in designing OO systems and also a matter of knowing the domain you are working in. Looking at other examples will help you learn to identify areas of change in your own designs.</p></td></tr></tbody></table></div></blockquote></div></div><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>While it may seem like a contradiction, there are techniques for allowing code to be extended without direct modification.</strong></span></p><p><span class="strong"><strong>Be careful when choosing the areas of code that need to be extended; applying the Open-Closed Principle EVERYWHERE is wasteful and unnecessary, and can lead to complex, hard-to-understand code.</strong></span></p></blockquote></div></div><div class="sect1" title="Meet the Decorator Pattern"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="meet_the_decorator_pattern">Meet the Decorator Pattern</h2></div></div></div><p><a id="iddle1341" class="indexterm"></a><a id="iddle2024" class="indexterm"></a><a id="iddle2529" class="indexterm"></a>Okay, we’ve seen that representing our beverage plus condiment pricing scheme with inheritance has not worked out very well—we get class explosions and rigid designs, or we add functionality to the base class that isn’t appropriate for some of the subclasses.</p><p>So, here’s what we’ll do instead: we’ll start with a beverage and “decorate” it with the condiments at runtime. For example, if the customer wants a Dark Roast with Mocha and Whip, then we’ll:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: none"><p><span class="strong"><strong>① Take a DarkRoast object</strong></span></p></li><li class="listitem" style="list-style-type: none"><p><span class="strong"><strong>② Decorate it with a Mocha object</strong></span></p></li><li class="listitem" style="list-style-type: none"><p><span class="strong"><strong>③ Decorate it with a Whip object</strong></span></p></li><li class="listitem" style="list-style-type: none"><p><span class="strong"><strong>④ Call the cost() method and rely on delegation to add on the condiment costs</strong></span></p></li></ul></div><p>Okay, but how do you “decorate” an object, and how does delegation come into this? A hint: think of decorator objects as “wrappers.” Let’s see how this works...</p><div class="informalfigure"><a id="med_id00134a"></a><div class="mediaobject"><a id="med_id00134"></a><img src="/library/view/head-first-design/0596007124/figs/web/090fig01.png.jpg" alt="image with no caption" width="342" height="661"></div></div></div><div class="sect1" title="Constructing a drink order with Decorators"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="constructing_a_drink_order_with_decorato">Constructing a drink order with Decorators</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: none"><p>① <a id="iddle1357" class="indexterm"></a><a id="iddle2364" class="indexterm"></a><span class="strong"><strong>We start with our DarkRoast object.</strong></span></p><div class="informalfigure"><a id="med_id00135a"></a><div class="mediaobject"><a id="med_id00135"></a><img src="/library/view/head-first-design/0596007124/figs/web/091fig01.png.jpg" alt="image with no caption" width="388" height="150"></div></div></li><li class="listitem" style="list-style-type: none"><p><span class="strong"><strong>② The customer wants Mocha, so we create a Mocha object and wrap it around the DarkRoast.</strong></span></p><div class="informalfigure"><a id="med_id00136a"></a><div class="mediaobject"><a id="med_id00136"></a><img src="/library/view/head-first-design/0596007124/figs/web/091fig02.png.jpg" alt="image with no caption" width="545" height="245"></div></div></li><li class="listitem" style="list-style-type: none"><p><span class="strong"><strong>③ The customer also wants Whip, so we create a Whip decorator and wrap Mocha with it.</strong></span></p><div class="informalfigure"><a id="med_id00137a"></a><div class="mediaobject"><a id="med_id00137"></a><img src="/library/view/head-first-design/0596007124/figs/web/091fig03.png.jpg" alt="image with no caption" width="505" height="185"></div></div><div class="note" title="Note"><h3 class="title"><a id="ch03note03"></a>Note</h3><p>So, a DarkRoast wrapped in Mocha and Whip is still a Beverage and we can do anything with it we can do with a DarkRoast, including call its cost() method.</p></div></li><li class="listitem" style="list-style-type: none"><p>④ <a id="iddle1076" class="indexterm"></a><span class="strong"><strong>Now it’s time to compute the cost for the customer. We do this by calling cost() on the outermost decorator, Whip, and Whip is going to delegate computing the cost to the objects it decorates. Once it gets a cost, it will add on the cost of the Whip.</strong></span></p><div class="informalfigure"><a id="med_id00138a"></a><div class="mediaobject"><a id="med_id00138"></a><img src="/library/view/head-first-design/0596007124/figs/web/092fig01.png.jpg" alt="image with no caption" width="663" height="430"></div></div></li></ul></div><div class="sect2" title="Okay, here’s what we know so far..."><div class="titlepage"><div><div><h3 class="title" id="okaycomma_hereapostrophes_what_we_know_s">Okay, here’s what we know so far...</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Decorators have the same supertype as the objects they decorate.</p></li><li class="listitem"><p>You can use one or more decorators to wrap an object.</p></li><li class="listitem"><p>Given that the decorator has the same supertype as the object it decorates, we can pass around a decorated object in place of the original (wrapped) object.</p></li><li class="listitem"><p><span class="gray-background">The decorator adds its own behavior either before and/or after delegating to the object it decorates to do the rest of the job.</span></p><div class="note" title="Note"><h3 class="title"><a id="ch03note04"></a>Note</h3><p>Key point!</p></div></li><li class="listitem"><p>Objects can be decorated at any time, so we can decorate objects dynamically at runtime with as many decorators as we like.</p></li></ul></div><p><span class="strong"><strong>Now let’s see how this all really works by looking at the Decorator Pattern definition and writing some code.</strong></span></p></div></div><div class="sect1" title="The Decorator Pattern defined"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="decorator_pattern_defined">The Decorator Pattern defined</h2></div></div></div><p><a id="iddle1345" class="indexterm"></a><a id="iddle1720" class="indexterm"></a>Let’s first take a look at the Decorator Pattern description:</p><div class="note" title="Note"><h3 class="title"><a id="ch03note05"></a>Note</h3><p><span class="strong"><strong>The Decorator Pattern</strong></span> attaches additional responsibilities to an object dynamically. Decorators provide a flexible alternative to subclassing for extending functionality.</p></div><p>While that describes the <span class="emphasis"><em>role</em></span> of the Decorator Pattern, it doesn’t give us a lot of insight into how we’d <span class="emphasis"><em>apply</em></span> the pattern to our own implementation. Let’s take a look at the class diagram, which is a little more revealing (on the next page we’ll look at the same structure applied to the beverage problem).</p><div class="informalfigure"><a id="med_id00139a"></a><div class="mediaobject"><a id="med_id00139"></a><img src="/library/view/head-first-design/0596007124/figs/web/093fig01.png.jpg" alt="image with no caption" width="983" height="727"></div></div></div><div class="sect1" title="Decorating our Beverages"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="decorating_our_beverages">Decorating our Beverages</h2></div></div></div><p><a id="iddle1358" class="indexterm"></a><a id="iddle2365" class="indexterm"></a><span class="strong"><strong>Okay, let’s work our Starbuzz beverages into this framework...</strong></span></p><div class="informalfigure"><a id="med_id00140a"></a><div class="mediaobject"><a id="med_id00140"></a><img src="/library/view/head-first-design/0596007124/figs/web/094fig01.png.jpg" alt="image with no caption" width="1000" height="691"></div></div><div class="note" title="Brain Power"><h3 class="title"><a id="ch03note06"></a>Brain Power</h3><p>Before going further, think about how you’d implement the cost() method of the coffees and the condiments. Also think about how you’d implement the getDescription() method of the condiments.</p></div></div><div class="sect1" title="Cubicle Conversation"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="cubicle_conversation-id00019">Cubicle Conversation</h2></div></div></div><p><a id="iddle1253" class="indexterm"></a><a id="iddle1780" class="indexterm"></a><span class="strong"><strong>Some confusion over Inheritance versus Composition</strong></span></p><div class="informalfigure"><a id="med_id00141a"></a><div class="mediaobject"><a id="med_id00141"></a><img src="/library/view/head-first-design/0596007124/figs/web/095fig01.png.jpg" alt="image with no caption" width="429" height="458"></div></div><p><span class="strong"><strong>Sue:</strong></span> What do you mean?</p><p><span class="strong"><strong>Mary:</strong></span> Look at the class diagram. The CondimentDecorator is extending the Beverage class. That’s inheritance, right?</p><p><span class="strong"><strong>Sue:</strong></span> True. I think the point is that it’s vital that the decorators have the same type as the objects they are going to decorate. So here we’re using inheritance to achieve the <span class="emphasis"><em>type matching</em></span>, but we aren’t using inheritance to get <span class="emphasis"><em>behavior</em></span>.</p><p><span class="strong"><strong>Mary:</strong></span> Okay, I can see how decorators need the same “interface” as the components they wrap because they need to stand in place of the component. But where does the behavior come in?</p><p><span class="strong"><strong>Sue:</strong></span> When we compose a decorator with a component, we are adding new behavior. We are acquiring new behavior not by inheriting it from a superclass, but by composing objects together.</p><p><span class="strong"><strong>Mary:</strong></span> Okay, so we’re subclassing the abstract class Beverage in order to have the correct type, not to inherit its behavior. The behavior comes in through the composition of decorators with the base components as well as other decorators.</p><p><span class="strong"><strong>Sue:</strong></span> That’s right.</p><p><span class="strong"><strong>Mary:</strong></span> Ooooh, I see. And because we are using object composition, we get a whole lot more flexibility about how to mix and match condiments and beverages. Very smooth.</p><p><span class="strong"><strong>Sue:</strong></span> Yes, if we rely on inheritance, then our behavior can only be determined statically at compile time. In other words, we get only whatever behavior the superclass gives us or that we override. With composition, we can mix and match decorators any way we like... <span class="emphasis"><em>at runtime</em></span>.</p><p><span class="strong"><strong>Mary:</strong></span> And as I understand it, we can implement new decorators at any time to add new behavior. If we relied on inheritance, we’d have to go in and change existing code any time we wanted new behavior.</p><p><span class="strong"><strong>Sue:</strong></span> Exactly.</p><p><span class="strong"><strong>Mary:</strong></span> I just have one more question. If all we need to inherit is the type of the component, how come we didn’t use an interface instead of an abstract class for the Beverage class?</p><p><span class="strong"><strong>Sue:</strong></span> Well, remember, when we got this code, Starbuzz already <span class="emphasis"><em>had</em></span> an abstract Beverage class. Traditionally the Decorator Pattern does specify an abstract component, but in Java, obviously, we could use an interface. But we always try to avoid altering existing code, so don’t “fix” it if the abstract class will work just fine.</p></div><div class="sect1" title="New barista training"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="new_barista_training">New barista training</h2></div></div></div><p><a id="iddle1359" class="indexterm"></a><a id="iddle2366" class="indexterm"></a>Make a picture for what happens when the order is for a “double mocha soy latte with whip” beverage. Use the menu to get the correct prices, and draw your picture using the same format we used earlier (from a few pages back):</p><div class="informalfigure"><a id="med_id00142a"></a><div class="mediaobject"><a id="med_id00142"></a><img src="/library/view/head-first-design/0596007124/figs/web/096fig01.png.jpg" alt="image with no caption" width="887" height="375"></div></div><div class="informalfigure"><a id="med_id00143a"></a><div class="mediaobject"><a id="med_id00143"></a><img src="/library/view/head-first-design/0596007124/figs/web/096fig02.png.jpg" alt="image with no caption" width="233" height="583"></div></div><div class="sidebar"><a id="sharpen_your_pencil-id00020"></a><div class="sidebar-title">Sharpen your pencil</div><p>Draw your picture here.</p><div class="informalfigure"><a id="med_id00144a"></a><div class="mediaobject"><a id="med_id00144"></a><img src="/library/view/head-first-design/0596007124/figs/web/096fig03.png.jpg" alt="image with no caption" width="297" height="298"></div></div></div></div><div class="sect1" title="Writing the Starbuzz code"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="writing_the_starbuzz_code">Writing the Starbuzz code</h2></div></div></div><p><a id="iddle1363" class="indexterm"></a><a id="iddle2370" class="indexterm"></a><span class="strong"><strong>It’s time to whip this design into some real code.</strong></span></p><p><span class="strong"><strong>Let’s start with the Beverage class, which doesn’t need to change from Starbuzz’s original design. Let’s take a look:</strong></span></p><div class="informalfigure"><a id="med_id00145a"></a><div class="mediaobject"><a id="med_id00145"></a><img src="/library/view/head-first-design/0596007124/figs/web/common10.png.jpg" alt="image with no caption" width="76" height="120"></div></div><div class="informalfigure"><a id="med_id00146a"></a><div class="mediaobject"><a id="med_id00146"></a><img src="/library/view/head-first-design/0596007124/figs/web/097fig01.png.jpg" alt="image with no caption" width="672" height="237"></div></div><p><span class="strong"><strong>Beverage is simple enough. Let’s implement the abstract class for the Condiments (Decorator) as well:</strong></span></p><div class="informalfigure"><a id="med_id00147a"></a><div class="mediaobject"><a id="med_id00147"></a><img src="/library/view/head-first-design/0596007124/figs/web/097fig02.png.jpg" alt="image with no caption" width="709" height="285"></div></div></div><div class="sect1" title="Coding beverages"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="coding_beverages">Coding beverages</h2></div></div></div><p><span class="strong"><strong>Now that we’ve got our base classes out of the way, let’s implement some beverages. We’ll start with Espresso. Remember, we need to set a description for the specific beverage and also implement the cost() method.</strong></span></p><div class="informalfigure"><a id="med_id00148a"></a><div class="mediaobject"><a id="med_id00148"></a><img src="/library/view/head-first-design/0596007124/figs/web/098fig01.png.jpg" alt="image with no caption" width="680" height="750"></div></div></div><div class="sect1" title="Coding condiments"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="coding_condiments">Coding condiments</h2></div></div></div><p><a id="iddle1789" class="indexterm"></a><span class="strong"><strong>If you look back at the Decorator Pattern class diagram, you’ll see we’ve now written our abstract component (Beverage), we have our concrete components (HouseBlend), and we have our abstract decorator (CondimentDecorator). Now it’s time to implement the concrete decorators. Here’s Mocha:</strong></span></p><div class="informalfigure"><a id="med_id00149a"></a><div class="mediaobject"><a id="med_id00149"></a><img src="/library/view/head-first-design/0596007124/figs/web/099fig01.png.jpg" alt="image with no caption" width="781" height="593"></div></div><p>On the next page we’ll actually instantiate the beverage and wrap it with all its condiments (decorators), but first...</p><div class="sidebar"><a id="exercise"></a><div class="sidebar-title">Exercise</div><p>Write and compile the code for the other Soy and Whip condiments. You’ll need them to finish and test the application.</p></div></div><div class="sect1" title="Serving some coffees"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="serving_some_coffees">Serving some coffees</h2></div></div></div><p><a id="iddle1361" class="indexterm"></a><a id="iddle2368" class="indexterm"></a>Congratulations. It’s time to sit back, order a few coffees, and marvel at the flexible design you created with the Decorator Pattern.</p><p><span class="strong"><strong>Here’s some test code*to make orders:</strong></span></p><div class="informalfigure"><a id="med_id00150a"></a><div class="mediaobject"><a id="med_id00150"></a><img src="/library/view/head-first-design/0596007124/figs/web/100fig01.png.jpg" alt="image with no caption" width="758" height="551"></div></div><div class="blockquote"><blockquote class="blockquote"><p>* We’re going to see a much better way of creating decorated objects when we cover the Factory and Builder Design Patterns. Please note that the Builder Pattern is covered in the Appendix.</p></blockquote></div><p><span class="strong"><strong>Now, let’s get those orders in:</strong></span></p><div class="informalfigure"><a id="med_id00151a"></a><div class="mediaobject"><a id="med_id00151"></a><img src="/library/view/head-first-design/0596007124/figs/web/100fig02.png.jpg" alt="image with no caption" width="596" height="158"></div></div><div class="sidebar"><a id="there_are_no_dumb_questions-id00021"></a><div class="sidebar-title">There Are No Dumb Questions</div><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table style="border: 0; width: 100%; "><colgroup><col style="text-align: left; width: 1%; "><col></colgroup><tbody><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch03qa2qe1"></a><a id="ch03qa2q1"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><a id="iddle1356" class="indexterm"></a><a id="iddle1523" class="indexterm"></a><a id="iddle2262" class="indexterm"></a><a id="iddle2363" class="indexterm"></a><span class="strong"><strong>Q: I’m a little worried about code that might test for a specific concrete component—say, HouseBlend—and do something, like issue a discount. Once I’ve wrapped the HouseBlend with decorators, this isn’t going to work anymore.</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch03qa2q1a1"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> That is exactly right. If you have code that relies on the concrete component’s type, decorators will break that code. As long as you only write code against the abstract component type, the use of decorators will remain transparent to your code. However, once you start writing code against concrete components, you’ll want to rethink your application design and your use of decorators.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch03qa2qe2"></a><a id="ch03qa2q2"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: Wouldn’t it be easy for some client of a beverage to end up with a decorator that isn’t the outermost decorator? Like if I had a DarkRoast with Mocha, Soy, and Whip, it would be easy to write code that somehow ended up with a reference to Soy instead of Whip, which means it would not include Whip in the order.</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch03qa2q2a2"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> You could certainly argue that you have to manage more objects with the Decorator Pattern and so there is an increased chance that coding errors will introduce the kinds of problems you suggest. However, decorators are typically created by using other patterns like Factory and Builder. Once we’ve covered these patterns, you’ll see that the creation of the concrete component with its decorator is “well encapsulated” and doesn’t lead to these kinds of problems.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch03qa2qe3"></a><a id="ch03qa2q3"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: Can decorators know about the other decorations in the chain? Say I wanted my getDescription() method to print “Whip, Double Mocha” instead of “Mocha, Whip, Mocha.” That would require that my outermost decorator know all the decorators it is wrapping.</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch03qa2q3a3"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> Decorators are meant to add behavior to the object they wrap. When you need to peek at multiple layers into the decorator chain, you are starting to push the decorator beyond its true intent. Nevertheless, such things are possible. Imagine a CondimentPrettyPrint decorator that parses the final decription and can print “Mocha, Whip, Mocha” as “Whip, Double Mocha.” Note that getDescription() could return an ArrayList of descriptions to make this easier.</p></td></tr></tbody></table></div></blockquote></div></div><div class="sidebar"><a id="sharpen_your_pencil-id00022"></a><div class="sidebar-title">Sharpen your pencil</div><p>Our friends at Starbuzz have introduced sizes to their menu. You can now order a coffee in tall, grande, and venti sizes (translation: small, medium, and large). Starbuzz saw this as an intrinsic part of the coffee class, so they’ve added two methods to the Beverage class: setSize() and getSize(). They’d also like for the condiments to be charged according to size, so for instance, Soy costs 10¢, 15¢, and 20¢, respectively, for tall, grande, and venti coffees. The updated Beverage class is shown below.</p><p>How would you alter the decorator classes to handle this change in requirements?</p><a id="pro_id00010"></a><pre class="programlisting"><span class="strong"><strong>public abstract class Beverage {</strong></span>
      <span class="strong"><strong><span class="gray-background">public enum Size { TALL, GRANDE, VENTI };</span></strong></span>
      <span class="strong"><strong><span class="gray-background">Size size = Size.TALL;                   </span></strong></span>
      <span class="strong"><strong>String description = "Unknown Beverage";</strong></span>
      <span class="strong"><strong>public String getDescription() {</strong></span>
             <span class="strong"><strong>return description;</strong></span>
      <span class="strong"><strong>}</strong></span>
      <span class="strong"><strong><span class="gray-background">public void setSize(Size size) {</span></strong></span>
             <span class="strong"><strong><span class="gray-background">this.size = size;        </span></strong></span>
      <span class="strong"><strong><span class="gray-background">}                               </span></strong></span>
      <span class="strong"><strong><span class="gray-background">public Size getSize() {         </span></strong></span>
             <span class="strong"><strong><span class="gray-background">return this.size;        </span></strong></span>
      <span class="strong"><strong><span class="gray-background">}                               </span></strong></span>
      <span class="strong"><strong>public abstract double cost();</strong></span>
<span class="strong"><strong>}</strong></span></pre></div></div><div class="sect1" title="Real World Decorators: Java I/O"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="real_world_decorators_java_isoliduso">Real World Decorators: Java I/O</h2></div></div></div><p><a id="iddle1352" class="indexterm"></a><a id="iddle1362" class="indexterm"></a><a id="iddle1857" class="indexterm"></a><a id="iddle2369" class="indexterm"></a>The large number of classes in the java.io package is... <span class="emphasis"><em>overwhelming</em></span>. Don’t feel alone if you said “whoa” the first (and second and third) time you looked at this API. But now that you know the Decorator Pattern, the I/O classes should make more sense since the java.io package is largely based on Decorator. Here’s a typical set of objects that use decorators to add functionality to reading data from a file:</p><div class="informalfigure"><a id="med_id00152a"></a><div class="mediaobject"><a id="med_id00152"></a><img src="/library/view/head-first-design/0596007124/figs/web/102fig01.png.jpg" alt="image with no caption" width="726" height="463"></div></div><p><span class="bolditalic">Buffered</span>InputStream and <span class="bolditalic">LineNumber</span>InputStream both extend <span class="bolditalic">Filter</span>InputStream, which acts as the abstract decorator class.</p></div><div class="sect1" title="Decorating the java.io classes"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="decorating_the_javadotio_classes">Decorating the java.io classes</h2></div></div></div><div class="informalfigure"><a id="med_id00153a"></a><div class="mediaobject"><a id="med_id00153"></a><img src="/library/view/head-first-design/0596007124/figs/web/103fig01.png.jpg" alt="image with no caption" width="944" height="440"></div></div><p><a id="iddle1346" class="indexterm"></a>You can see that this isn’t so different from the Starbuzz design. You should now be in a good position to look over the java.io API docs and compose decorators on the various <span class="emphasis"><em>input</em></span> streams.</p><p>You’ll see that the <span class="emphasis"><em>output</em></span> streams have the same design. And you’ve probably already found that the Reader/Writer streams (for character-based data) closely mirror the design of the streams classes (with a few differences and inconsistencies, but close enough to figure out what’s going on).</p><p>Java I/O also points out one of the <span class="emphasis"><em>downsides</em></span> of the Decorator Pattern: designs using this pattern often result in a large number of small classes that can be overwhelming to a developer trying to use the Decorator-based API. But now that you know how Decorator works, you can keep things in perspective and when you’re using someone else’s Decorator-heavy API, you can work through how their classes are organized so that you can easily use wrapping to get the behavior you’re after.</p></div><div class="sect1" title="Writing your own Java I/O Decorator"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="writing_your_own_java_isoliduso_decorato">Writing your own Java I/O Decorator</h2></div></div></div><p>Okay, you know the Decorator Pattern, you’ve seen the I/O class diagram. You should be ready to write your own input decorator.</p><p>How about this: write a decorator that converts all uppercase characters to lowercase in the input stream. In other words, if we read in “I know the Decorator Pattern therefore I RULE!” then your decorator converts this to “i know the decorator pattern therefore i rule!”</p><div class="informalfigure"><a id="med_id00154a"></a><div class="mediaobject"><a id="med_id00154"></a><img src="/library/view/head-first-design/0596007124/figs/web/104fig01.png.jpg" alt="image with no caption" width="795" height="571"></div></div><div class="informalfigure"><a id="med_id00155a"></a><div class="mediaobject"><a id="med_id00155"></a><img src="/library/view/head-first-design/0596007124/figs/web/104fig02.png.jpg" alt="image with no caption" width="316" height="464"></div></div><div class="blockquote"><blockquote class="blockquote"><p>REMEMBER: we don’t provide import and package statements in the code listings. Get the complete source code from <a class="ulink" href="http://wickedlysmart.com/head-first-design-patterns/" target="_top">http://wickedlysmart.com/head-first-design-patterns/</a>.</p></blockquote></div></div><div class="sect1" title="Test out your new Java I/O Decorator"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="test_out_your_new_java_isoliduso_decorat">Test out your new Java I/O Decorator</h2></div></div></div><p>Write some quick code to test the I/O decorator:</p><div class="informalfigure"><a id="med_id00156a"></a><div class="mediaobject"><a id="med_id00156"></a><img src="/library/view/head-first-design/0596007124/figs/web/105fig01.png.jpg" alt="image with no caption" width="797" height="494"></div></div><div class="sect2" title="Give it a spin"><div class="titlepage"><div><div><h3 class="title" id="give_it_a_spin">Give it a spin</h3></div></div></div><div class="informalfigure"><a id="med_id00157a"></a><div class="mediaobject"><a id="med_id00157"></a><img src="/library/view/head-first-design/0596007124/figs/web/105fig02.png.jpg" alt="image with no caption" width="598" height="158"></div></div><div class="sidebar"><a id="patterns_exposed"></a><div class="sidebar-title">Patterns Exposed</div><p><a id="iddle1342" class="indexterm"></a><span class="strong"><strong>This week’s interview: Confessions of a Decorator</strong></span></p><p><span class="strong"><strong>Head First:</strong></span> Welcome, Decorator Pattern. We’ve heard that you’ve been a bit down on yourself lately?</p><p><span class="strong"><strong>Decorator:</strong></span> Yes, I know the world sees me as the glamorous design pattern, but you know, I’ve got my share of problems just like everyone.</p><p><span class="strong"><strong>HeadFirst:</strong></span> Can you perhaps share some of your troubles with us?</p><p><span class="strong"><strong>Decorator:</strong></span> Sure. Well, you know I’ve got the power to add flexibility to designs, that much is for sure, but I also have a <span class="emphasis"><em>dark side</em></span>. You see, I can sometimes add a lot of small classes to a design and this occasionally results in a design that’s less than straightforward for others to understand.</p><p><span class="strong"><strong>HeadFirst:</strong></span> Can you give us an example?</p><p><span class="strong"><strong>Decorator:</strong></span> Take the Java I/O libraries. These are notoriously difficult for people to understand at first. But if they just saw the classes as a set of wrappers around an InputStream, life would be much easier.</p><p><span class="strong"><strong>HeadFirst:</strong></span> That doesn’t sound so bad. You’re still a great pattern, and improving this is just a matter of public education, right?</p><p><span class="strong"><strong>Decorator:</strong></span> There’s more, I’m afraid. I’ve got typing problems: you see, people sometimes take a piece of client code that relies on specific types and introduce decorators without thinking through everything. Now, one great thing about me is that <span class="emphasis"><em><span class="strong"><strong>you can usually insert decorators transparently and the client never has to know it’s dealing with a decorator</strong></span></em></span>. But like I said, some code is dependent on specific types and when you start introducing decorators, boom! Bad things happen.</p><p><span class="strong"><strong>HeadFirst:</strong></span> Well, I think everyone understands that you have to be careful when inserting decorators. I don’t think this is a reason to be too down on yourself.</p><p><span class="strong"><strong>Decorator:</strong></span> I know, I try not to be. I also have the problem that introducing decorators can increase the complexity of the code needed to instantiate the component. Once you’ve got decorators, you’ve got to not only instantiate the component, but also wrap it with who knows how many decorators.</p><p><span class="strong"><strong>HeadFirst:</strong></span> I’ll be interviewing the Factory and Builder patterns next week—I hear they can be very helpful with this?</p><p><span class="strong"><strong>Decorator:</strong></span> That’s true; I should talk to those guys more often.</p><p><span class="strong"><strong>HeadFirst:</strong></span> Well, we all think you’re a great pattern for creating flexible designs and staying true to the Open-Closed Principle, so keep your chin up and think positively!</p><p><span class="strong"><strong>Decorator:</strong></span> I’ll do my best, thank you.</p></div></div></div><div class="sect1" title="Tools for your Design Toolbox"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="tools_for_your_design_toolbox-id00023">Tools for your Design Toolbox</h2></div></div></div><p>You’ve got another chapter under your belt and a new principle and pattern in the toolbox.</p><div class="informalfigure"><a id="med_id00158a"></a><div class="mediaobject"><a id="med_id00158"></a><img src="/library/view/head-first-design/0596007124/figs/web/107fig01.png.jpg" alt="image with no caption" width="527" height="821"></div></div><div class="sidebar"><a id="bullet_points-id00024"></a><div class="sidebar-title">Bullet Points</div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Inheritance is one form of extension, but not necessarily the best way to achieve flexibility in our designs.</p></li><li class="listitem"><p>In our designs we should allow behavior to be extended without the need to modify existing code.</p></li><li class="listitem"><p>Composition and delegation can often be used to add new behaviors at runtime.</p></li><li class="listitem"><p>The Decorator Pattern provides an alternative to subclassing for extending behavior.</p></li><li class="listitem"><p>The Decorator Pattern involves a set of decorator classes that are used to wrap concrete components.</p></li><li class="listitem"><p>Decorator classes mirror the type of the components they decorate. (In fact, they are the same type as the components they decorate, either through inheritance or interface implementation.)</p></li><li class="listitem"><p>Decorators change the behavior of their components by adding new functionality before and/or after (or even in place of) method calls to the component.</p></li><li class="listitem"><p>You can wrap a component with any number of decorators.</p></li><li class="listitem"><p>Decorators are typically transparent to the client of the component; that is, unless the client is relying on the component’s concrete type.</p></li><li class="listitem"><p>Decorators can result in many small objects in our design, and overuse can be complex.</p></li></ul></div></div><div class="sidebar"><a id="sharpen_your_pencil_solution-id00025"></a><div class="sidebar-title">Sharpen your pencil Solution</div><p><a id="iddle1575" class="indexterm"></a><a id="iddle2320" class="indexterm"></a>Write the cost() methods for the following classes (pseudo-Java is okay). Here’s our solution:</p><a id="pro_id00011"></a><pre class="programlisting"><span class="strong"><strong>public class Beverage {</strong></span>

<span class="strong"><strong>// declare instance variables for milkCost,</strong></span>
<span class="strong"><strong>// soyCost, mochaCost, and whipCost, and</strong></span>
<span class="strong"><strong>// getters and setters for milk, soy, mocha</strong></span>
<span class="strong"><strong>// and whip.</strong></span>

<span class="strong"><strong>public double cost() {</strong></span>

        <span class="strong"><strong>float condimentCost = 0.0;</strong></span>
        <span class="strong"><strong>if (hasMilk()) {</strong></span>
            <span class="strong"><strong>condimentCost += milkCost;</strong></span>
        <span class="strong"><strong>}</strong></span>
        <span class="strong"><strong>if (hasSoy()) {</strong></span>
            <span class="strong"><strong>condimentCost += soyCost;</strong></span>
        <span class="strong"><strong>}</strong></span>
        <span class="strong"><strong>if (hasMocha()) {</strong></span>
            <span class="strong"><strong>condimentCost += mochaCost;</strong></span>
        <span class="strong"><strong>}</strong></span>
        <span class="strong"><strong>if (hasWhip()) {</strong></span>
            <span class="strong"><strong>condimentCost += whipCost;</strong></span>
        <span class="strong"><strong>}</strong></span>
        <span class="strong"><strong>return condimentCost;</strong></span>
    <span class="strong"><strong>}</strong></span>
<span class="strong"><strong>}</strong></span>


<span class="strong"><strong>public class DarkRoast extends Beverage {</strong></span>

    <span class="strong"><strong>public DarkRoast() {</strong></span>
        <span class="strong"><strong>description = "Most Excellent Dark Roast";</strong></span>
    <span class="strong"><strong>}</strong></span>

    <span class="strong"><strong>public double cost() {</strong></span>
        <span class="strong"><strong>return 1.99 + super.cost();</strong></span>
    <span class="strong"><strong>}</strong></span>
<span class="strong"><strong>}</strong></span></pre></div><div class="sidebar"><a id="sharpen_your_pencil_solution-id00026"></a><div class="sidebar-title">Sharpen your pencil Solution</div><p><a id="iddle1360" class="indexterm"></a><a id="iddle1543" class="indexterm"></a><a id="iddle2285" class="indexterm"></a><a id="iddle2367" class="indexterm"></a><span class="strong"><strong>New barista training</strong></span></p><p>“double mocha soy latte with whip”</p><div class="informalfigure"><a id="med_id00159a"></a><div class="mediaobject"><a id="med_id00159"></a><img src="/library/view/head-first-design/0596007124/figs/web/109fig01.png.jpg" alt="image with no caption" width="966" height="527"></div></div></div><div class="sidebar"><a id="sharpen_your_pencil_solution-id00027"></a><div class="sidebar-title">Sharpen your pencil Solution</div><p><a id="iddle1111" class="indexterm"></a><a id="iddle1524" class="indexterm"></a><a id="iddle2263" class="indexterm"></a>Our friends at Starbuzz have introduced sizes to their menu. You can now order a coffee in tall, grande, and venti sizes (for us normal folk: small, medium, and large). Starbuzz saw this as an intrinsic part of the coffee class, so they’ve added two methods to the Beverage class: setSize() and getSize(). They’d also like for the condiments to be charged according to size, so for instance, Soy costs 10¢, 15¢, and 20¢, respectively, for tall, grande, and venti coffees.</p><p>How would you alter the decorator classes to handle this change in requirements? Here’s our solution.</p><div class="informalfigure"><a id="med_id00160a"></a><div class="mediaobject"><a id="med_id00160"></a><img src="/library/view/head-first-design/0596007124/figs/web/110fig01.png.jpg" alt="image with no caption" width="688" height="687"></div></div></div></div></section></div>



  <div class="t-sbo-prev sbo-prev sbo-nav-bottom">
  
    
      
        <a href="/library/view/head-first-design/0596007124/ch02.html" class="prev nav-link">
      
          <span aria-hidden="true" class="pagination-label t-prev-label">Prev</span>
          <span class="visuallyhidden">Previous Chapter</span>
          <div class="pagination-title t-prev-title">2. The Observer Pattern: Keeping your Objects in the know</div>
        </a>
    
  
  </div>

  <div class="t-sbo-next sbo-next sbo-nav-bottom">
  
    
      
        <a href="/library/view/head-first-design/0596007124/ch04.html" class="next nav-link">
      
          <span aria-hidden="true" class="pagination-label t-next-label">Next</span>
          <span class="visuallyhidden">Next Chapter</span>
          <div class="pagination-title t-next-title">4. The Factory Pattern: Baking with OO Goodness</div>
        </a>
    
  
  </div>


        
    </section>
  </div>
<section class="sbo-saved-archives"></section>

<script>
  window.dataLayer = window.dataLayer || [];
  context = {
    product: {
      title: 'Head First Design Patterns',
      type: 'book',
      identifier: '0596007124',
      topic: 'Design Patterns'
    },
    content: {
      title: 'Head First Design Patterns',
      formatType: 'book',
      identifier: '0596007124',
      author: 'Kathy Sierra, Bert Bates, Elisabeth Robson, Eric Freeman',
      publisher: 'O&#39;Reilly Media, Inc.',
      releaseDate: '2004-10-25',
      parentTopic: 'none',
      free: 'no',
      subdirectory: 'none'
    }
  }
  dataLayer.push(context);
</script>



          
          
  




    
    



        
      </div>
      
        



  <footer class="pagefoot t-pagefoot">
    <a href="#" class="icon-up"><div class="visuallyhidden">Back to top</div></a>
    <ul class='js-footer-nav'>
      
        <li><a class="t-resource-centers-footer" href="/resource-centers/">Resource Centers</a></li>
      
      <li>
      <a class="t-queue-footer" href="/playlists/">Playlists</a>
      </li>
      
        <li><a class="t-recent-footer" href="/history/">History</a></li>
        <li><a class="t-topics-footer" href="/topics?q=*&limit=21">Topics</a></li>
      
      <li><a class="t-settings-footer js-settings" href="/u/preferences/">Settings</a></li>
      <li class="full-support"><a href="https://www.oreilly.com/online-learning/support/">Support</a></li>
      <li><a href="https://www.oreilly.com/online-learning/apps.html">Get the App</a></li>
      <li><a href="/accounts/logout/">Sign Out</a></li>
    </ul>
    <span class="copyright">&#169; 2019 <a href="/" target="_blank">Safari</a>.</span>
    <a href="/terms/">Terms of Service</a> /
    <a href="https://www.oreilly.com/privacy.html">Privacy Policy</a>
  </footer>

<script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"licenseKey":"510f1a6865","transactionName":"YgdaZ0NSW0cEB0RdWltNfkZfUEFdCgofXFBHDVYdR1pQQxZeRl1QQj1aWkU=","errorBeacon":"bam.nr-data.net","applicationTime":7494,"queueTime":3,"beacon":"bam.nr-data.net","agent":"","applicationID":"172641827,79672898,93931619"}</script>


      
    
    <script src="/jsi18n/web/" charset="utf-8"></script>
    <script src="/library/jsi18n/appcache/" charset="utf-8"></script>
  </body>
</html>
