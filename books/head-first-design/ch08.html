<!--[if IE]><![endif]--><!DOCTYPE html><!--[if IE 8]><html class="no-js ie8 oldie" lang="en" prefix="og: http://ogp.me/ns/# og:book: http://ogp.me/ns/book# og:video: http://ogp.me/ns/video#"

    
        itemscope itemtype="http://schema.org/Book http://schema.org/ItemPage" data-login-url="/accounts/login/"
data-offline-url="/"
data-url="/library/view/head-first-design/0596007124/ch08.html"
data-csrf-cookie="csrfsafari"
data-highlight-privacy="public"


  data-user-id="2198516"
  data-user-uuid="48b847cc-4100-401a-9732-d0a93f06ed1e"
  data-username="Evan_l00"
  data-account-type="B2B"
  
  data-activated-trial-date=""


  data-archive="0596007124"
  data-publishers="O&#39;Reilly Media, Inc."



  data-htmlfile-name="ch08.html"
  data-epub-title="Head First Design Patterns" data-debug=0 data-testing=0><![endif]--><!--[if gt IE 8]><!--><html class="no-js" lang="en" prefix="og: http://ogp.me/ns/# og:book: http://ogp.me/ns/book# og:video: http://ogp.me/ns/video#"

    
        itemscope itemtype="http://schema.org/Book http://schema.org/ItemPage" data-login-url="/accounts/login/"
data-offline-url="/"
data-url="/library/view/head-first-design/0596007124/ch08.html"
data-csrf-cookie="csrfsafari"
data-highlight-privacy="public"


  data-user-id="2198516"
  data-user-uuid="48b847cc-4100-401a-9732-d0a93f06ed1e"
  data-username="Evan_l00"
  data-account-type="B2B"
  
  data-activated-trial-date=""


  data-archive="0596007124"
  data-publishers="O&#39;Reilly Media, Inc."



  data-htmlfile-name="ch08.html"
  data-epub-title="Head First Design Patterns" data-debug=0 data-testing=0><!--<![endif]--><head><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="author" content="Safari Books Online" /><meta name="format-detection" content="telephone=no"><meta http-equiv="cleartype" content="on"/><meta name="HandheldFriendly" content="True"/><meta name="MobileOptimized" content="320"/><meta name="apple-itunes-app" content="app-id=881697395, app-argument=safaridetail://0596007124"/><meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, maximum-scale=1.0"/><meta property="twitter:account_id" content="4503599627559754" /><script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(e,n,t){function r(t){if(!n[t]){var o=n[t]={exports:{}};e[t][0].call(o.exports,function(n){var o=e[t][1][n];return r(o||n)},o,o.exports)}return n[t].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<t.length;o++)r(t[o]);return r}({1:[function(e,n,t){function r(){}function o(e,n,t){return function(){return i(e,[c.now()].concat(u(arguments)),n?null:this,t),n?void 0:this}}var i=e("handle"),a=e(3),u=e(4),f=e("ee").get("tracer"),c=e("loader"),s=NREUM;"undefined"==typeof window.newrelic&&(newrelic=s);var p=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],d="api-",l=d+"ixn-";a(p,function(e,n){s[n]=o(d+n,!0,"api")}),s.addPageAction=o(d+"addPageAction",!0),s.setCurrentRouteName=o(d+"routeName",!0),n.exports=newrelic,s.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(e,n){var t={},r=this,o="function"==typeof n;return i(l+"tracer",[c.now(),e,t],r),function(){if(f.emit((o?"":"no-")+"fn-start",[c.now(),r,o],t),o)try{return n.apply(this,arguments)}catch(e){throw f.emit("fn-err",[arguments,this,e],t),e}finally{f.emit("fn-end",[c.now()],t)}}}};a("actionText,setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(e,n){m[n]=o(l+n)}),newrelic.noticeError=function(e,n){"string"==typeof e&&(e=new Error(e)),i("err",[e,c.now(),!1,n])}},{}],2:[function(e,n,t){function r(e,n){if(!o)return!1;if(e!==o)return!1;if(!n)return!0;if(!i)return!1;for(var t=i.split("."),r=n.split("."),a=0;a<r.length;a++)if(r[a]!==t[a])return!1;return!0}var o=null,i=null,a=/Version\/(\S+)\s+Safari/;if(navigator.userAgent){var u=navigator.userAgent,f=u.match(a);f&&u.indexOf("Chrome")===-1&&u.indexOf("Chromium")===-1&&(o="Safari",i=f[1])}n.exports={agent:o,version:i,match:r}},{}],3:[function(e,n,t){function r(e,n){var t=[],r="",i=0;for(r in e)o.call(e,r)&&(t[i]=n(r,e[r]),i+=1);return t}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],4:[function(e,n,t){function r(e,n,t){n||(n=0),"undefined"==typeof t&&(t=e?e.length:0);for(var r=-1,o=t-n||0,i=Array(o<0?0:o);++r<o;)i[r]=e[n+r];return i}n.exports=r},{}],5:[function(e,n,t){n.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(e,n,t){function r(){}function o(e){function n(e){return e&&e instanceof r?e:e?f(e,u,i):i()}function t(t,r,o,i){if(!d.aborted||i){e&&e(t,r,o);for(var a=n(o),u=v(t),f=u.length,c=0;c<f;c++)u[c].apply(a,r);var p=s[y[t]];return p&&p.push([b,t,r,a]),a}}function l(e,n){h[e]=v(e).concat(n)}function m(e,n){var t=h[e];if(t)for(var r=0;r<t.length;r++)t[r]===n&&t.splice(r,1)}function v(e){return h[e]||[]}function g(e){return p[e]=p[e]||o(t)}function w(e,n){c(e,function(e,t){n=n||"feature",y[t]=n,n in s||(s[n]=[])})}var h={},y={},b={on:l,addEventListener:l,removeEventListener:m,emit:t,get:g,listeners:v,context:n,buffer:w,abort:a,aborted:!1};return b}function i(){return new r}function a(){(s.api||s.feature)&&(d.aborted=!0,s=d.backlog={})}var u="nr@context",f=e("gos"),c=e(3),s={},p={},d=n.exports=o();d.backlog=s},{}],gos:[function(e,n,t){function r(e,n,t){if(o.call(e,n))return e[n];var r=t();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return e[n]=r,r}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],handle:[function(e,n,t){function r(e,n,t,r){o.buffer([e],r),o.emit(e,n,t)}var o=e("ee").get("handle");n.exports=r,r.ee=o},{}],id:[function(e,n,t){function r(e){var n=typeof e;return!e||"object"!==n&&"function"!==n?-1:e===window?0:a(e,i,function(){return o++})}var o=1,i="nr@id",a=e("gos");n.exports=r},{}],loader:[function(e,n,t){function r(){if(!E++){var e=x.info=NREUM.info,n=l.getElementsByTagName("script")[0];if(setTimeout(s.abort,3e4),!(e&&e.licenseKey&&e.applicationID&&n))return s.abort();c(y,function(n,t){e[n]||(e[n]=t)}),f("mark",["onload",a()+x.offset],null,"api");var t=l.createElement("script");t.src="https://"+e.agent,n.parentNode.insertBefore(t,n)}}function o(){"complete"===l.readyState&&i()}function i(){f("mark",["domContent",a()+x.offset],null,"api")}function a(){return O.exists&&performance.now?Math.round(performance.now()):(u=Math.max((new Date).getTime(),u))-x.offset}var u=(new Date).getTime(),f=e("handle"),c=e(3),s=e("ee"),p=e(2),d=window,l=d.document,m="addEventListener",v="attachEvent",g=d.XMLHttpRequest,w=g&&g.prototype;NREUM.o={ST:setTimeout,SI:d.setImmediate,CT:clearTimeout,XHR:g,REQ:d.Request,EV:d.Event,PR:d.Promise,MO:d.MutationObserver};var h=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1130.min.js"},b=g&&w&&w[m]&&!/CriOS/.test(navigator.userAgent),x=n.exports={offset:u,now:a,origin:h,features:{},xhrWrappable:b,userAgent:p};e(1),l[m]?(l[m]("DOMContentLoaded",i,!1),d[m]("load",r,!1)):(l[v]("onreadystatechange",o),d[v]("onload",r)),f("mark",["firstbyte",u],null,"api");var E=0,O=e(5)},{}]},{},["loader"]);</script><link rel="apple-touch-icon" href="/static/images/apple-touch-icon.0c29511d2d72.png"/><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,900,200italic,300italic,400italic,600italic,700italic,900italic' rel='stylesheet' type='text/css'><title>8. The Template Method Pattern: Encapsulating Algorithms - Head First Design Patterns</title><link rel="stylesheet" href="/static/CACHE/css/output.68851547a55f.css" type="text/css" /><link rel="stylesheet" type="text/css" href="/static/css/annotator.e3b0c44298fc.css"/><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css"><style type="text/css" title="ibis-book">
    @charset "utf-8";#sbo-rt-content html,#sbo-rt-content div,#sbo-rt-content div,#sbo-rt-content span,#sbo-rt-content applet,#sbo-rt-content object,#sbo-rt-content iframe,#sbo-rt-content h1,#sbo-rt-content h2,#sbo-rt-content h3,#sbo-rt-content h4,#sbo-rt-content h5,#sbo-rt-content h6,#sbo-rt-content p,#sbo-rt-content blockquote,#sbo-rt-content pre,#sbo-rt-content a,#sbo-rt-content abbr,#sbo-rt-content acronym,#sbo-rt-content address,#sbo-rt-content big,#sbo-rt-content cite,#sbo-rt-content code,#sbo-rt-content del,#sbo-rt-content dfn,#sbo-rt-content em,#sbo-rt-content font,#sbo-rt-content img,#sbo-rt-content ins,#sbo-rt-content kbd,#sbo-rt-content q,#sbo-rt-content s,#sbo-rt-content samp,#sbo-rt-content small,#sbo-rt-content strike,#sbo-rt-content strong,#sbo-rt-content sub,#sbo-rt-content sup,#sbo-rt-content tt,#sbo-rt-content var,#sbo-rt-content b,#sbo-rt-content u,#sbo-rt-content i,#sbo-rt-content center,#sbo-rt-content dl,#sbo-rt-content dt,#sbo-rt-content dd,#sbo-rt-content ol,#sbo-rt-content ul,#sbo-rt-content li,#sbo-rt-content fieldset,#sbo-rt-content form,#sbo-rt-content label,#sbo-rt-content legend,#sbo-rt-content table,#sbo-rt-content caption,#sbo-rt-content tdiv,#sbo-rt-content tfoot,#sbo-rt-content thead,#sbo-rt-content tr,#sbo-rt-content th,#sbo-rt-content td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}@page{margin:5px !important}#sbo-rt-content p{margin:8px 0 0;line-height:125%;text-align:left}#sbo-rt-content em{font-style:italic;font-family:inherit}#sbo-rt-content em.replaceable{font-style:italic}#sbo-rt-content em strong,#sbo-rt-content strong em{font-weight:bold;font-style:italic;font-family:inherit}#sbo-rt-content strong.userinput{font-weight:bold;font-style:normal}#sbo-rt-content span.bolditalic{font-weight:bold;font-style:italic}#sbo-rt-content strong,#sbo-rt-content span.bold{font-weight:bold}#sbo-rt-content a.ulink,#sbo-rt-content a.xref,#sbo-rt-content a.email,#sbo-rt-content a.link{text-decoration:none;color:#8e0012}#sbo-rt-content sup{font-size:x-small;vertical-align:super}#sbo-rt-content sub{font-size:smaller;vertical-align:sub}#sbo-rt-content span.lineannotation{font-style:italic;color:#A62A2A;font-family:serif,"DejaVuSerif"}#sbo-rt-content span.underline{text-decoration:underline}#sbo-rt-content span.strikethrough{text-decoration:line-through}#sbo-rt-content span.smallcaps{font-variant:small-caps}#sbo-rt-content span.cursor{background:#000;color:#FFF}#sbo-rt-content span.smaller{font-size:75%}#sbo-rt-content .boxedtext,#sbo-rt-content .keycap{border-style:solid;border-width:1px;border-color:#000;padding:1px}#sbo-rt-content span.gray50{color:#7F7F7F;}#sbo-rt-content .gray-background,#sbo-rt-content .reverse-video{background:#2E2E2E;color:#FFF}#sbo-rt-content .light-gray-background{background:#A0A0A0}#sbo-rt-content .preserve-whitespace{white-space:pre-wrap}#sbo-rt-content h1,#sbo-rt-content div.toc-title,#sbo-rt-content h2,#sbo-rt-content h3,#sbo-rt-content h4,#sbo-rt-content h5{-webkit-hyphens:none;hyphens:none;adobe-hyphenate:none;font-weight:bold;text-align:left;page-break-after:avoid !important;font-family:sans-serif,"DejaVuSans"}#sbo-rt-content h1,#sbo-rt-content div.toc-title{font-size:1.5em;margin-top:20px !important}#sbo-rt-content h2{font-size:1.3em;color:#8e0012;margin:40px 0 8px 0}#sbo-rt-content h3{font-size:1.1em;margin:30px 0 8px 0 !important}#sbo-rt-content h4{font-size:1em;color:#555;margin:20px 0 8px 0 !important}#sbo-rt-content h5{font-size:1em;font-weight:normal;font-style:italic;margin:15px 0 6px 0 !important}#sbo-rt-content section.chapter div.titlepage,#sbo-rt-content section.appendix div.titlepage,#sbo-rt-content section.preface div.titlepage{page-break-inside:avoid;page-break-after:avoid}#sbo-rt-content section.chapter>div.titlepage,#sbo-rt-content section.preface>div.titlepage,#sbo-rt-content section.appendix>div.titlepage{margin-bottom:50px}#sbo-rt-content section.chapter>div.titlepage h2.title,#sbo-rt-content section.preface>div.titlepage h2.title,#sbo-rt-content section.appendix>div.titlepage h2.title{font-size:2em;line-height:1;margin-bottom:15px;color:#000;padding-bottom:10px;border-bottom:1px solid #000}#sbo-rt-content div.toc-title{margin-bottom:30px !important}#sbo-rt-content div.part h1{font-size:2em;text-align:center;margin-top:0 !important;padding:50px 0 20px 0;border-bottom:1px solid #000}#sbo-rt-content img{max-width:95%;margin:0 auto;padding:0}#sbo-rt-content div.figure{background-color:transparent;text-align:center;-webkit-border-radius:5px;border-radius:5px;border:1px solid #DCDCDC;padding:15px 5px 15px 5px !important;margin:30px 0 30px 0 !important;max-height:100%;page-break-inside:avoid}#sbo-rt-content div.figure-title,#sbo-rt-content div.informalfigure div.caption{font-size:90%;text-align:center;font-weight:normal;font-style:italic;font-family:serif,"DejaVuSerif";color:#000;padding:5px !important;page-break-before:avoid;page-break-after:avoid}#sbo-rt-content div.informalfigure{text-align:center;padding:5px 0 !important}#sbo-rt-content div.sidebar{margin:30px 0 20px 0 !important;-webkit-border-radius:5px;border-radius:5px;border:1px solid #DCDCDC;background-color:#F7F7F7;font-size:90%;padding:15px !important;page-break-inside:avoid}#sbo-rt-content div.sidebar-title{font-weight:bold;font-size:1em;font-family:sans-serif,"DejaVuSans";text-transform:uppercase;letter-spacing:1px;text-align:center;margin:4px 0 6px 0 !important;page-break-inside:avoid}#sbo-rt-content div.sidebar div.figure p.title,#sbo-rt-content div.sidebar div.informalfigure div.caption{font-size:90%;text-align:center;font-weight:normal;font-style:italic;font-family:serif,"DejaVuSerif";color:#000;padding:5px !important;page-break-before:avoid;page-break-after:avoid}#sbo-rt-content div.sidebar ol{margin-left:15px}#sbo-rt-content div.sidebar div.tip,#sbo-rt-content div.sidebar div.note,#sbo-rt-content div.sidebar div.warning,#sbo-rt-content div.sidebar div.caution,#sbo-rt-content div.sidebar div.important{margin:20px auto 20px auto !important;font-size:90%;width:85%}#sbo-rt-content div.sidebar div.figure{border:none}#sbo-rt-content pre{white-space:pre-wrap;font-family:"Ubuntu Mono",monospace;margin:25px 0 25px 20px;font-size:85%;display:block;-webkit-hyphens:none;hyphens:none;adobe-hyphenate:none}#sbo-rt-content div.note pre.programlisting,#sbo-rt-content div.tip pre.programlisting,#sbo-rt-content div.warning pre.programlisting,#sbo-rt-content div.caution pre.programlisting,#sbo-rt-content div.important pre.programlisting{margin-bottom:0}#sbo-rt-content code{font-family:"Ubuntu Mono",monospace}#sbo-rt-content code strong em,#sbo-rt-content code em strong,#sbo-rt-content pre em strong,#sbo-rt-content pre strong em,#sbo-rt-content strong code em code,#sbo-rt-content em code strong code,#sbo-rt-content span.bolditalic code{font-weight:bold;font-style:italic;font-family:"Ubuntu Mono BoldItal",monospace}#sbo-rt-content code em,#sbo-rt-content em code,#sbo-rt-content pre em,#sbo-rt-content em.replaceable{font-family:"Ubuntu Mono Ital",monospace;font-style:italic}#sbo-rt-content code strong,#sbo-rt-content strong code,#sbo-rt-content pre strong,#sbo-rt-content strong.userinput{font-family:"Ubuntu Mono Bold",monospace;font-weight:bold}#sbo-rt-content div.example{margin:10px 0 15px 0 !important}#sbo-rt-content div.example-title{font-style:italic;font-weight:normal;font-family:serif,"DejaVuSerif";margin:10px 0 5px 0 !important;border-bottom:1px solid #000}#sbo-rt-content li pre.example{padding:10px 0 !important}#sbo-rt-content div.example-contents pre.programlisting,#sbo-rt-content div.example-contents pre.screen{margin:0}#sbo-rt-content span.gray{color:#4C4C4C}#sbo-rt-content div.book div.titlepage h1.title{font-size:3em;font-family:sans-serif,"DejaVuSans";font-weight:bold;margin:50px 0 10px 0 !important;line-height:1;text-align:center}#sbo-rt-content div.book div.titlepage h2.subtitle{text-align:center;color:#000;margin:0 !important;font-style:italic;font-family:serif;font-size:1.5em}#sbo-rt-content div.book div.titlepage div.author h3{font-size:2em;font-family:sans-serif,"DejaVuSans";font-weight:bold;color:#8e0012;margin:50px 0 !important;text-align:center}#sbo-rt-content div.book div.titlepage div.publishername{margin-top:60%;margin-bottom:20px;text-align:center;font-size:1.25em}#sbo-rt-content div.book div.titlepage div.locations p{margin:0;text-align:center}#sbo-rt-content div.book div.titlepage div.locations p.cities{font-size:80%;text-align:center;margin-top:5px}#sbo-rt-content section.preface[title="Dedication"]>div.titlepage h2.title{text-align:center;text-transform:uppercase;font-size:1.5em;margin-top:50px;margin-bottom:50px}#sbo-rt-content section.preface[title="Dedication"] p{font-style:italic;text-align:center}#sbo-rt-content div.colophon h1.title{font-size:1.3em;margin:0 !important;font-family:serif,"DejaVuSerif";font-weight:normal}#sbo-rt-content div.colophon h2.subtitle{margin:0 !important;color:#000;font-family:serif,"DejaVuSerif";font-size:1em;font-weight:normal}#sbo-rt-content div.colophon div.author h3.author{font-size:1.1em;font-family:serif,"DejaVuSerif";margin:10px 0 0 !important;font-weight:normal}#sbo-rt-content div.colophon div.editor h4,#sbo-rt-content div.colophon div.editor h3.editor{color:#000;font-size:.8em;margin:15px 0 0 !important;font-family:serif,"DejaVuSerif";font-weight:normal}#sbo-rt-content div.colophon div.editor h3.editor{font-size:.8em;margin:0 !important;font-family:serif,"DejaVuSerif";font-weight:normal}#sbo-rt-content div.colophon div.publisher{margin-top:10px}#sbo-rt-content div.colophon div.publisher p,#sbo-rt-content div.colophon div.publisher span.publishername{margin:0;font-size:.8em}#sbo-rt-content div.legalnotice p,#sbo-rt-content div.timestamp p{font-size:.8em}#sbo-rt-content div.timestamp p{margin-top:10pt}#sbo-rt-content div.colophon[title="About the Author"] h1.title,#sbo-rt-content div.colophon[title="Colophon"] h1.title{font-size:1.5em;margin:0 !important;font-family:sans-serif,"DejaVuSans";font-weight:bold}#sbo-rt-content section.chapter div.titlepage div.author{margin:10px 0 10px 0}#sbo-rt-content section.chapter div.titlepage div.author div.affiliation{font-style:italic}#sbo-rt-content div.attribution{margin:5px 0 0 50px !important}#sbo-rt-content h3.author span.orgname{display:none}#sbo-rt-content div.epigraph{margin:10px 0 10px 20px !important;page-break-inside:avoid;font-size:90%}#sbo-rt-content div.epigraph p{font-style:italic}#sbo-rt-content blockquote,#sbo-rt-content div.blockquote{margin:10px !important;page-break-inside:avoid;font-size:95%}#sbo-rt-content blockquote p,#sbo-rt-content div.blockquote p{font-family:serif,"DejaVuSerif";font-style:italic}#sbo-rt-content blockquote div.attribution{margin:5px 0 0 30px !important;text-align:right;width:80%}#sbo-rt-content blockquote div.attribution p{font-style:normal}#sbo-rt-content p.right{text-align:right;margin:0}#sbo-rt-content div.footnote{font-size:90%}#sbo-rt-content div.refnamediv h2,#sbo-rt-content div.refnamediv h3,#sbo-rt-content div.refsynopsisdiv h2{font-size:1.1em;color:#000;margin-top:15px !important;margin-bottom:0 !important}#sbo-rt-content div.refentry div.refsect1 h2{font-size:1.1em;color:#000;margin-top:15px !important;margin-bottom:0 !important}#sbo-rt-content div.refsect2 h3{font-size:1em;color:#000;margin-top:10px !important;margin-bottom:0 !important}#sbo-rt-content div.refnamediv p{margin-left:15px !important}#sbo-rt-content dt{padding-top:10px !important;padding-bottom:0 !important}#sbo-rt-content dt span.term{font-weight:bold;font-style:italic}#sbo-rt-content dt span.term code.literal{font-style:normal;font-weight:normal}#sbo-rt-content dt span.term em code.literal{font-style:italic}#sbo-rt-content dd{margin-left:1.5em !important}#sbo-rt-content dd,#sbo-rt-content li{text-align:left}#sbo-rt-content ol{list-style-type:decimal;margin-top:8px !important;margin-bottom:8px !important;margin-left:20px !important;padding-left:25px !important}#sbo-rt-content ol[type="A"]{list-style-type:upper-alpha}#sbo-rt-content ol[type="I"]{list-style-type:upper-roman}#sbo-rt-content ol[type="a"]{list-style-type:lower-alpha}#sbo-rt-content ol[type="i"]{list-style-type:lower-roman}#sbo-rt-content ol ol{list-style-type:lower-alpha}#sbo-rt-content ol ol ol{list-style-type:lower-roman}#sbo-rt-content ul{list-style-type:square;margin-top:8px !important;margin-bottom:8px !important;margin-left:5px !important;padding-left:20px !important}#sbo-rt-content ul ul{list-style-type:none;padding-left:0 !important;margin-left:0 !important}#sbo-rt-content ol li,#sbo-rt-content ul li,#sbo-rt-content dd{margin-bottom:1em}#sbo-rt-content ul ul li p:before{content:"— "}#sbo-rt-content ul ul ul li p:before{content:""}#sbo-rt-content ul ul ul{list-style-type:square;margin-left:20px !important;padding-left:30px !important}#sbo-rt-content div.orderedlistalpha{list-style-type:upper-alpha}#sbo-rt-content table.simplelist{margin-left:20px !important;margin-bottom:10px}#sbo-rt-content table.simplelist td{border:none;font-size:90%}#sbo-rt-content table.simplelist tr{border-bottom:none}#sbo-rt-content table.simplelist tr:nth-of-type(even){background-color:transparent}#sbo-rt-content div.calloutlist p:first-child{margin-top:-25px !important}#sbo-rt-content div.calloutlist dd{padding-left:0;margin-top:-25px}#sbo-rt-content div.calloutlist img{padding:0}#sbo-rt-content a.co img{padding:0}#sbo-rt-content div.calloutlist>dl>dd>div.orderedlist{margin-top:25pt}#sbo-rt-content div.calloutlist>dl>dd>div.orderedlist>ol.orderedlist>li{margin-bottom:25pt}#sbo-rt-content div.toc ol{margin-top:8px !important;margin-bottom:8px !important;margin-left:0 !important;padding-left:0 !important}#sbo-rt-content div.toc ol ol{margin-left:30px !important;padding-left:0 !important}#sbo-rt-content div.toc ol li{list-style-type:none}#sbo-rt-content div.toc a{color:#8e0012}#sbo-rt-content div.toc ol a{font-size:1em;font-weight:bold}#sbo-rt-content div.toc ol>li>ol a{font-weight:bold;font-size:1em}#sbo-rt-content div.toc ol>li>ol>li>ol a{text-decoration:none;font-weight:normal;font-size:1em}#sbo-rt-content div.tip,#sbo-rt-content div.note,#sbo-rt-content div.warning,#sbo-rt-content div.caution,#sbo-rt-content div.important{margin:30px !important;-webkit-border-radius:5px;border-radius:5px;font-size:90%;padding:10px 8px 20px 8px !important;page-break-inside:avoid}#sbo-rt-content div.tip,#sbo-rt-content div.note,#sbo-rt-content div.important{border:1px solid #BEBEBE;background-color:transparent}#sbo-rt-content div.warning,#sbo-rt-content div.caution{border:1px solid #BC8F8F}#sbo-rt-content div.tip h3,#sbo-rt-content div.note h3,#sbo-rt-content div.warning h3,#sbo-rt-content div.caution h3,#sbo-rt-content div.important h3{font:bold 90%;font-family:sans-serif,"DejaVuSans";text-transform:uppercase;letter-spacing:1px;text-align:center;margin:4px 0 6px !important}#sbo-rt-content div.tip h3,#sbo-rt-content div.note h3,#sbo-rt-content div.important h3{color:#737373}#sbo-rt-content div.warning h3,#sbo-rt-content div.caution h3{color:#C67171}#sbo-rt-content div.sect1[title="Safari® Books Online"] div.note{background-color:transparent;margin:8px 0 0 !important;border:0 solid #BEBEBE;-webkit-border-radius:0;border-radius:0;font-size:100%;padding:0 !important;page-break-inside:avoid}#sbo-rt-content div.sect1[title="Safari® Books Online"] div.note h3{display:none}#sbo-rt-content div.table,#sbo-rt-content table{margin:15px auto 30px auto !important;max-width:95%;border-collapse:collapse;border-spacing:0}#sbo-rt-content div.table,#sbo-rt-content div.informaltable{page-break-inside:avoid}#sbo-rt-content tr{border-bottom:1px solid #c3c3c3}#sbo-rt-content thead td{border-bottom:#9d9d9d 1px solid !important;border-top:#9d9d9d 1px solid !important}#sbo-rt-content tr:nth-of-type(even){background-color:#f1f6fc}#sbo-rt-content thead{font-family:sans-serif,"DejaVuSans";color:#000;font-weight:bold}#sbo-rt-content td{padding:.3em;text-align:left;vertical-align:baseline;font-size:80%}#sbo-rt-content div.informaltable table{margin:10px auto !important}#sbo-rt-content div.informaltable table tr{border-bottom:none}#sbo-rt-content div.informaltable table tr:nth-of-type(even){background-color:transparent}#sbo-rt-content div.informaltable td,#sbo-rt-content div.informaltable th{border:#9d9d9d 1px solid}#sbo-rt-content div.table-title{font-weight:normal;font-style:italic;font-family:serif,"DejaVuSerif";margin:20px 0 0 0 !important;text-align:center;padding:0}#sbo-rt-content table code{font-size:smaller}#sbo-rt-content div.equation{margin:10px 0 15px 0 !important}#sbo-rt-content div.equation-title{font-style:italic;font-weight:normal;font-family:serif,"DejaVuSerif";margin:20px 0 10px 0 !important;page-break-after:avoid}#sbo-rt-content div.equation-contents{margin-left:20px}#sbo-rt-content span.inlinemediaobject{height:.85em;display:inline-block;margin-bottom:.2em}#sbo-rt-content span.inlinemediaobject img{margin:0;height:.85em}#sbo-rt-content div.informalequation{margin:20px 0 20px 20px;width:75%}#sbo-rt-content div.informalequation img{width:75%}#sbo-rt-content div.index{font-weight:bold}#sbo-rt-content div.index dt{line-height:140%}#sbo-rt-content div.index a.indexterm{color:#8e0012}#sbo-rt-content code.boolean,#sbo-rt-content .navy{color:rgb(0,0,128);}#sbo-rt-content code.character,#sbo-rt-content .olive{color:rgb(128,128,0);}#sbo-rt-content code.comment,#sbo-rt-content .blue{color:rgb(0,0,255);}#sbo-rt-content code.conditional,#sbo-rt-content .limegreen{color:rgb(50,205,50);}#sbo-rt-content code.constant,#sbo-rt-content .darkorange{color:rgb(255,140,0);}#sbo-rt-content code.debug,#sbo-rt-content .darkred{color:rgb(139,0,0);}#sbo-rt-content code.define,#sbo-rt-content .darkgoldenrod,#sbo-rt-content .gold{color:rgb(184,134,11);}#sbo-rt-content code.delimiter,#sbo-rt-content .dimgray{color:rgb(105,105,105);}#sbo-rt-content code.error,#sbo-rt-content .red{color:rgb(255,0,0);}#sbo-rt-content code.exception,#sbo-rt-content .salmon{color:rgb(250,128,11);}#sbo-rt-content code.float,#sbo-rt-content .steelblue{color:rgb(70,130,180);}#sbo-rt-content pre code.function,#sbo-rt-content .green{color:rgb(0,128,0);}#sbo-rt-content code.identifier,#sbo-rt-content .royalblue{color:rgb(65,105,225);}#sbo-rt-content code.ignore,#sbo-rt-content .gray{color:rgb(128,128,128);}#sbo-rt-content code.include,#sbo-rt-content .purple{color:rgb(128,0,128);}#sbo-rt-content code.keyword,#sbo-rt-content .sienna{color:rgb(160,82,45);}#sbo-rt-content code.label,#sbo-rt-content .deeppink{color:rgb(255,20,147);}#sbo-rt-content code.macro,#sbo-rt-content .orangered{color:rgb(255,69,0);}#sbo-rt-content code.number,#sbo-rt-content .brown{color:rgb(165,42,42);}#sbo-rt-content code.operator,#sbo-rt-content .black{color:#000;}#sbo-rt-content code.preCondit,#sbo-rt-content .teal{color:rgb(0,128,128);}#sbo-rt-content code.preProc,#sbo-rt-content .fuschia{color:rgb(255,0,255);}#sbo-rt-content code.repeat,#sbo-rt-content .indigo{color:rgb(75,0,130);}#sbo-rt-content code.special,#sbo-rt-content .saddlebrown{color:rgb(139,69,19);}#sbo-rt-content code.specialchar,#sbo-rt-content .magenta{color:rgb(255,0,255);}#sbo-rt-content code.specialcomment,#sbo-rt-content .seagreen{color:rgb(46,139,87);}#sbo-rt-content code.statement,#sbo-rt-content .forestgreen{color:rgb(34,139,34);}#sbo-rt-content code.storageclass,#sbo-rt-content .plum{color:rgb(221,160,221);}#sbo-rt-content code.string,#sbo-rt-content .darkred{color:rgb(139,0,0);}#sbo-rt-content code.structure,#sbo-rt-content .chocolate{color:rgb(210,106,30);}#sbo-rt-content code.tag,#sbo-rt-content .darkcyan{color:rgb(0,139,139);}#sbo-rt-content code.todo,#sbo-rt-content .black{color:#000;}#sbo-rt-content code.type,#sbo-rt-content .mediumslateblue{color:rgb(123,104,238);}#sbo-rt-content code.typedef,#sbo-rt-content .darkgreen{color:rgb(0,100,0);}#sbo-rt-content code.underlined{text-decoration:underline;}#sbo-rt-content pre code.hll{background-color:#ffc}#sbo-rt-content pre code.c{color:#09F;font-style:italic}#sbo-rt-content pre code.err{color:#A00}#sbo-rt-content pre code.k{color:#069;font-weight:bold}#sbo-rt-content pre code.o{color:#555}#sbo-rt-content pre code.cm{color:#35586C;font-style:italic}#sbo-rt-content pre code.cp{color:#099}#sbo-rt-content pre code.c1{color:#35586C;font-style:italic}#sbo-rt-content pre code.cs{color:#35586C;font-weight:bold;font-style:italic}#sbo-rt-content pre code.gd{background-color:#FCC}#sbo-rt-content pre code.ge{font-style:italic}#sbo-rt-content pre code.gr{color:#F00}#sbo-rt-content pre code.gh{color:#030;font-weight:bold}#sbo-rt-content pre code.gi{background-color:#CFC}#sbo-rt-content pre code.go{color:#000}#sbo-rt-content pre code.gp{color:#009;font-weight:bold}#sbo-rt-content pre code.gs{font-weight:bold}#sbo-rt-content pre code.gu{color:#030;font-weight:bold}#sbo-rt-content pre code.gt{color:#9C6}#sbo-rt-content pre code.kc{color:#069;font-weight:bold}#sbo-rt-content pre code.kd{color:#069;font-weight:bold}#sbo-rt-content pre code.kn{color:#069;font-weight:bold}#sbo-rt-content pre code.kp{color:#069}#sbo-rt-content pre code.kr{color:#069;font-weight:bold}#sbo-rt-content pre code.kt{color:#078;font-weight:bold}#sbo-rt-content pre code.m{color:#F60}#sbo-rt-content pre code.s{color:#C30}#sbo-rt-content pre code.na{color:#309}#sbo-rt-content pre code.nb{color:#366}#sbo-rt-content pre code.nc{color:#0A8;font-weight:bold}#sbo-rt-content pre code.no{color:#360}#sbo-rt-content pre code.nd{color:#99F}#sbo-rt-content pre code.ni{color:#999;font-weight:bold}#sbo-rt-content pre code.ne{color:#C00;font-weight:bold}#sbo-rt-content pre code.nf{color:#C0F}#sbo-rt-content pre code.nl{color:#99F}#sbo-rt-content pre code.nn{color:#0CF;font-weight:bold}#sbo-rt-content pre code.nt{color:#309;font-weight:bold}#sbo-rt-content pre code.nv{color:#033}#sbo-rt-content pre code.ow{color:#000;font-weight:bold}#sbo-rt-content pre code.w{color:#bbb}#sbo-rt-content pre code.mf{color:#F60}#sbo-rt-content pre code.mh{color:#F60}#sbo-rt-content pre code.mi{color:#F60}#sbo-rt-content pre code.mo{color:#F60}#sbo-rt-content pre code.sb{color:#C30}#sbo-rt-content pre code.sc{color:#C30}#sbo-rt-content pre code.sd{color:#C30;font-style:italic}#sbo-rt-content pre code.s2{color:#C30}#sbo-rt-content pre code.se{color:#C30;font-weight:bold}#sbo-rt-content pre code.sh{color:#C30}#sbo-rt-content pre code.si{color:#A00}#sbo-rt-content pre code.sx{color:#C30}#sbo-rt-content pre code.sr{color:#3AA}#sbo-rt-content pre code.s1{color:#C30}#sbo-rt-content pre code.ss{color:#A60}#sbo-rt-content pre code.bp{color:#366}#sbo-rt-content pre code.vc{color:#033}#sbo-rt-content pre code.vg{color:#033}#sbo-rt-content pre code.vi{color:#033}#sbo-rt-content pre code.il{color:#F60}#sbo-rt-content pre code.g{color:#050}#sbo-rt-content pre code.l{color:#C60}#sbo-rt-content pre code.l{color:#F90}#sbo-rt-content pre code.n{color:#008}#sbo-rt-content pre code.nx{color:#008}#sbo-rt-content pre code.py{color:#96F}#sbo-rt-content pre code.p{color:#000}#sbo-rt-content pre code.x{color:#F06}#sbo-rt-content div.blockquote_sampler_toc{width:95%;margin:5px 5px 5px 10px !important}#sbo-rt-content div{font-family:serif,"DejaVuSerif";text-align:left}
    </style><script> // <![CDATA[
    var g = {
      position_cache: {
        
          "chapter": "/api/v1/book/0596007124/chapter/ch08.html",
          "book_id": "0596007124",
          "chapter_uri": "ch08.html",
          "position": 0,
          "user_uuid": "48b847cc-4100-401a-9732-d0a93f06ed1e",
          "next_chapter_uri": "/library/view/head-first-design/0596007124/ch09.html"
        
      },
      title: "Head First Design Patterns",
      author_list: "Kathy Sierra, Bert Bates, Elisabeth Robson, Eric Freeman",
      format: "book",
      source: "application/epub+zip",
      is_system_book: true,
      is_public: false,
      loaded_from_server: true,
      allow_scripts: false,
      has_mathml: false
    };
    // ]]></script><script src="/static/js/src/modernizr.8e35451ddb64.js"></script><script>
    
      

      
        
          window.PUBLIC_ANNOTATIONS = true;
        
      

      window.MOBILE_PUBLIC_ANNOTATIONS = false;

    

    
      window.PRIVACY_CONTROL_OVERRIDE = false;
    

      window.PRIVACY_CONTROL_SWITCH = true;

      window.PUBLISHER_PAGES = true;

      window.SBO = {
        "constants": {
          "SITB_ENDPOINT": "/api/v2/sitb/",
          "SEARCH_SELECT_ENDPOINT": "https://learning.oreilly.com/api/v2/search/select/",
          "ENABLE_ONLINE_TRAINING": true
        }
      };
  </script><link rel="canonical" href="https://learning.oreilly.com/library/view/head-first-design/0596007124/ch08.html"/><meta name="description" content="Chapter 8. The Template Method Pattern: Encapsulating Algorithms We’re on an encapsulation roll; we’ve encapsulated object creation, method invocation, complex interfaces, ducks, pizzas...what could be next? We’re going to get down to ... "><meta property="og:title" content="8. The Template Method Pattern: Encapsulating Algorithms" /><meta itemprop="isPartOf" content="/library/view/head-first-design/0596007124/" /><meta itemprop="name" content="8. The Template Method Pattern: Encapsulating Algorithms" /><meta property="og:url" itemprop="url" content="https://learning.oreilly.com/library/view/head-first-design/0596007124/ch08.html" /><meta property="og:site_name" content="Safari" /><meta property="og:image" itemprop="thumbnailUrl" content="https://learning.oreilly.com/library/cover/0596007124/" /><meta property="og:description" itemprop="description" content="Chapter 8. The Template Method Pattern: Encapsulating Algorithms We’re on an encapsulation roll; we’ve encapsulated object creation, method invocation, complex interfaces, ducks, pizzas...what could be next? We’re going to get down to ... "><meta itemprop="inLanguage" content="en" /><meta itemprop="publisher" content="O&#39;Reilly Media, Inc." /><meta property="og:type" content="book" /><meta property="og:book:isbn" itemprop="isbn" content="9780596007126" /><meta property="og:book:author" itemprop="author" content="Kathy Sierra" /><meta property="og:book:author" itemprop="author" content="Bert Bates" /><meta property="og:book:author" itemprop="author" content="Elisabeth Robson" /><meta property="og:book:author" itemprop="author" content="Eric Freeman" /><meta property="og:book:tag" itemprop="about" content="Core Programming" /><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@safari"><style type="text/css" id="font-styles" data-template="#sbo-rt-content, #sbo-rt-content p, #sbo-rt-content div { font-size: <%= font_size %> !important; }"></style><style type="text/css" id="font-family" data-template="#sbo-rt-content, #sbo-rt-content p, #sbo-rt-content div { font-family: <%= font_family %> !important; }"></style><style type="text/css" id="column-width" data-template="#sbo-rt-content { max-width: <%= column_width %>% !important; margin: 0 auto !important; }"></style><noscript><meta http-equiv="refresh" content="0; url=/library/no-js/" /></noscript><script type="text/javascript">
    (function(i,s,o,g,r,a,m) {
      i['GoogleAnalyticsObject']=r;
      i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();
      a=s.createElement(o),m=s.getElementsByTagName(o)[0];
      a.async=1;
      a.src=g;
      m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    var matches = document.cookie.match(/BrowserCookie\s*=\s*([a-f0-9\-]{36})/),
      user_uuid = null;

    if (matches && matches.length === 2) {
      user_uuid = matches[1];
    }

  
    ga('create', 'UA-39299553-7', {'userId': '48b847cc-4100-401a-9732-d0a93f06ed1e' });
  

  
    
      ga('set', 'dimension1', 'B2B');
    
  

  ga('set', 'dimension6', user_uuid);

  
    ga('set', 'dimension2', '48b847cc-4100-401a-9732-d0a93f06ed1e');
    
      ga('set', 'dimension7', '0014100001N37poAAB');
    
  

  

  

  //enable enhanced link tracking
  ga('require', 'linkid', 'linkid.js');

  // reading interface will track pageviews itself
  if (document.location.pathname.indexOf("/library/view") !== 0) {
    ga('send', 'pageview');
  }
  </script><script>
    var dataLayer = window.dataLayer || [];

    
      window.medalliaVsgUserIdentifier = '48b847cc-4100-401a-9732-d0a93f06ed1e';
      dataLayer.push({userIdentifier: '48b847cc-4100-401a-9732-d0a93f06ed1e'});
      dataLayer.push({loggedIn: 'yes'});

      
        window.medalliaVsgAccountIdentifier = '555c1d98-46da-46de-8ca0-0032dbcc46d2';
        
        dataLayer.push({orgID: '555c1d98-46da-46de-8ca0-0032dbcc46d2'});
        

        window.medalliaVsgIsIndividual = false;
        
          
          dataLayer.push({learningAccountType: 'enterprise'});
          
        

        
          dataLayer.push({learningPaidAccount: 'yes'});
        
      
    

    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-5P4V6Z');
    (function () {
      var VERSION = 'V1.1';
      var AUTHOR = 'Awwad';
      if (!window.GtmHelper)
        window.GtmHelper = function () {
          var instance = this;
          var loc = document.location;
          this.version = VERSION;
          this.author = AUTHOR;
          this.readCookie = function (name) {
            var nameEQ = name + "=";
            var ca = document.cookie.split(';');
            for (var i = 0; i < ca.length; i++) {
              var c = ca[i];
              while (c.charAt(0) == ' ') c = c.substring(1, c.length);
              if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
            }
            return null;
          };
          this.createCookie = function (name, value, days, cookieDomain) {
            var domain = "";
            var expires = "";

            if (days) {
              var date = new Date();
              date.setTime(date.getTime() + Math.ceil(days * 24 * 60 * 60 * 1000));
              var expires = " expires=" + date.toGMTString() + ";";
            }

            if (typeof (cookieDomain) != 'undefined')
              domain = " domain=" + cookieDomain + "; ";

            document.cookie = name + "=" + value + ";" + expires + domain + "path=/";
          };

          this.isDuplicated = function (currentTransactionId) {
            // the previous transaction id:
            var previousTransIdValue = this.readCookie("previousTransId");

            if (currentTransactionId === previousTransIdValue) {
              return true; // Duplication
            } else {
              return false;
            }
          };
        }
    })()
  </script><script defer src="/static/js/build/vendor.75d9ef59282e.js"></script><script defer src="/static/js/build/reader.a89acaddae62.js"></script></head>


<body class="reading sidenav nav-collapsed  scalefonts">

    
  <noscript> 
    <iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P4V6Z"
            height="0" width="0"
            style="display:none;visibility:hidden">
    </iframe>
  </noscript>



    
      <div class="hide working" role="status">
        <div class="working-image"></div>
      </div>
      <div class="sbo-site-nav">
        

  




<a href="#container" class="skip">Skip to content</a><header class="topbar t-topbar"><nav role="navigation" class="js-site-nav"><ul class="topnav"><li class="t-logo"><a href="/home/" class="l0 None safari-home nav-icn js-keyboard-nav-home"><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M11.738 14H9.254v-3.676a.617.617 0 0 0-.621-.613H7.39a.617.617 0 0 0-.62.613V14H4.284a.617.617 0 0 1-.622-.613V10.22c0-.327.132-.64.367-.87l3.547-3.493a.627.627 0 0 1 .875 0l3.54 3.499c.234.229.366.54.367.864v3.167a.617.617 0 0 1-.62.613zM7.57 2.181a.625.625 0 0 1 .882 0l5.77 5.692-.93.92-5.28-5.209-5.28 5.208-.932-.919 5.77-5.692z" /></svg><span>Safari Home</span></a></li><li><a href="/resource-centers/" class="t-resource-centers-nav l0 nav-icn"><?xml version="1.0" encoding="UTF-8"?><svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Topic-Page-Design" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Heron-Button" transform="translate(-20.000000, -78.000000)" fill="#4A3A30"><g id="Group-9" transform="translate(20.000000, 78.000000)"><rect id="Rectangle" x="9.6" y="0" width="6.4" height="6.4" rx="0.503118"></rect><rect id="Rectangle" x="9.6" y="9.6" width="6.4" height="6.4" rx="0.503118"></rect><rect id="Rectangle" x="0" y="9.6" width="6.4" height="6.4" rx="0.503118"></rect></g></g></g></svg><span>Resource Centers</span></a></li><li><a href="/playlists/" class="t-queue-nav l0 nav-icn None"><?xml version="1.0" encoding="UTF-8"?><svg width="21px" height="17px" viewBox="0 0 21 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch --><title>icon_Playlist_sml</title><desc>Created with Sketch.</desc><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="icon_Playlist_sml" fill-rule="nonzero" fill="#000000"><g id="playlist-icon"><g id="Group-6"><rect id="Rectangle-path" x="5" y="0" width="16" height="3" rx="0.5"></rect><circle id="Oval" cx="1.5" cy="1.5" r="1.5"></circle></g><g id="Group-5" transform="translate(0.000000, 7.000000)"><circle id="Oval" cx="1.5" cy="1.5" r="1.5"></circle><rect id="Rectangle-path" x="5" y="0" width="16" height="3" rx="0.5"></rect></g><g id="Group-5-Copy" transform="translate(0.000000, 14.000000)"><circle id="Oval" cx="1.5" cy="1.5" r="1.5"></circle><rect id="Rectangle-path" x="5" y="0" width="16" height="3" rx="0.5"></rect></g></g></g></g></svg><span>
               Playlists
            </span></a></li><li class="search"><a href="#" class="t-search-nav trigger nav-icn l0" data-dropdown-selector=".searchbox"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20" height="20" version="1.1" fill="#4A3C31"><desc>search icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M31.3 0C20.9 0 12.5 8.4 12.5 18.8 12.5 22.5 13.6 25.9 15.4 28.8L1.2 42.9C-0.4 44.5-0.4 47.2 1.2 48.8 2 49.6 3.1 50 4.2 50 5.2 50 6.3 49.6 7.1 48.8L21.2 34.6C24.1 36.5 27.5 37.5 31.3 37.5 41.6 37.5 50 29.1 50 18.8 50 8.4 41.6 0 31.3 0ZM31.3 31.3C24.4 31.3 18.8 25.6 18.8 18.8 18.8 11.9 24.4 6.3 31.3 6.3 38.1 6.3 43.8 11.9 43.8 18.8 43.8 25.6 38.1 31.3 31.3 31.3Z"/></g></svg><span>Search</span></a></li><li class="usermenu dropdown"><a href="#" class="trigger l0 nav-icn nav-dropdown"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" version="1.1" fill="#4A3C31"><desc>navigation arrow</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M0.1 12.5L9.7 3.1C9.8 3 9.9 3 10 3 10.1 3 10.2 3 10.3 3.1L19.9 12.5C20 12.5 20 12.6 20 12.8 20 12.9 20 13 19.9 13L17 15.9C16.9 16 16.8 16 16.7 16 16.5 16 16.4 16 16.4 15.9L10 9.7 3.6 15.9C3.6 16 3.5 16 3.3 16 3.2 16 3.1 16 3 15.9L0.1 13C0 12.9 0 12.8 0 12.7 0 12.7 0 12.6 0.1 12.5Z"/></g></svg><span>Expand Nav</span></a><div class="drop-content"><ul><li><a href="/history/" class="t-recent-nav l1 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20" height="20" version="1.1" fill="#4A3C31"><desc>recent items icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M25 0C11.2 0 0 11.2 0 25 0 38.8 11.2 50 25 50 38.8 50 50 38.8 50 25 50 11.2 38.8 0 25 0ZM6.3 25C6.3 14.6 14.6 6.3 25 6.3 35.4 6.3 43.8 14.6 43.8 25 43.8 35.4 35.4 43.8 25 43.8 14.6 43.8 6.3 35.4 6.3 25ZM31.8 31.5C32.5 30.5 32.4 29.2 31.6 28.3L27.1 23.8 27.1 12.8C27.1 11.5 26.2 10.4 25 10.4 23.9 10.4 22.9 11.5 22.9 12.8L22.9 25.7 28.8 31.7C29.2 32.1 29.7 32.3 30.2 32.3 30.8 32.3 31.3 32 31.8 31.5Z"/></g></svg><span>History</span></a></li><li><a href="/topics" class="t-topics-link l1 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 55" width="20" height="20" version="1.1" fill="#4A3C31"><desc>topics icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M25 55L50 41.262 50 13.762 25 0 0 13.762 0 41.262 25 55ZM8.333 37.032L8.333 17.968 25 8.462 41.667 17.968 41.667 37.032 25 46.538 8.333 37.032Z"/></g></svg><span>Topics</span></a></li><li><a href="/learning-paths/" class="l1 nav-icn t-learningpaths-nav js-toggle-menu-item"><?xml version="1.0" encoding="UTF-8"?><svg width="32px" height="32px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><!-- Generator: Sketch 52.5 (67469) - http://www.bohemiancoding.com/sketch --><title>Mask</title><desc>Created with Sketch.</desc><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><path d="M0,16.0214227 C0,15.0387209 0.796453294,14.2411658 1.77779753,14.2411658 C2.75914177,14.2411658 3.55559506,15.0387209 3.55559506,16.0214227 C3.55559506,17.0041246 2.75914177,17.8016797 1.77779753,17.8016797 C0.796453294,17.8016797 0,17.0041246 0,16.0214227 Z M9.77788642,5.22914885 C8.9280992,5.72049977 7.84008711,5.42853763 7.34941499,4.57757479 C6.85874287,3.72661195 7.15030167,2.63709467 8.00008889,2.14574375 C8.84987611,1.65439282 9.9378882,1.94635496 10.4285603,2.7973178 C10.9192324,3.64828064 10.6276736,4.73779792 9.77788642,5.22914885 Z M4.57213969,7.35869225 C5.42192691,7.85004318 5.71348571,8.93956046 5.22281359,9.79052329 C4.73214147,10.6414861 3.64412938,10.9334483 2.79434216,10.4420974 C1.94455494,9.95074642 1.65299614,8.86122915 2.14366826,8.01026631 C2.63434038,7.15930347 3.72235247,6.86734132 4.57213969,7.35869225 Z M2.79434216,21.6007481 C3.64412938,21.1093972 4.73214147,21.4013594 5.22281359,22.2523222 C5.71348571,23.103285 5.42192691,24.1928023 4.57213969,24.6841532 C3.72235247,25.1755042 2.63434038,24.883542 2.14366826,24.0325792 C1.65299614,23.1816163 1.94455494,22.0920991 2.79434216,21.6007481 Z M7.34941499,27.4652707 C7.84008711,26.6143079 8.9280992,26.3223457 9.77788642,26.8136966 C10.6276736,27.3050476 10.9192324,28.3945649 10.4285603,29.2455277 C9.9378882,30.0964905 8.84987611,30.3884527 8.00008889,29.8971017 C7.15030167,29.4057508 6.85874287,28.3162335 7.34941499,27.4652707 Z M18.7118524,11.3165596 C21.3074367,12.8173162 22.1963355,16.1392758 20.6976522,18.738451 C19.1989689,21.3358459 15.8815987,22.2259744 13.2860143,20.726998 C10.6922077,19.2262414 9.80330893,15.9042818 11.3002144,13.3051066 C12.7988978,10.7059314 16.116268,9.81580294 18.7118524,11.3165596 Z M26.7821642,27.8093944 L30.1315348,31.1633985 C30.3982044,31.4304371 30.2097579,31.8844026 29.8346426,31.8844026 L21.5945511,31.8844026 C21.1287681,31.8844026 20.751875,31.5069881 20.751875,31.0405608 L20.751875,22.7890697 C20.751875,22.4134355 21.2052134,22.2247282 21.4701052,22.4899865 L24.2843587,25.3081333 C26.8337204,23.0240636 28.4444049,19.7092251 28.4444049,16.0223129 C28.4444049,9.15052091 22.8621207,3.56051397 15.9998222,3.56051397 L15.9998222,0 C24.8230314,0 32,7.18689745 32,16.0223129 C32,20.6919269 29.9750886,24.8790914 26.7821642,27.8093944 Z" id="Mask" fill="#8B889A"></path></g></svg><span>Learning Paths</span></a></li><li class="nav-offers flyout-parent"><a href="#" class="l1 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20" height="20" version="1.1" fill="#4A3C31"><desc>offers icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M35.9 20.6L27 15.5C26.1 15 24.7 15 23.7 15.5L14.9 20.6C13.9 21.1 13.2 22.4 13.2 23.4L13.2 41.4C13.2 42.4 13.9 43.7 14.9 44.2L23.3 49C24.2 49.5 25.6 49.5 26.6 49L35.9 43.6C36.8 43.1 37.6 41.8 37.6 40.8L37.6 23.4C37.6 22.4 36.8 21.1 35.9 20.6L35.9 20.6ZM40 8.2C39.1 7.6 37.6 7.6 36.7 8.2L30.2 11.9C29.3 12.4 29.3 13.2 30.2 13.8L39.1 18.8C40 19.4 40.7 20.6 40.7 21.7L40.7 39C40.7 40.1 41.4 40.5 42.4 40L48.2 36.6C49.1 36.1 49.8 34.9 49.8 33.8L49.8 15.6C49.8 14.6 49.1 13.3 48.2 12.8L40 8.2 40 8.2ZM27 10.1L33.6 6.4C34.5 5.9 34.5 5 33.6 4.5L26.6 0.5C25.6 0 24.2 0 23.3 0.5L16.7 4.2C15.8 4.7 15.8 5.6 16.7 6.1L23.7 10.1C24.7 10.6 26.1 10.6 27 10.1ZM10.1 21.7C10.1 20.6 10.8 19.4 11.7 18.8L20.6 13.8C21.5 13.2 21.5 12.4 20.6 11.9L13.6 7.9C12.7 7.4 11.2 7.4 10.3 7.9L1.6 12.8C0.7 13.3 0 14.6 0 15.6L0 33.8C0 34.9 0.7 36.1 1.6 36.6L8.4 40.5C9.3 41 10.1 40.6 10.1 39.6L10.1 21.7 10.1 21.7Z"/></g></svg><span>Offers & Deals</span></a><ul class="flyout"><li><a href="/oreilly-conferences/" class="l2 nav-icn"><span>Conferences</span></a></li><li><a href="https://get.oreilly.com/email-signup.html" target="_blank" class="l2 nav-icn"><span>Newsletters</span></a></li></ul></li><li class="nav-highlights"><a href="/u/48b847cc-4100-401a-9732-d0a93f06ed1e/" class="t-highlights-nav l1 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 35" width="20" height="20" fill="#4A3C31"><path d="M13.325 18.071H8.036c0-6.736 4.324-10.925 14.464-12.477V0C6.37 1.113 0 10.632 0 22.113 0 29.406 3.477 35 10.403 35c5.142 0 9.175-3.515 9.175-8.816 0-4.628-2.367-7.293-6.253-8.113zm27.5 0h-5.26c0-6.736 4.295-10.925 14.435-12.477V0C33.899 1.113 27.5 10.632 27.5 22.113 27.5 29.406 30.977 35 37.932 35c5.113 0 9.146-3.515 9.146-8.816 0-4.628-2.338-7.293-6.253-8.113z" fill-rule="evenodd"/></svg><span>Highlights</span></a></li><li><a href="/u/preferences/" class="t-settings-nav l1 js-settings nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 53" width="20" height="20" version="1.1" fill="#4A3C31"><desc>settings icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M44.6 29.6C44.7 28.6 44.8 27.5 44.8 26.5 44.8 25.5 44.7 24.4 44.6 23.4L49.6 19C50 18.8 50.1 18.3 49.9 17.9 48.9 14.7 47.1 11.7 44.9 9.1 44.6 8.8 44.2 8.7 43.8 8.8L37.4 11.1C35.8 9.8 34 8.7 32.1 8L30.9 1.4C30.8 0.9 30.4 0.6 30 0.5 26.7-0.2 23.3-0.2 20 0.5 19.6 0.6 19.2 0.9 19.1 1.4L17.9 8C16 8.7 14.1 9.8 12.6 11.1L6.2 8.8C5.8 8.7 5.4 8.8 5.1 9.1 2.9 11.7 1.1 14.7 0.1 17.9 -0.1 18.3 0 18.8 0.4 19L5.4 23.4C5.3 24.4 5.2 25.5 5.2 26.5 5.2 27.5 5.3 28.6 5.4 29.6L0.4 34C0 34.2-0.1 34.7 0.1 35.1 1.1 38.3 2.9 41.4 5.1 43.9 5.4 44.2 5.8 44.4 6.2 44.2L12.6 42C14.1 43.2 16 44.3 17.9 45L19.1 51.7C19.2 52.1 19.6 52.5 20 52.5 21.6 52.8 23.3 53 25 53 26.7 53 28.4 52.8 30 52.5 30.4 52.5 30.8 52.1 30.9 51.7L32.1 45C34 44.3 35.8 43.2 37.4 42L43.8 44.2C44.2 44.4 44.6 44.2 44.9 43.9 47.1 41.4 48.9 38.3 49.9 35.1 50.1 34.7 50 34.2 49.6 34L44.6 29.6ZM25 36.4C19.6 36.4 15.2 32 15.2 26.5 15.2 21 19.6 16.6 25 16.6 30.4 16.6 34.8 21 34.8 26.5 34.8 32 30.4 36.4 25 36.4Z"/></g></svg><span>Settings</span></a></li><li><a href="https://www.oreilly.com/online-learning/support/" class="l1 no-icon">Support</a></li><li><a href="/accounts/logout/" class="l1 no-icon">Sign Out</a></li></ul><ul class="profile"><li><a href="/u/preferences/" class="l2 nav-icn None"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 53" width="20" height="20" version="1.1" fill="#4A3C31"><desc>settings icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M44.6 29.6C44.7 28.6 44.8 27.5 44.8 26.5 44.8 25.5 44.7 24.4 44.6 23.4L49.6 19C50 18.8 50.1 18.3 49.9 17.9 48.9 14.7 47.1 11.7 44.9 9.1 44.6 8.8 44.2 8.7 43.8 8.8L37.4 11.1C35.8 9.8 34 8.7 32.1 8L30.9 1.4C30.8 0.9 30.4 0.6 30 0.5 26.7-0.2 23.3-0.2 20 0.5 19.6 0.6 19.2 0.9 19.1 1.4L17.9 8C16 8.7 14.1 9.8 12.6 11.1L6.2 8.8C5.8 8.7 5.4 8.8 5.1 9.1 2.9 11.7 1.1 14.7 0.1 17.9 -0.1 18.3 0 18.8 0.4 19L5.4 23.4C5.3 24.4 5.2 25.5 5.2 26.5 5.2 27.5 5.3 28.6 5.4 29.6L0.4 34C0 34.2-0.1 34.7 0.1 35.1 1.1 38.3 2.9 41.4 5.1 43.9 5.4 44.2 5.8 44.4 6.2 44.2L12.6 42C14.1 43.2 16 44.3 17.9 45L19.1 51.7C19.2 52.1 19.6 52.5 20 52.5 21.6 52.8 23.3 53 25 53 26.7 53 28.4 52.8 30 52.5 30.4 52.5 30.8 52.1 30.9 51.7L32.1 45C34 44.3 35.8 43.2 37.4 42L43.8 44.2C44.2 44.4 44.6 44.2 44.9 43.9 47.1 41.4 48.9 38.3 49.9 35.1 50.1 34.7 50 34.2 49.6 34L44.6 29.6ZM25 36.4C19.6 36.4 15.2 32 15.2 26.5 15.2 21 19.6 16.6 25 16.6 30.4 16.6 34.8 21 34.8 26.5 34.8 32 30.4 36.4 25 36.4Z"/></g></svg><span>Settings</span></a></li><li><a href="https://www.oreilly.com/online-learning/support/" class="l2">Support</a></li><li><a href="/accounts/logout/" class="l2">Sign Out</a></li></ul></div></li></ul></nav></header>



      </div>
      <div id="container" class="application">
        
          <div class="nav-container clearfix">
            


            
            
          </div>

          

  <div class="js-toc">
    
      <div class="sbo-reading-menu sbo-menu-top"><section class="sbo-toc-container toc-menu"><a href="#" class="sbo-toc-thumb"><span class="sbo-title ss-list"><h1><div class="visuallyhidden">Table of Contents for </div>
      
      Head First Design Patterns
      
    </h1></span></a><div class="toc-contents"></div></section></div>

    

    <div class="interface-controls interface-controls-top">
      <ul class="interface-control-btns js-bitlist js-reader">
        <li class="js-search-in-archive search-in-archive t-search-in-archive"><a href="#" title="Search in archive" class="js-search-controls search-controls"><span class="icon">Search in book...</span></a><form class="search-archive-bar js-search-form"><input type="search" name="query" placeholder="Search inside this book..." autocomplete="off"></form><div class="search-archive-results"><div class="js-sitb-results-region"></div></div></li><li class="queue-control"><div class="js-content-uri" data-content-uri="/api/v1/book/0596007124/chapter/ch08.html"><div class="js-collections-dropdown collections-dropdown menu-bit-cards"></div></div></li><li class="js-font-control-panel font-control-activator"><a href="#" data-push-state="false" id="font-controls" title="Change font size" aria-label="Change font size"><span class="icon">Toggle Font Controls</span></a></li><li class="dropdown sharing-controls"><a href="#" class="trigger" data-push-state="false" title="Share" aria-label="Share"><i class="fa fa-share"></i></a><ul class="social-sharing dropdown-menu"><li><a
        class="twitter share-button t-twitter"
        target="_blank"
        aria-label="Share this section on Twitter"
        title="Share this section on Twitter"
      
        href="https://twitter.com/share?url=https://learning.oreilly.com/library/view/head-first-design/0596007124/ch08.html&text=Head%20First%20Design%20Patterns&via=safari"
      ><span>Twitter</span></a></li><li><a
        class="facebook share-button t-facebook"
        target="_blank"
        aria-label="Share this section on Facebook"
        title="Share this section on Facebook"
        href="https://www.facebook.com/sharer/sharer.php?u=https://learning.oreilly.com/library/view/head-first-design/0596007124/ch08.html"
      ><span>Facebook</span></a></li><li><a
        class="googleplus share-button t-googleplus"
        target="_blank"
        aria-label="Share this secton on Google Plus"
        title="Share this secton on Google Plus"
        href="https://plus.google.com/share?url=https://learning.oreilly.com/library/view/head-first-design/0596007124/ch08.html"
      ><span>Google Plus</span></a></li><li><a
        class="email share-button t-email"
        aria-label="Share this section via email"
        title="Share this section via email"
      
        href="mailto:?subject=Safari: 8.%20The%20Template%20Method%20Pattern%3A%20Encapsulating%20Algorithms&body=https://learning.oreilly.com/library/view/head-first-design/0596007124/ch08.html%0D%0Afrom Head%20First%20Design%20Patterns%0D%0A"
      ><span>Email</span></a></li></ul></li>
      </ul>
    </div>

    
    <section role="document">
        
        




  <script defer src="/static/js/build/djangoMessagesPage.9240133f6829.js"></script>


        
	  <div class="t-sbo-prev sbo-prev sbo-nav-top">
  
    
      
        <a href="/library/view/head-first-design/0596007124/ch07.html" class="prev nav-link">
      
          <span aria-hidden="true" class="pagination-label t-prev-label">Prev</span>
          <span class="visuallyhidden">Previous Chapter</span>
          <div class="pagination-title t-prev-title">7. The Adapter and Facade Patterns: Being Adaptive</div>
        </a>
    
  
  </div>

  <div class="t-sbo-next sbo-next sbo-nav-top">
  
    
      
        <a href="/library/view/head-first-design/0596007124/ch09.html" class="next nav-link">
      
          <span aria-hidden="true" class="pagination-label t-next-label">Next</span>
          <span class="visuallyhidden">Next Chapter</span>
          <div class="pagination-title t-next-title">9. The Iterator and Composite Patterns: Well-Managed Collections</div>
        </a>
    
  
  </div>



<div id="sbo-rt-content"><section class="chapter" title="Chapter 8. The Template Method Pattern: Encapsulating Algorithms" epub:type="chapter" id="template_method_pattern_encapsulating_al"><div class="titlepage"><div><div><h2 class="title">Chapter 8. The Template Method Pattern: Encapsulating Algorithms</h2></div></div></div><div class="informalfigure"><a id="med_id00399a"></a><div class="mediaobject"><a id="med_id00399"></a><img src="/library/view/head-first-design/0596007124/figs/web/283fig01.png.jpg" alt="image with no caption" width="541" height="544"></div></div><p><a id="iddle1045" class="indexterm"></a><a id="iddle1474" class="indexterm"></a><span class="strong"><strong>We’re on an encapsulation roll; we’ve encapsulated object creation, method invocation, complex interfaces, ducks, pizzas...what could be next?</strong></span> We’re going to get down to encapsulating pieces of algorithms so that subclasses can hook themselves right into a computation anytime they want. We’re even going to learn about a design principle inspired by Hollywood.</p><div class="sect1" title="It’s time for some more caffeine"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="itapostrophes_time_for_some_more_caffein">It’s time for some more caffeine</h2></div></div></div><p><a id="iddle1436" class="indexterm"></a><a id="iddle2354" class="indexterm"></a>Some people can’t live without their coffee; some people can’t live without their tea. The common ingredient? Caffeine, of course!</p><p>But there’s more; tea and coffee are made in very similar ways. Let’s check it out:</p><div class="informalfigure"><a id="med_id00400a"></a><div class="mediaobject"><a id="med_id00400"></a><img src="/library/view/head-first-design/0596007124/figs/web/284fig01.png.jpg" alt="image with no caption" width="703" height="581"></div></div></div><div class="sect1" title="Whipping up some coffee and tea classes (in Java)"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="whipping_up_some_coffee_and_tea_classes">Whipping up some coffee and tea classes (in Java)</h2></div></div></div><p>Let’s play “coding barista” and write some code for creating coffee and tea.</p><div class="informalfigure"><a id="med_id00401a"></a><div class="mediaobject"><a id="med_id00401"></a><img src="/library/view/head-first-design/0596007124/figs/web/285fig01.png.jpg" alt="image with no caption" width="95" height="146"></div></div><p>Here’s the coffee:</p><div class="informalfigure"><a id="med_id00402a"></a><div class="mediaobject"><a id="med_id00402"></a><img src="/library/view/head-first-design/0596007124/figs/web/285fig02.png.jpg" alt="image with no caption" width="856" height="754"></div></div></div><div class="sect1" title="And now the Tea..."><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="and_now_the_teahellip">And now the Tea...</h2></div></div></div><div class="informalfigure"><a id="med_id00403a"></a><div class="mediaobject"><a id="med_id00403"></a><img src="/library/view/head-first-design/0596007124/figs/web/286fig01.png.jpg" alt="image with no caption" width="94" height="110"></div></div><div class="informalfigure"><a id="med_id00404a"></a><div class="mediaobject"><a id="med_id00404"></a><img src="/library/view/head-first-design/0596007124/figs/web/286fig02.png.jpg" alt="image with no caption" width="804" height="568"></div></div><div class="informalfigure"><a id="med_id00405a"></a><div class="mediaobject"><a id="med_id00405"></a><img src="/library/view/head-first-design/0596007124/figs/web/286fig03.png.jpg" alt="image with no caption" width="497" height="382"></div></div><div class="sidebar"><a id="design_puzzle-id00087"></a><div class="sidebar-title">Design Puzzle</div><p><a id="iddle1516" class="indexterm"></a>You’ve seen that the Coffee and Tea classes have a fair bit of code duplication. Take another look at the Coffee and Tea classes and draw a class diagram showing how you’d redesign the classes to remove redundancy:</p></div></div><div class="sect1" title="Sir, may I abstract your Coffee, Tea?"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="sircomma_may_i_abstract_your_coffeecomma">Sir, may I abstract your Coffee, Tea?</h2></div></div></div><p>It looks like we’ve got a pretty straightforward design exercise on our hands with the Coffee and Tea classes. Your first cut might have looked something like this:</p><div class="informalfigure"><a id="med_id00406a"></a><div class="mediaobject"><a id="med_id00406"></a><img src="/library/view/head-first-design/0596007124/figs/web/288fig01.png.jpg" alt="image with no caption" width="963" height="599"></div></div><div class="note" title="Brain Power"><h3 class="title"><a id="ch08note01"></a>Brain Power</h3><p>Did we do a good job on the redesign? Hmmmm, take another look. Are we overlooking some other commonality? What are other ways that Coffee and Tea are similar?</p></div></div><div class="sect1" title="Taking the design further..."><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="taking_the_design_furtherhellip">Taking the design further...</h2></div></div></div><p>So what else do Coffee and Tea have in common? Let’s start with the recipes.</p><div class="informalfigure"><a id="med_id00407a"></a><div class="mediaobject"><a id="med_id00407"></a><img src="/library/view/head-first-design/0596007124/figs/web/289fig01.png.jpg" alt="image with no caption" width="618" height="319"></div></div><p>Notice that both recipes follow the same algorithm:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: none"><p><span class="strong"><strong>① Boil some water.</strong></span></p><div class="note" title="Note"><h3 class="title"><a id="ch08note01a"></a>Note</h3><p>These two are already abstracted into the base class.</p></div></li><li class="listitem" style="list-style-type: none"><p><span class="strong"><strong>② Use the hot water to extract the coffee or tea.</strong></span></p><div class="note" title="Note"><h3 class="title"><a id="ch08note01b"></a>Note</h3><p>These aren’t abstracted but are the same; they just apply to different beverages.</p></div></li><li class="listitem" style="list-style-type: none"><p><span class="strong"><strong>③ Pour the resulting beverage into a cup.</strong></span></p></li><li class="listitem" style="list-style-type: none"><p><span class="strong"><strong>④ Add the appropriate condiments to the beverage.</strong></span></p></li></ul></div><p>So, can we find a way to abstract prepareRecipe() too? Yes, let’s find out...</p></div><div class="sect1" title="Abstracting prepareRecipe()"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="abstracting_preparerecipeleft_parenthesi">Abstracting prepareRecipe()</h2></div></div></div><p><a id="iddle1046" class="indexterm"></a><a id="iddle1475" class="indexterm"></a><a id="iddle2136" class="indexterm"></a><a id="iddle2355" class="indexterm"></a>Let’s step through abstracting prepareRecipe() from each subclass (that is, the Coffee and Tea classes)...</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: none"><p>① The first problem we have is that Coffee uses brewCoffeeGrinds() and addSugarAndMilk() methods, while Tea uses steepTeaBag() and addLemon() methods.</p><div class="informalfigure"><a id="med_id00408a"></a><div class="mediaobject"><a id="med_id00408"></a><img src="/library/view/head-first-design/0596007124/figs/web/290fig01.png.jpg" alt="image with no caption" width="587" height="175"></div></div><p>Let’s think through this: steeping and brewing aren’t so different; they’re pretty analogous. So let’s make a new method name, say, brew(), and we’ll use the same name whether we’re brewing coffee or steeping tea.</p><p>Likewise, adding sugar and milk is pretty much the same as adding a lemon: both are adding condiments to the beverage. Let’s also make up a new method name, addCondiments(), to handle this. So, our new prepareRecipe() method will look like this:</p><a id="pro_id00029"></a><pre class="programlisting">void prepareRecipe() {
    boilWater();
    <span class="gray-background">brew();</span>
    pourInCup();
    <span class="gray-background">addCondiments();</span>
}</pre></li><li class="listitem" style="list-style-type: none"><p>② Now we have a new prepareRecipe() method, but we need to fit it into the code. To do this we are going to start with the CaffeineBeverage superclass:</p><div class="informalfigure"><a id="med_id00409a"></a><div class="mediaobject"><a id="med_id00409"></a><img src="/library/view/head-first-design/0596007124/figs/web/291fig01.png.jpg" alt="image with no caption" width="750" height="505"></div></div></li><li class="listitem" style="list-style-type: none"><p>③ Finally, we need to deal with the Coffee and Tea classes. They now rely on CaffeineBeverage to handle the recipe, so they just need to handle brewing and condiments:</p><div class="informalfigure"><a id="med_id00410a"></a><div class="mediaobject"><a id="med_id00410"></a><img src="/library/view/head-first-design/0596007124/figs/web/291fig02.png.jpg" alt="image with no caption" width="772" height="389"></div></div></li></ul></div><div class="sidebar"><a id="sharpen_your_pencil-id00088"></a><div class="sidebar-title">Sharpen your pencil</div><p><a id="iddle1537" class="indexterm"></a><a id="iddle2276" class="indexterm"></a>Draw the new class diagram now that we’ve moved the implementation of prepareRecipe() into the CaffeineBeverage class:</p></div></div><div class="sect1" title="What have we done?"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="what_have_we_donequestion_mark-id00089">What have we done?</h2></div></div></div><div class="informalfigure"><a id="med_id00411a"></a><div class="mediaobject"><a id="med_id00411"></a><img src="/library/view/head-first-design/0596007124/figs/web/293fig01.png.jpg" alt="image with no caption" width="804" height="841"></div></div></div><div class="sect1" title="Meet the Template Method"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="meet_the_template_method">Meet the Template Method</h2></div></div></div><p><a id="iddle1047" class="indexterm"></a><a id="iddle1476" class="indexterm"></a><a id="iddle2356" class="indexterm"></a><a id="iddle2438" class="indexterm"></a><a id="iddle2452" class="indexterm"></a>We’ve basically just implemented the Template Method Pattern. What’s that? Let’s look at the structure of the CaffeineBeverage class; it contains the actual “template method”:</p><div class="informalfigure"><a id="med_id00412a"></a><div class="mediaobject"><a id="med_id00412"></a><img src="/library/view/head-first-design/0596007124/figs/web/294fig01.png.jpg" alt="image with no caption" width="795" height="719"></div></div><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>The Template Method defines the steps of an algorithm and allows subclasses to provide the implementation for one or more steps.</strong></span></p></blockquote></div></div><div class="sect1" title="Let’s make some tea..."><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="letapostrophes_make_some_teahellip">Let’s make some tea...</h2></div></div></div><div class="informalfigure"><a id="med_id00413a"></a><div class="mediaobject"><a id="med_id00413"></a><img src="/library/view/head-first-design/0596007124/figs/web/common17.png.jpg" alt="image with no caption" width="105" height="95"></div></div><p><span class="strong"><strong>Behind the Scenes</strong></span></p><p>Let’s step through making a tea and trace through how the template method works. You’ll see that the template method controls the algorithm; at certain points in the algorithm, it lets the subclass supply the implementation of the steps...</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: none"><p>① Okay, first we need a Tea object...</p><a id="pro_id00030"></a><pre class="programlisting">Tea myTea = new Tea();</pre></li><li class="listitem" style="list-style-type: none"><p>② Then we call the template method:</p><div class="informalfigure"><a id="med_id00414a"></a><div class="mediaobject"><a id="med_id00414"></a><img src="/library/view/head-first-design/0596007124/figs/web/295fig01.png.jpg" alt="image with no caption" width="622" height="304"></div></div><p>which follows the algorithm for making caffeine beverages...</p></li><li class="listitem" style="list-style-type: none"><p>③ First we boil water:</p><div class="informalfigure"><a id="med_id00415a"></a><div class="mediaobject"><a id="med_id00415"></a><img src="/library/view/head-first-design/0596007124/figs/web/295fig02.png.jpg" alt="image with no caption" width="1000" height="369"></div></div><p>which happens in CaffeineBeverage.</p></li><li class="listitem" style="list-style-type: none"><p>④ Next we need to brew the tea, which only the subclass knows how to do:</p><a id="pro_id00031"></a><pre class="programlisting">brew();</pre></li><li class="listitem" style="list-style-type: none"><p>⑤ Now we pour the tea in the cup; this is the same for all beverages so it happens in CaffeineBeverage:</p><a id="pro_id00032"></a><pre class="programlisting">pourInCup();</pre></li><li class="listitem" style="list-style-type: none"><p>⑥ Finally, we add the condiments, which are specific to each beverage, so the subclass implements this:</p><a id="pro_id00033"></a><pre class="programlisting">addCondiments();</pre></li></ul></div></div><div class="sect1" title="What did the Template Method get us?"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="what_did_the_template_method_get_usquest">What did the Template Method get us?</h2></div></div></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col class="c1"><col class="c2"></colgroup><tbody><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span class="inlinemediaobject"><a id="inline_id00032"></a><img src="/library/view/head-first-design/0596007124/figs/web/296fig01.png.jpg" alt="" width="78" height="185"></span></p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p><span class="inlinemediaobject"><a id="inline_id00033"></a><img src="/library/view/head-first-design/0596007124/figs/web/296fig02.png.jpg" alt="" width="127" height="200"></span></p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span class="strong"><strong>Underpowered Tea &amp; Coffee implementation</strong></span></p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p><span class="strong"><strong>New, hip CaffeineBeverage powered by Template Method</strong></span></p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Coffee and Tea are running the show; they control the algorithm.</p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>The CaffeineBeverage class runs the show; it has the algorithm, and protects it.</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Code is duplicated across Coffee and Tea.</p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>The CaffeineBeverage class maximizes reuse among the subclasses.</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Code changes to the algorithm require opening the subclasses and making multiple changes.</p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>The algorithm lives in one place and code changes only need to be made there.</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Classes are organized in a structure that requires a lot of work to add a new caffeine beverage.</p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>The Template Method version provides a framework that other caffeine beverages can be plugged into. New caffeine beverages only need to implement a couple of methods.</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; "><p>Knowledge of the algorithm and how to implement it is distributed over many classes.</p></td><td style="vertical-align: top; "><p>The CaffeineBeverage class concentrates knowledge about the algorithm and relies on subclasses to provide complete implementations.</p></td></tr></tbody></table></div></div><div class="sect1" title="Template Method Pattern defined"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="template_method_pattern_defined">Template Method Pattern defined</h2></div></div></div><p><a id="iddle1050" class="indexterm"></a><a id="iddle1479" class="indexterm"></a><a id="iddle2358" class="indexterm"></a><a id="iddle2457" class="indexterm"></a><a id="iddle2459" class="indexterm"></a>You’ve seen how the Template Method Pattern works in our Tea and Coffee example; now, check out the official definition and nail down all the details:</p><div class="note" title="Note"><h3 class="title"><a id="ch08note02"></a>Note</h3><p><span class="strong"><strong>The Template Method Pattern</strong></span> defines the skeleton of an algorithm in a method, deferring some steps to subclasses. Template Method lets subclasses redefine certain steps of an algorithm without changing the algorithm’s structure.</p></div><p>This pattern is all about creating a template for an algorithm. What’s a template? As you’ve seen it’s just a method; more specifically, it’s a method that defines an algorithm as a set of steps. One or more of these steps is defined to be abstract and implemented by a subclass. This ensures the algorithm’s structure stays unchanged, while subclasses provide some part of the implementation.</p><p>Let’s check out the class diagram:</p><div class="informalfigure"><a id="med_id00416a"></a><div class="mediaobject"><a id="med_id00416"></a><img src="/library/view/head-first-design/0596007124/figs/web/297fig01.png.jpg" alt="image with no caption" width="913" height="589"></div></div><div class="sidebar"><a id="code_up_close-id00090"></a><div class="sidebar-title">Code Up Close</div><p><a id="iddle1002" class="indexterm"></a><a id="iddle1049" class="indexterm"></a><a id="iddle1478" class="indexterm"></a><a id="iddle2357" class="indexterm"></a><a id="iddle2453" class="indexterm"></a><a id="iddle2458" class="indexterm"></a>Let’s take a closer look at how the AbstractClass is defined, including the template method and primitive operations.</p><div class="informalfigure"><a id="med_id00417a"></a><div class="mediaobject"><a id="med_id00417"></a><img src="/library/view/head-first-design/0596007124/figs/web/298fig01.png.jpg" alt="image with no caption" width="675" height="670"></div></div></div><div class="sidebar"><a id="code_way_up_close"></a><div class="sidebar-title">Code Way Up Close</div><p><a id="iddle1003" class="indexterm"></a><a id="iddle1052" class="indexterm"></a><a id="iddle1297" class="indexterm"></a><a id="iddle1481" class="indexterm"></a><a id="iddle1771" class="indexterm"></a><a id="iddle1914" class="indexterm"></a><a id="iddle2360" class="indexterm"></a><a id="iddle2455" class="indexterm"></a><a id="iddle2467" class="indexterm"></a>Now we’re going to look even closer at the types of method that can go in the abstract class:</p><div class="informalfigure"><a id="med_id00418a"></a><div class="mediaobject"><a id="med_id00418"></a><img src="/library/view/head-first-design/0596007124/figs/web/299fig01.png.jpg" alt="image with no caption" width="691" height="697"></div></div></div></div><div class="sect1" title="Hooked on Template Method..."><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="hooked_on_template_methodhellip">Hooked on Template Method...</h2></div></div></div><p>A hook is a method that is declared in the abstract class, but only given an empty or default implementation. This gives subclasses the ability to “hook into” the algorithm at various points, if they wish; a subclass is also free to ignore the hook.</p><div class="informalfigure"><a id="med_id00419a"></a><div class="mediaobject"><a id="med_id00419"></a><img src="/library/view/head-first-design/0596007124/figs/web/300fig01.png.jpg" alt="image with no caption" width="374" height="377"></div></div><p>There are several uses of hooks; let’s take a look at one now. We’ll talk about a few other uses later:</p><div class="informalfigure"><a id="med_id00420a"></a><div class="mediaobject"><a id="med_id00420"></a><img src="/library/view/head-first-design/0596007124/figs/web/300fig02.png.jpg" alt="image with no caption" width="716" height="654"></div></div></div><div class="sect1" title="Using the hook"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="using_the_hook">Using the hook</h2></div></div></div><p>To use the hook, we override it in our subclass. Here, the hook controls whether the CaffeineBeverage evaluates a certain part of the algorithm; that is, whether it adds a condiment to the beverage.</p><p>How do we know whether the customer wants the condiment? Just ask!</p><div class="informalfigure"><a id="med_id00421a"></a><div class="mediaobject"><a id="med_id00421"></a><img src="/library/view/head-first-design/0596007124/figs/web/301fig01.png.jpg" alt="image with no caption" width="746" height="740"></div></div></div><div class="sect1" title="Let’s run the Test Drive"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="letapostrophes_run_the_test_drive">Let’s run the Test Drive</h2></div></div></div><p><a id="iddle1056" class="indexterm"></a><a id="iddle1485" class="indexterm"></a><a id="iddle2361" class="indexterm"></a><a id="iddle2474" class="indexterm"></a>Okay, the water’s boiling... Here’s the test code where we create a hot tea and a hot coffee.</p><div class="informalfigure"><a id="med_id00422a"></a><div class="mediaobject"><a id="med_id00422"></a><img src="/library/view/head-first-design/0596007124/figs/web/302fig01.png.jpg" alt="image with no caption" width="719" height="308"></div></div><p><span class="strong"><strong>And let’s give it a run...</strong></span></p><div class="informalfigure"><a id="med_id00423a"></a><div class="mediaobject"><a id="med_id00423"></a><img src="/library/view/head-first-design/0596007124/figs/web/302fig02.png.jpg" alt="image with no caption" width="588" height="377"></div></div><div class="informalfigure"><a id="med_id00424a"></a><div class="mediaobject"><a id="med_id00424"></a><img src="/library/view/head-first-design/0596007124/figs/web/303fig01.png.jpg" alt="image with no caption" width="390" height="352"></div></div><p><a id="iddle1298" class="indexterm"></a><a id="iddle2454" class="indexterm"></a><a id="iddle2468" class="indexterm"></a>You know what? We agree with you. But you have to admit before you thought of that, it was a pretty cool example of how a hook can be used to conditionally control the flow of the algorithm in the abstract class. Right?</p><p>We’re sure you can think of many other more realistic scenarios where you could use the template method and hooks in your own code.</p><div class="sidebar"><a id="there_are_no_dumb_questions-id00091"></a><div class="sidebar-title">There Are No Dumb Questions</div><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table style="border: 0; width: 100%; "><colgroup><col style="text-align: left; width: 1%; "><col></colgroup><tbody><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch08qa1qe1"></a><a id="ch08qa1q1"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: When I’m creating a template method, how do I know when to use abstract methods and when to use hooks?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch08qa1q1a1"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> Use abstract methods when your subclass MUST provide an implementation of the method or step in the algorithm. Use hooks when that part of the algorithm is optional. With hooks, a subclass may choose to implement that hook, but it doesn’t have to.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch08qa1qe2"></a><a id="ch08qa1q2"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: What are hooks really supposed to be used for?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch08qa1q2a2"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> There are a few uses of hooks. As we just said, a hook may provide a way for a subclass to implement an optional part of an algorithm, or if it isn’t important to the subclass’s implementation, it can skip it. Another use is to give the subclass a chance to react to some step in the template method that is about to happen, or just happened. For instance, a hook method like justReOrderedList() allows the subclass to perform some activity (such as redisplaying an onscreen representation) after an internal list is reordered. As you’ve seen, a hook can also provide a subclass with the ability to make a decision for the abstract class.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch08qa1qe3"></a><a id="ch08qa1q3"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: Does a subclass have to implement all the abstract methods in the AbstractClass?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch08qa1q3a3"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> Yes, each concrete subclass defines the entire set of abstract methods and provides a complete implementation of the undefined steps of the template method’s algorithm.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch08qa1qe4"></a><a id="ch08qa1q4"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: It seems like I should keep my abstract methods small in number; otherwise, it will be a big job to implement them in the subclass.</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch08qa1q4a4"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> That’s a good thing to keep in mind when you write template methods. Sometimes this can be done by not making the steps of your algorithm too granular. But it’s obviously a trade off: the less granularity, the less flexibility.</p><p>Remember, too, that some steps will be optional; so you can implement these as hooks rather than abstract methods, easing the burden on the subclasses of your abstract class.</p></td></tr></tbody></table></div></blockquote></div></div></div><div class="sect1" title="The Hollywood Principle"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="hollywood_principle">The Hollywood Principle</h2></div></div></div><p><a id="iddle1051" class="indexterm"></a><a id="iddle1372" class="indexterm"></a><a id="iddle1410" class="indexterm"></a><a id="iddle1480" class="indexterm"></a><a id="iddle1731" class="indexterm"></a><a id="iddle2359" class="indexterm"></a><a id="iddle2466" class="indexterm"></a>We’ve got another design principle for you; it’s called the Hollywood Principle:</p><div class="informalfigure"><a id="med_id00425a"></a><div class="mediaobject"><a id="med_id00425"></a><img src="/library/view/head-first-design/0596007124/figs/web/304fig01.png.jpg" alt="image with no caption" width="350" height="419"></div></div><div class="note" title="Note"><h3 class="title"><a id="ch08note03"></a>Note</h3><p><span class="bolditalic">The Hollywood Principle</span></p><p><span class="emphasis"><em>Don’t call us, we’ll call you.</em></span></p></div><p>Easy to remember, right? But what has it got to do with OO design?</p><p>The Hollywood Principle gives us a way to prevent “dependency rot.” Dependency rot happens when you have high-level components depending on low-level components depending on high-level components depending on sideways components depending on low-level components, and so on. When rot sets in, no one can easily understand the way a system is designed.</p><p>With the Hollywood Principle, we allow low-level components to hook themselves into a system, but the high-level components determine when they are needed, and how. In other words, the high-level components give the low-level components a “don’t call us, we’ll call you” treatment.</p><div class="informalfigure"><a id="med_id00426a"></a><div class="mediaobject"><a id="med_id00426"></a><img src="/library/view/head-first-design/0596007124/figs/web/304fig02.png.jpg" alt="image with no caption" width="646" height="234"></div></div></div><div class="sect1" title="The Hollywood Principle and Template Method"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="hollywood_principle_and_template_method">The Hollywood Principle and Template Method</h2></div></div></div><p>The connection between the Hollywood Principle and the Template Method Pattern is probably somewhat apparent: when we design with the Template Method Pattern, we’re telling subclasses, “don’t call us, we’ll call you.” How? Let’s take another look at our CaffeineBeverage design:</p><div class="informalfigure"><a id="med_id00427a"></a><div class="mediaobject"><a id="med_id00427"></a><img src="/library/view/head-first-design/0596007124/figs/web/305fig01.png.jpg" alt="image with no caption" width="850" height="502"></div></div><div class="note" title="Brain Power"><h3 class="title"><a id="ch08note04"></a>Brain Power</h3><p>What other patterns make use of the Hollywood Principle?</p><p>The Factory Method, Observer; any others?</p></div><div class="sidebar"><a id="there_are_no_dumb_questions-id00092"></a><div class="sidebar-title">There Are No Dumb Questions</div><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table style="border: 0; width: 100%; "><colgroup><col style="text-align: left; width: 1%; "><col></colgroup><tbody><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch08qa2qe1"></a><a id="ch08qa2q1"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><a id="iddle1371" class="indexterm"></a><a id="iddle1580" class="indexterm"></a><a id="iddle1647" class="indexterm"></a><a id="iddle2408" class="indexterm"></a><a id="iddle2460" class="indexterm"></a><a id="iddle2517" class="indexterm"></a><span class="strong"><strong>Q: How does the Hollywood Principle relate to the Dependency Inversion Principle that we learned a few chapters back?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch08qa2q1a1"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> The Dependency Inversion Principle teaches us to avoid the use of concrete classes and instead work as much as possible with abstractions. The Hollywood Principle is a technique for building frameworks or components so that lower-level components can be hooked into the computation, but without creating dependencies between the lower-level components and the higher-level layers. So, they both have the goal of decoupling, but the Dependency Inversion Principle makes a much stronger and general statement about how to avoid dependencies in design.</p><p>The Hollywood Principle gives us a technique for creating designs that allow low-level structures to interoperate while preventing other classes from becoming too dependent on them.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch08qa2qe2"></a><a id="ch08qa2q2"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: Is a low-level component disallowed from calling a method in a higher-level component?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch08qa2q2a2"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> Not really. In fact, a low-level component will often end up calling a method defined above it in the inheritance hierarchy purely through inheritance. But we want to avoid creating explicit circular dependencies between the low-level component and the high-level ones.</p></td></tr></tbody></table></div></blockquote></div></div><div class="sidebar"><a id="who_does_whatquestion_mark-id00093"></a><div class="sidebar-title">Who Does What?</div><p>Match each pattern with its description:</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col class="c1"><col class="c2"></colgroup><thead><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Pattern</p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>Description</p></td></tr></thead><tbody><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Template Method</p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>Encapsulate interchangeable behaviors and use delegation to decide which behavior to use.</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Strategy</p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>Subclasses decide how to implement steps in an algorithm.</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; "><p>Factory Method</p></td><td style="vertical-align: top; "><p>Subclasses decide which concrete classes to instantiate.</p></td></tr></tbody></table></div></div></div><div class="sect1" title="Template Methods in the Wild"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="template_methods_in_the_wild">Template Methods in the Wild</h2></div></div></div><p><a id="iddle1053" class="indexterm"></a><a id="iddle1482" class="indexterm"></a><a id="iddle2469" class="indexterm"></a>The Template Method Pattern is a very common pattern and you’re going to find lots of it in the wild. You’ve got to have a keen eye, though, because there are many implementations of the template methods that don’t quite look like the textbook design of the pattern.</p><p>This pattern shows up so often because it’s a great design tool for creating frameworks, where the framework controls how something gets done, but leaves you (the person using the framework) to specify your own details about what is actually happening at each step of the framework’s algorithm.</p><p>Let’s take a little safari through a few uses in the wild (well, okay, in the Java API)...</p><div class="informalfigure"><a id="med_id00428a"></a><div class="mediaobject"><a id="med_id00428"></a><img src="/library/view/head-first-design/0596007124/figs/web/307fig01.png.jpg" alt="image with no caption" width="413" height="521"></div></div></div><div class="sect1" title="Sorting with Template Method"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="sorting_with_template_method">Sorting with Template Method</h2></div></div></div><p><a id="iddle1054" class="indexterm"></a><a id="iddle1068" class="indexterm"></a><a id="iddle1483" class="indexterm"></a><a id="iddle2353" class="indexterm"></a><a id="iddle2470" class="indexterm"></a>What’s something we often need to do with arrays? Sort them!</p><div class="informalfigure"><a id="med_id00429a"></a><div class="mediaobject"><a id="med_id00429"></a><img src="/library/view/head-first-design/0596007124/figs/web/308fig01.png.jpg" alt="image with no caption" width="141" height="119"></div></div><p>Recognizing that, the designers of the Java Arrays class have provided us with a handy template method for sorting. Let’s take a look at how this method operates:</p><div class="note" title="Note"><h3 class="title"><a id="ch08note05"></a>Note</h3><p>We’ve pared down this code a little to make it easier to explain. If you’d like to see it all, grab the Java source code and check it out...</p></div><div class="informalfigure"><a id="med_id00430a"></a><div class="mediaobject"><a id="med_id00430"></a><img src="/library/view/head-first-design/0596007124/figs/web/308fig02.png.jpg" alt="image with no caption" width="782" height="756"></div></div></div><div class="sect1" title="We’ve got some ducks to sort..."><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="weapostropheve_got_some_ducks_to_sorthel">We’ve got some ducks to sort...</h2></div></div></div><p>Let’s say you have an array of ducks that you’d like to sort. How do you do it? Well, the sort template method in Arrays gives us the algorithm, but you need to tell it how to compare ducks, which you do by implementing the compareTo() method... Make sense?</p><div class="informalfigure"><a id="med_id00431a"></a><div class="mediaobject"><a id="med_id00431"></a><img src="/library/view/head-first-design/0596007124/figs/web/309fig01.png.jpg" alt="image with no caption" width="198" height="222"></div></div><div class="informalfigure"><a id="med_id00432a"></a><div class="mediaobject"><a id="med_id00432"></a><img src="/library/view/head-first-design/0596007124/figs/web/309fig02.png.jpg" alt="image with no caption" width="435" height="479"></div></div><p>Good point. Here’s the deal: the designers of sort() wanted it to be useful across all arrays, so they had to make sort() a static method that could be used from anywhere. But that’s okay, it works almost the same as if it were in a superclass. Now, here is one more detail: because sort() really isn’t defined in our superclass, the sort() method needs to know that you’ve implemented the compareTo() method, or else you don’t have the piece needed to complete the sort algorithm.</p><p>To handle this, the designers made use of the Comparable interface. All you have to do is implement this interface, which has one method (surprise): compareTo().</p></div><div class="sect1" title="What is compareTo()?"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="what_is_comparetoleft_parenthesisright_p">What is compareTo()?</h2></div></div></div><p>The compareTo() method compares two objects and returns whether one is less than, greater than, or equal to the other. sort() uses this as the basis of its comparison of objects in the array.</p><div class="informalfigure"><a id="med_id00433a"></a><div class="mediaobject"><a id="med_id00433"></a><img src="/library/view/head-first-design/0596007124/figs/web/309fig03.png.jpg" alt="image with no caption" width="667" height="209"></div></div></div><div class="sect1" title="Comparing Ducks and Ducks"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="comparing_ducks_and_ducks">Comparing Ducks and Ducks</h2></div></div></div><p>Okay, so you know that if you want to sort Ducks, you’re going to have to implement this compareTo() method; by doing that you’ll give the Arrays class what it needs to complete the algorithm and sort your ducks.</p><p>Here’s the duck implementation:</p><div class="informalfigure"><a id="med_id00434a"></a><div class="mediaobject"><a id="med_id00434"></a><img src="/library/view/head-first-design/0596007124/figs/web/310fig01.png.jpg" alt="image with no caption" width="225" height="189"></div></div><div class="informalfigure"><a id="med_id00435a"></a><div class="mediaobject"><a id="med_id00435"></a><img src="/library/view/head-first-design/0596007124/figs/web/310fig02.png.jpg" alt="image with no caption" width="821" height="773"></div></div></div><div class="sect1" title="Let’s sort some Ducks"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="letapostrophes_sort_some_ducks">Let’s sort some Ducks</h2></div></div></div><p>Here’s the test drive for sorting Ducks...</p><div class="informalfigure"><a id="med_id00436a"></a><div class="mediaobject"><a id="med_id00436"></a><img src="/library/view/head-first-design/0596007124/figs/web/311fig01.png.jpg" alt="image with no caption" width="776" height="545"></div></div><p><span class="strong"><strong>Let the sorting commence!</strong></span></p><div class="informalfigure"><a id="med_id00437a"></a><div class="mediaobject"><a id="med_id00437"></a><img src="/library/view/head-first-design/0596007124/figs/web/311fig02.png.jpg" alt="image with no caption" width="529" height="391"></div></div></div><div class="sect1" title="The making of the sorting duck machine"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="making_of_the_sorting_duck_machine">The making of the sorting duck machine</h2></div></div></div><div class="informalfigure"><a id="med_id00438a"></a><div class="mediaobject"><a id="med_id00438"></a><img src="/library/view/head-first-design/0596007124/figs/web/common17.png.jpg" alt="image with no caption" width="105" height="95"></div></div><p><span class="strong"><strong>Behind the Scenes</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: none"><p>① First, we need an array of Ducks:</p><a id="pro_id00034"></a><pre class="programlisting"><span class="strong"><strong>Duck[] ducks = {new Duck("Daffy", 8), ... };</strong></span></pre></li><li class="listitem" style="list-style-type: none"><p>② Then we call the sort() template method in the Array class and pass it our ducks:</p><div class="informalfigure"><a id="med_id00439a"></a><div class="mediaobject"><a id="med_id00439"></a><img src="/library/view/head-first-design/0596007124/figs/web/312fig01.png.jpg" alt="image with no caption" width="719" height="305"></div></div><p>The sort() method (and its helper mergeSort()) control the sort procedure.</p></li><li class="listitem" style="list-style-type: none"><p>③ To sort an array, you need to compare two items one by one until the entire list is in sorted order.</p><p>When it comes to comparing two ducks, the sort method relies on the Duck’s compareTo() method to know how to do this. The compareTo() method is called on the first duck and passed the duck to be compared to:</p><div class="informalfigure"><a id="med_id00440a"></a><div class="mediaobject"><a id="med_id00440"></a><img src="/library/view/head-first-design/0596007124/figs/web/312fig02.png.jpg" alt="image with no caption" width="834" height="289"></div></div></li><li class="listitem" style="list-style-type: none"><p>④ If the Ducks are not in sorted order, they’re swapped with the concrete swap() method in Arrays:</p><a id="pro_id00035"></a><pre class="programlisting"><span class="strong"><strong>swap()</strong></span></pre></li><li class="listitem" style="list-style-type: none"><p>⑤ The sort() method continues comparing and swapping Ducks until the array is in the correct order!</p></li></ul></div><div class="sidebar"><a id="there_are_no_dumb_questions-id00094"></a><div class="sidebar-title">There Are No Dumb Questions</div><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table style="border: 0; width: 100%; "><colgroup><col style="text-align: left; width: 1%; "><col></colgroup><tbody><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch08qa3qe1"></a><a id="ch08qa3q1"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><a id="iddle2422" class="indexterm"></a><a id="iddle2471" class="indexterm"></a><span class="strong"><strong>Q: Is this really the Template Method Pattern, or are you trying too hard?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch08qa3q1a1"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> The pattern calls for implementing an algorithm and letting subclasses supply the implementation of the steps—and the Arrays sort is clearly not doing that! But, as we know, patterns in the wild aren’t always just like the textbook patterns. They have to be modified to fit the context and implementation constraints.</p><p>The designers of the Arrays sort() method had a few constraints. In general, you can’t subclass a Java array and they wanted the sort to be used on all arrays (and each array is a different class). So they defined a static method and deferred the comparison part of the algorithm to the items being sorted.</p><p>So, while it’s not a textbook template method, this implementation is still in the spirit of the Template Method Pattern. Also, by eliminating the requirement that you have to subclass Arrays to use this algorithm, they’ve made sorting in some ways more flexible and useful.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch08qa3qe2"></a><a id="ch08qa3q2"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: This implementation of sorting actually seems more like the Strategy Pattern than the Template Method Pattern. Why do we consider it Template Method?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch08qa3q2a2"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> You’re probably thinking that because the Strategy Pattern uses object composition. You’re right in a way—we’re using the Arrays object to sort our array, so that’s similar to Strategy. But remember, in Strategy, the class that you compose with implements the entire algorithm. The algorithm that Arrays implements for sort is incomplete; it needs a class to fill in the missing compareTo() method. So, in that way, it’s more like Template Method.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch08qa3qe3"></a><a id="ch08qa3q3"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: Are there other examples of template methods in the Java API?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch08qa3q3a3"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> Yes, you’ll find them in a few places. For example, java.io has a read() method in InputStream that subclasses must implement and is used by the template method read(byte b[], int off, int len).</p></td></tr></tbody></table></div></blockquote></div></div><div class="note" title="Brain Power"><h3 class="title"><a id="ch08note06"></a>Brain Power</h3><p>We know that we should favor composition over inheritance, right? Well, the implementers of the sort() template method decided not to use inheritance and instead to implement sort() as a static method that is composed with a Comparable at runtime. How is this better? How is it worse? How would you approach this problem? Do Java arrays make this particularly tricky?</p></div><div class="note" title="Brain2 Power"><h3 class="title"><a id="ch08note07"></a>Brain<sup>2</sup> Power</h3><p>Think of another pattern that is a specialization of the template method. In this specialization, primitive operations are used to create and return objects. What pattern is this?</p></div></div><div class="sect1" title="Swingin’ with Frames"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="swinginapostrophe_with_frames">Swingin’ with Frames</h2></div></div></div><p><a id="iddle1055" class="indexterm"></a><a id="iddle1484" class="indexterm"></a><a id="iddle1872" class="indexterm"></a><a id="iddle2449" class="indexterm"></a><a id="iddle2473" class="indexterm"></a>Up next on our Template Method safari... keep your eye out for swinging JFrames!</p><div class="informalfigure"><a id="med_id00441a"></a><div class="mediaobject"><a id="med_id00441"></a><img src="/library/view/head-first-design/0596007124/figs/web/common14.png.jpg" alt="image with no caption" width="158" height="133"></div></div><p>If you haven’t encountered JFrame, it’s the most basic Swing container and inherits a paint() method. By default, paint() does nothing because it’s a hook! By overriding paint(), you can insert yourself into JFrame’s algorithm for displaying its area of the screen and have your own graphic output incorporated into the JFrame. Here’s an embarrassingly simple example of using a JFrame to override the paint() hook method:</p><div class="informalfigure"><a id="med_id00442a"></a><div class="mediaobject"><a id="med_id00442"></a><img src="/library/view/head-first-design/0596007124/figs/web/314fig01.png.jpg" alt="image with no caption" width="727" height="500"></div></div><div class="informalfigure"><a id="med_id00443a"></a><div class="mediaobject"><a id="med_id00443"></a><img src="/library/view/head-first-design/0596007124/figs/web/314fig02.png.jpg" alt="image with no caption" width="543" height="235"></div></div></div><div class="sect1" title="Applets"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="applets">Applets</h2></div></div></div><p><a id="iddle1048" class="indexterm"></a><a id="iddle1058" class="indexterm"></a><a id="iddle1477" class="indexterm"></a><a id="iddle2456" class="indexterm"></a>Our final stop on the safari: the applet.</p><div class="informalfigure"><a id="med_id00444a"></a><div class="mediaobject"><a id="med_id00444"></a><img src="/library/view/head-first-design/0596007124/figs/web/common14.png.jpg" alt="image with no caption" width="158" height="133"></div></div><p>You probably know an applet is a small program that runs in a web page. Any applet must subclass Applet, and this class provides several hooks. Let’s take a look at a few of them:</p><div class="informalfigure"><a id="med_id00445a"></a><div class="mediaobject"><a id="med_id00445"></a><img src="/library/view/head-first-design/0596007124/figs/web/315fig01.png.jpg" alt="image with no caption" width="750" height="624"></div></div><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Concrete applets make extensive use of hooks to supply their own behaviors. Because these methods are implemented as hooks, the applet isn’t required to implement them.</strong></span></p></blockquote></div><div class="sidebar"><a id="fireside_chats-id00095"></a><div class="sidebar-title"><code class="literal">Fireside Chats</code></div><p><a id="iddle2423" class="indexterm"></a><a id="iddle2472" class="indexterm"></a>Tonight’s talk: <span class="strong"><strong>Template Method and Strategy compare methods.</strong></span></p><div class="informaltable"><table style="border-collapse: collapse; border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col class="c1"><col class="c2"></colgroup><thead><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Template Method:</p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>Strategy:</p></td></tr></thead><tbody><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Hey Strategy, what are you doing in my chapter? I figured I’d get stuck with someone boring like Factory Method.</p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p><span class="inlinemediaobject"><a id="inline_id00034"></a><img src="/library/view/head-first-design/0596007124/figs/web/316fig01.png.jpg" alt="" width="249" height="113"></span></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "> </td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>Nope, it’s me, although be careful—you and Factory Method are related, aren’t you?</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>I was just kidding! But seriously, what are you doing here? We haven’t heard from you in eight chapters!</p></td><td style="border-bottom: 0.5pt solid ; "> </td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "> </td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>I’d heard you were on the final draft of your chapter and I thought I’d swing by to see how it was going. We have a lot in common, so I thought I might be able to help...</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>You might want to remind the reader what you’re all about, since it’s been so long.</p></td><td style="border-bottom: 0.5pt solid ; "> </td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "> </td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>I don’t know, since <a class="xref" href="ch01.html" title="Chapter 1. Intro to Design Patterns: Welcome to Design Patterns">Chapter 1</a>, people have been stopping me in the street saying, “Aren’t you that pattern...?” So I think they know who I am. But for your sake: I define a family of algorithms and make them interchangeable. Since each algorithm is encapsulated, the client can use different algorithms easily.</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Hey, that does sound a lot like what I do. But my intent’s a little different from yours; my job is to define the outline of an algorithm, but let my subclasses do some of the work. That way, I can have different implementations of an algorithm’s individual steps, but keep control over the algorithm’s structure. Seems like you have to give up control of your algorithms.</p></td><td style="border-bottom: 0.5pt solid ; "> </td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "> </td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>I’m not sure I’d put it quite like <span class="emphasis"><em>that</em></span>... and anyway, I’m not stuck using inheritance for algorithm implementations. I offer clients a choice of algorithm implementation through object composition.</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>I remember that. But I have more control over my algorithm and I don’t duplicate code. In fact, if every part of my algorithm is the same except for, say, one line, then my classes are much more efficient than yours. All my duplicated code gets put into the superclass, so all the subclasses can share it.</p></td><td style="border-bottom: 0.5pt solid ; "> </td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "> </td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>You might be a little more efficient (just a little) and require fewer objects. <span class="emphasis"><em>And</em></span> you might also be a little less complicated in comparison to my delegation model, but I’m more flexible because I use object composition. With me, clients can change their algorithms at runtime simply by using a different strategy object. Come on, they didn’t choose me for <a class="xref" href="ch01.html" title="Chapter 1. Intro to Design Patterns: Welcome to Design Patterns">Chapter 1</a> for nothing!</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Yeah, well, I’m <span class="emphasis"><em>real</em></span> happy for ya, but don’t forget I’m the most used pattern around. Why? Because I provide a fundamental method for code reuse that allows subclasses to specify behavior. I’m sure you can see that this is perfect for creating frameworks.</p></td><td style="border-bottom: 0.5pt solid ; "> </td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "> </td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>Yeah, I guess... but, what about dependency? You’re way more dependent than me.</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>How’s that? My superclass is abstract.</p></td><td style="border-bottom: 0.5pt solid ; "> </td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "> </td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>But you have to depend on methods implemented in your subclasses, which are part of your algorithm. I don’t depend on anyone; I can do the entire algorithm myself!</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Like I said, Strategy, I’m <span class="emphasis"><em>real</em></span> happy for you. Thanks for stopping by, but I’ve got to get the rest of this chapter done.</p></td><td style="border-bottom: 0.5pt solid ; "> </td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "> </td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>Okay, okay, don’t get touchy. I’ll let you work, but let me know if you need my special techniques anyway; I’m always glad to help.</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; "><p>Got it. Don’t call us, we’ll call you...</p></td><td> </td></tr></tbody></table></div></div><div class="sidebar"><a id="design_patterns_crossword-id00096"></a><div class="sidebar-title">Design Patterns Crossword</div><p>It’s that time again....</p><div class="informalfigure"><a id="med_id00446a"></a><div class="mediaobject"><a id="med_id00446"></a><img src="/library/view/head-first-design/0596007124/figs/web/318fig01.png" alt="image with no caption" width="602" height="511"></div></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col class="c1"><col class="c2"></colgroup><thead><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Across</p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>Down</p></td></tr></thead><tbody><tr><td style="vertical-align: top; border-right: 0.5pt solid ; "><p>1. Strategy uses __________ rather than inheritance.</p>
<p>4. Type of sort used in Arrays.</p>
<p>5. The JFrame hook method that we overrode to print “I Rule”.</p>
<p>6. The Template Method Pattern uses __________ to defer implementation to other classes.</p>
<p>8. Coffee and ________.</p>
<p>9. “Don’t call us, we’ll call you” is known as the __________ Principle.</p>
<p>12. A template method defines the steps of an ____________.</p>
<p>13. In this chapter, we give you more ________.</p>
<p>14. The template method is usually defined in an __________ class.</p>
<p>16. Class that likes web pages.</p></td><td style="vertical-align: top; "><p>2. _____________ algorithm steps are implemented by hook methods.</p>
<p>3. Factory Method is a __________ of Template Method.</p>
<p>7. The steps in the algorithm that must be supplied by the subclasses are usually declared ____________.</p>
<p>8. Huey, Louie, and Dewey all weigh ___________ pounds.</p>
<p>9. A method in the abstract superclass that does nothing or provides default behavior is called a ____________ method.</p>
<p>10. Big-headed pattern.</p>
<p>11. Our favorite coffee shop in Objectville.</p>
<p>15. The Arrays class implements its template method as a __________ method.</p></td></tr></tbody></table></div></div></div><div class="sect1" title="Tools for your Design Toolbox"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="tools_for_your_design_toolbox-id00097">Tools for your Design Toolbox</h2></div></div></div><p>We’ve added Template Method to your toolbox. With Template Method you can reuse code like a pro while keeping control of your algorithms.</p><div class="informalfigure"><a id="med_id00447a"></a><div class="mediaobject"><a id="med_id00447"></a><img src="/library/view/head-first-design/0596007124/figs/web/319fig01.png.jpg" alt="image with no caption" width="568" height="863"></div></div><div class="sidebar"><a id="bullet_points-id00098"></a><div class="sidebar-title">Bullet Points</div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>A “template method” defines the steps of an algorithm, deferring to subclasses for the implementation of those steps.</p></li><li class="listitem"><p>The Template Method Pattern gives us an important technique for code reuse.</p></li><li class="listitem"><p>The template method’s abstract class may define concrete methods, abstract methods, and hooks.</p></li><li class="listitem"><p>Abstract methods are implemented by subclasses.</p></li><li class="listitem"><p>Hooks are methods that do nothing or default behavior in the abstract class, but may be overridden in the subclass.</p></li><li class="listitem"><p>To prevent subclasses from changing the algorithm in the template method, declare the template method as final.</p></li><li class="listitem"><p>The Hollywood Principle guides us to put decision making in high-level modules that can decide how and when to call low-level modules.</p></li><li class="listitem"><p>You’ll see lots of uses of the Template Method Pattern in real-world code, but don’t expect it all (like any pattern) to be designed “by the book.”</p></li><li class="listitem"><p>The Strategy and Template Method Patterns both encapsulate algorithms, one by inheritance and one by composition.</p></li><li class="listitem"><p>The Factory Method is a specialization of Template Method.</p></li></ul></div></div><div class="sidebar"><a id="sharpen_your_pencil_solution-id00099"></a><div class="sidebar-title">Sharpen your pencil Solution</div><p><a id="iddle1538" class="indexterm"></a><a id="iddle1581" class="indexterm"></a><a id="iddle1648" class="indexterm"></a><a id="iddle2277" class="indexterm"></a><a id="iddle2409" class="indexterm"></a><a id="iddle2461" class="indexterm"></a><a id="iddle2518" class="indexterm"></a>Draw the new class diagram now that we’ve moved prepareRecipe() into the CaffeineBeverage class:</p><div class="informalfigure"><a id="med_id00448a"></a><div class="mediaobject"><a id="med_id00448"></a><img src="/library/view/head-first-design/0596007124/figs/web/320fig01.png.jpg" alt="image with no caption" width="432" height="317"></div></div></div><div class="sidebar"><a id="who_does_whatquestion_mark_solut-id00100"></a><div class="sidebar-title">Who Does What? Solution</div><p>Match each pattern with its description:</p><div class="informalfigure"><a id="med_id00449a"></a><div class="mediaobject"><a id="med_id00449"></a><img src="/library/view/head-first-design/0596007124/figs/web/320fig02.png.jpg" alt="image with no caption" width="630" height="357"></div></div></div><div class="sidebar"><a id="design_patterns_crossword_soluti-id00101"></a><div class="sidebar-title">Design Patterns Crossword Solution</div><p>It’s that time again...</p><div class="informalfigure"><a id="med_id00450a"></a><div class="mediaobject"><a id="med_id00450"></a><img src="/library/view/head-first-design/0596007124/figs/web/321fig01.png" alt="image with no caption" width="705" height="597"></div></div></div></div></section></div>



  <div class="t-sbo-prev sbo-prev sbo-nav-bottom">
  
    
      
        <a href="/library/view/head-first-design/0596007124/ch07.html" class="prev nav-link">
      
          <span aria-hidden="true" class="pagination-label t-prev-label">Prev</span>
          <span class="visuallyhidden">Previous Chapter</span>
          <div class="pagination-title t-prev-title">7. The Adapter and Facade Patterns: Being Adaptive</div>
        </a>
    
  
  </div>

  <div class="t-sbo-next sbo-next sbo-nav-bottom">
  
    
      
        <a href="/library/view/head-first-design/0596007124/ch09.html" class="next nav-link">
      
          <span aria-hidden="true" class="pagination-label t-next-label">Next</span>
          <span class="visuallyhidden">Next Chapter</span>
          <div class="pagination-title t-next-title">9. The Iterator and Composite Patterns: Well-Managed Collections</div>
        </a>
    
  
  </div>


        
    </section>
  </div>
<section class="sbo-saved-archives"></section>

<script>
  window.dataLayer = window.dataLayer || [];
  context = {
    product: {
      title: 'Head First Design Patterns',
      type: 'book',
      identifier: '0596007124',
      topic: 'Design Patterns'
    },
    content: {
      title: 'Head First Design Patterns',
      formatType: 'book',
      identifier: '0596007124',
      author: 'Kathy Sierra, Bert Bates, Elisabeth Robson, Eric Freeman',
      publisher: 'O&#39;Reilly Media, Inc.',
      releaseDate: '2004-10-25',
      parentTopic: 'none',
      free: 'no',
      subdirectory: 'none'
    }
  }
  dataLayer.push(context);
</script>



          
          
  




    
    



        
      </div>
      
        



  <footer class="pagefoot t-pagefoot">
    <a href="#" class="icon-up"><div class="visuallyhidden">Back to top</div></a>
    <ul class='js-footer-nav'>
      
        <li><a class="t-resource-centers-footer" href="/resource-centers/">Resource Centers</a></li>
      
      <li>
      <a class="t-queue-footer" href="/playlists/">Playlists</a>
      </li>
      
        <li><a class="t-recent-footer" href="/history/">History</a></li>
        <li><a class="t-topics-footer" href="/topics?q=*&limit=21">Topics</a></li>
      
      <li><a class="t-settings-footer js-settings" href="/u/preferences/">Settings</a></li>
      <li class="full-support"><a href="https://www.oreilly.com/online-learning/support/">Support</a></li>
      <li><a href="https://www.oreilly.com/online-learning/apps.html">Get the App</a></li>
      <li><a href="/accounts/logout/">Sign Out</a></li>
    </ul>
    <span class="copyright">&#169; 2019 <a href="/" target="_blank">Safari</a>.</span>
    <a href="/terms/">Terms of Service</a> /
    <a href="https://www.oreilly.com/privacy.html">Privacy Policy</a>
  </footer>

<script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"applicationID":"172641827,79672898,93931619","transactionName":"YgdaZ0NSW0cEB0RdWltNfkZfUEFdCgofXFBHDVYdR1pQQxZeRl1QQj1aWkU=","applicationTime":9227,"licenseKey":"510f1a6865","errorBeacon":"bam.nr-data.net","agent":"","beacon":"bam.nr-data.net","queueTime":3}</script>


      
    
    <script src="/jsi18n/web/" charset="utf-8"></script>
    <script src="/library/jsi18n/appcache/" charset="utf-8"></script>
  </body>
</html>
